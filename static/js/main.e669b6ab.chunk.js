(this.webpackJsonpmch_app=this.webpackJsonpmch_app||[]).push([[0],Array(22).concat([function(e){e.exports=JSON.parse('{"taskVersion":"1.0.0","taskName":"mch_app","debug":false,"awsLambda":{"saveTaskData":{"host":"de8cnjde61.execute-api.us-east-2.amazonaws.com","path":"/default/saveTaskData"},"fetchLink":{"host":"3pnzb6n9vf.execute-api.us-east-2.amazonaws.com","path":"/default/fetchLink"}}}')},,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,a){e.exports=a.p+"static/media/psych_logo.6956dbda.jpg"},,,,,,,,,,,,,,,,,,,,,,,function(e,t,a){},,,function(e,t,a){e.exports=a.p+"static/media/Gtone.5dfde805.wav"},function(e,t,a){"use strict";(function(e){a.d(t,"b",(function(){return i})),a.d(t,"a",(function(){return l}));var n=a(427),r=a(440);const s=a(22);function i(t,a){return new Promise((function(i,l){const o=r.stringify({encrypted_metadata:t,data:a}),c={hostname:s.awsLambda.saveTaskData.host,port:443,path:s.awsLambda.saveTaskData.path,method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded","Content-Length":e.byteLength(o)}},u=n.request(c,e=>{e.setEncoding("utf8"),e.on("data",()=>{}),e.on("end",i)});u.on("error",e=>{s.debug&&(console.log("ERROR:"),console.log(e)),l(e)}),u.write(o),u.end()}))}function l(t){return new Promise((function(a,i){const l=r.stringify({encrypted_metadata:t}),o={hostname:s.awsLambda.fetchLink.host,port:443,path:s.awsLambda.fetchLink.path,method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded","Content-Length":e.byteLength(l)}},c=n.request(o,e=>{e.setEncoding("utf8");var t="";e.on("data",(function(e){t+=e})),e.on("end",()=>a(t))});c.on("error",e=>{s.debug&&(console.log("ERROR:"),console.log(e)),i(e)}),c.write(l),c.end()}))}}).call(this,a(3).Buffer)},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},,,,,,,function(e,t,a){e.exports=a.p+"static/media/rating_keydown_1.d9fbf22f.png"},function(e,t,a){e.exports=a.p+"static/media/rating_keydown_2.6a659dd4.png"},function(e,t,a){e.exports=a.p+"static/media/rating_keydown_3.d955b91a.png"},function(e,t,a){e.exports=a.p+"static/media/rating_keydown_4.c8b7c686.png"},function(e,t,a){e.exports=a.p+"static/media/rating_keydown_5.34958048.png"},function(e,t,a){e.exports=a.p+"static/media/surprisal_keydown_1.825ce77e.png"},function(e,t,a){e.exports=a.p+"static/media/surprisal_keydown_2.9b785fe2.png"},function(e,t,a){e.exports=a.p+"static/media/surprisal_keydown_3.31e72759.png"},function(e,t,a){e.exports=a.p+"static/media/surprisal_keydown_4.f39127fa.png"},function(e,t,a){e.exports=a.p+"static/media/surprisal_keydown_5.2e871950.png"},function(e,t,a){e.exports=a.p+"static/media/H1.17a9fb6c.mp3"},function(e,t,a){e.exports=a.p+"static/media/H2.fdf43dde.mp3"},function(e,t,a){e.exports=a.p+"static/media/H3.fed7043a.mp3"},function(e,t,a){e.exports=a.p+"static/media/H4.51d460f5.mp3"},function(e,t,a){e.exports=a.p+"static/media/H5.6f16e3a9.mp3"},function(e,t,a){e.exports=a.p+"static/media/H6.7124b0a4.mp3"},function(e,t,a){e.exports=a.p+"static/media/H7.ab4e2798.mp3"},function(e,t,a){e.exports=a.p+"static/media/H8.349f90cb.mp3"},function(e,t,a){e.exports=a.p+"static/media/H9.7e065ff2.mp3"},function(e,t,a){e.exports=a.p+"static/media/H10.bd11fa39.mp3"},function(e,t,a){e.exports=a.p+"static/media/C1.e7734ecc.mp3"},function(e,t,a){e.exports=a.p+"static/media/C2.130cd39c.mp3"},function(e,t,a){e.exports=a.p+"static/media/C3.cd4c8d7c.mp3"},function(e,t,a){e.exports=a.p+"static/media/C4.58d1583f.mp3"},function(e,t,a){e.exports=a.p+"static/media/C5.dad85b6b.mp3"},function(e,t,a){e.exports=a.p+"static/media/C6.0a18f6b1.mp3"},function(e,t,a){e.exports=a.p+"static/media/C7.a1221442.mp3"},function(e,t,a){e.exports=a.p+"static/media/C8.c59cd0c4.mp3"},function(e,t,a){e.exports=a.p+"static/media/C9.ba9bbc60.mp3"},function(e,t,a){e.exports=a.p+"static/media/C10.230f6687.mp3"},function(e,t,a){e.exports=a.p+"static/media/S1.4db58cc8.mp3"},function(e,t,a){e.exports=a.p+"static/media/S2.51600ef1.mp3"},function(e,t,a){e.exports=a.p+"static/media/S3.0f94cffa.mp3"},function(e,t,a){e.exports=a.p+"static/media/S4.e8996583.mp3"},function(e,t,a){e.exports=a.p+"static/media/S5.b9af763f.mp3"},function(e,t,a){e.exports=a.p+"static/media/S6.a2997e6a.mp3"},function(e,t,a){e.exports=a.p+"static/media/S7.229edd93.mp3"},function(e,t,a){e.exports=a.p+"static/media/S8.207cf9ae.mp3"},function(e,t,a){e.exports=a.p+"static/media/S9.67ca89d7.mp3"},function(e,t,a){e.exports=a.p+"static/media/S10.5c8bbc9e.mp3"},function(e,t,a){e.exports=a.p+"static/media/1 (81).164f3872.mp3"},function(e,t,a){e.exports=a.p+"static/media/2 (25).2ed4d454.mp3"},function(e,t,a){e.exports=a.p+"static/media/3 (82).30b4ea4f.mp3"},function(e,t,a){e.exports=a.p+"static/media/4 (69).0bd814a9.mp3"},function(e,t,a){e.exports=a.p+"static/media/5 (31).0749ce56.mp3"},function(e,t,a){e.exports=a.p+"static/media/6 (52).7075cd83.mp3"},function(e,t,a){e.exports=a.p+"static/media/7 (36).9d1e2332.mp3"},function(e,t,a){e.exports=a.p+"static/media/8 (68).dfeb806c.mp3"},function(e,t,a){e.exports=a.p+"static/media/9 (66).1876cccc.mp3"},function(e,t,a){e.exports=a.p+"static/media/10 (29).33225801.mp3"},function(e,t,a){e.exports=a.p+"static/media/11 (76).86220077.wav"},function(e,t,a){e.exports=a.p+"static/media/12 (21).620c3841.wav"},function(e,t,a){e.exports=a.p+"static/media/13 (37).91fcd9fc.wav"},function(e,t,a){e.exports=a.p+"static/media/14 (59).38f5376d.wav"},function(e,t,a){e.exports=a.p+"static/media/15 (77).20c181f8.wav"},function(e,t,a){e.exports=a.p+"static/media/16 (07).921bde9b.wav"},function(e,t,a){e.exports=a.p+"static/media/17 (02).b02b393f.wav"},function(e,t,a){e.exports=a.p+"static/media/18 (64).a5559605.wav"},function(e,t,a){e.exports=a.p+"static/media/19 (10).bda85c47.wav"},function(e,t,a){e.exports=a.p+"static/media/20 (19).a036ad35.wav"},function(e,t,a){e.exports=a.p+"static/media/21 (17).4faa4f34.wav"},function(e,t,a){e.exports=a.p+"static/media/22 (50).ffd7920e.wav"},function(e,t,a){e.exports=a.p+"static/media/23 (79).bbaa9dcf.wav"},function(e,t,a){e.exports=a.p+"static/media/24 (88).86c27b3d.wav"},function(e,t,a){e.exports=a.p+"static/media/25 (67).660335dd.wav"},function(e,t,a){e.exports=a.p+"static/media/26 (35).3c0cc27f.wav"},function(e,t,a){e.exports=a.p+"static/media/27 (57).b16a93c4.wav"},function(e,t,a){e.exports=a.p+"static/media/28 (11).7b0fcb96.wav"},function(e,t,a){e.exports=a.p+"static/media/29 (33).89020f5d.wav"},function(e,t,a){e.exports=a.p+"static/media/30 (27).43ec09da.wav"},function(e,t,a){e.exports=a.p+"static/media/31 (42).d76bacc4.wav"},function(e,t,a){e.exports=a.p+"static/media/32 (41).e3831bbc.wav"},function(e,t,a){e.exports=a.p+"static/media/33 (53).a54792e8.wav"},function(e,t,a){e.exports=a.p+"static/media/34 (08).a64afd9a.wav"},function(e,t,a){e.exports=a.p+"static/media/35 (74).42337cab.wav"},function(e,t,a){e.exports=a.p+"static/media/36 (30).525aab2c.wav"},function(e,t,a){e.exports=a.p+"static/media/37 (15).fc98c229.wav"},function(e,t,a){e.exports=a.p+"static/media/38 (20).b047fc14.wav"},function(e,t,a){e.exports=a.p+"static/media/39 (13).2b9d061b.wav"},function(e,t,a){e.exports=a.p+"static/media/40 (80).069a1208.wav"},function(e,t,a){e.exports=a.p+"static/media/41 (34).d011fa07.wav"},function(e,t,a){e.exports=a.p+"static/media/42 (73).5391126a.wav"},function(e,t,a){e.exports=a.p+"static/media/43 (51).3a70c701.wav"},function(e,t,a){e.exports=a.p+"static/media/44 (26).867e5dd9.wav"},function(e,t,a){e.exports=a.p+"static/media/45 (38).b204398f.wav"},function(e,t,a){e.exports=a.p+"static/media/46 (48).9d76b18c.wav"},function(e,t,a){e.exports=a.p+"static/media/47 (71).17613142.wav"},function(e,t,a){e.exports=a.p+"static/media/48 (61).1dda5117.wav"},function(e,t,a){e.exports=a.p+"static/media/49 (90).9935143c.wav"},function(e,t,a){e.exports=a.p+"static/media/50 (87).6735cd5f.wav"},function(e,t,a){e.exports=a.p+"static/media/51 (78).c411c8a4.wav"},function(e,t,a){e.exports=a.p+"static/media/52 (28).d5847d9d.wav"},function(e,t,a){e.exports=a.p+"static/media/53 (18).b5f81db3.wav"},function(e,t,a){e.exports=a.p+"static/media/54 (70).eebe9a0d.wav"},function(e,t,a){e.exports=a.p+"static/media/55 (01).5e28626b.wav"},function(e,t,a){e.exports=a.p+"static/media/56 (54).261c179c.wav"},function(e,t,a){e.exports=a.p+"static/media/57 (72).1bed9e4c.wav"},function(e,t,a){e.exports=a.p+"static/media/58 (85).3bbf6cb3.wav"},function(e,t,a){e.exports=a.p+"static/media/59 (32).12ba9e74.wav"},function(e,t,a){e.exports=a.p+"static/media/60 (65).ec1e3f0f.wav"},function(e,t,a){e.exports=a.p+"static/media/61 (40).b44dd0af.wav"},function(e,t,a){e.exports=a.p+"static/media/62 (60).add2afb2.wav"},function(e,t,a){e.exports=a.p+"static/media/63 (04).1e6d688e.wav"},function(e,t,a){e.exports=a.p+"static/media/64 (75).682e2971.wav"},function(e,t,a){e.exports=a.p+"static/media/65 (24).ce4c82a3.wav"},function(e,t,a){e.exports=a.p+"static/media/66 (63).92714c93.wav"},function(e,t,a){e.exports=a.p+"static/media/67 (16).7a6f17a1.wav"},function(e,t,a){e.exports=a.p+"static/media/68 (05).6c451bf0.wav"},function(e,t,a){e.exports=a.p+"static/media/69 (91).df252199.wav"},function(e,t,a){e.exports=a.p+"static/media/70 (55).bc93a007.wav"},function(e,t,a){e.exports=a.p+"static/media/71 (86).f144d174.wav"},function(e,t,a){e.exports=a.p+"static/media/72 (47).7210595b.wav"},function(e,t,a){e.exports=a.p+"static/media/73 (43).858cfe2f.wav"},function(e,t,a){e.exports=a.p+"static/media/74 (56).0abb20c9.wav"},function(e,t,a){e.exports=a.p+"static/media/75 (62).55d67c70.wav"},function(e,t,a){e.exports=a.p+"static/media/76 (84).0f80b98f.wav"},function(e,t,a){e.exports=a.p+"static/media/77 (14).fda45a1a.wav"},function(e,t,a){e.exports=a.p+"static/media/78 (46).b4439337.wav"},function(e,t,a){e.exports=a.p+"static/media/79 (23).1aa3c961.wav"},function(e,t,a){e.exports=a.p+"static/media/80 (22).41e90969.wav"},function(e,t,a){e.exports=a.p+"static/media/81 (83).7c89565c.wav"},function(e,t,a){e.exports=a.p+"static/media/82 (39).e269e35b.wav"},function(e,t,a){e.exports=a.p+"static/media/83 (44).7d5b6f0a.wav"},function(e,t,a){e.exports=a.p+"static/media/84 (45).67306438.wav"},function(e,t,a){e.exports=a(444)},,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},,,,,,,function(e,t){},,function(e,t){},,,,,,,,,,function(e,t){},,function(e,t){},,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t){},,function(e,t){},function(e,t){},,,,,function(e,t){},,function(e,t){},,,,,,,,,,,,,,,,,,,,function(e,t){},,,,,,,,,,,,,,,,function(e,t){},,,function(e,t){},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,a){e.exports=a.p+"static/media/demoG.8f966a49.mp3"},,,,,,,,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},,function(e,t,a){},function(e,t,a){},,,,,,,,,,,,function(e,t){},,,,,function(e,t,a){},function(e,t,a){"use strict";a.r(t),a.d(t,"history",(function(){return Ms}));var n=a(0),r=a.n(n),s=a(141),i=a.n(s),l=(a(272),a(273),a(6)),o=a(47),c=a.n(o);a(274);a(10),a(275);function u(){try{return localStorage.setItem("test","test"),localStorage.removeItem("test"),!0}catch(e){return!1}}const m=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(408);const d=function(){var e={background:127.5,angle:Math.floor(135*Math.random())+45,imsize:256,initcontrast:.5,threshold:.2,phases:[0,.25],phase:0,alpha:.5,ppd:80,frequency:0};return e.phase=e.phases[Math.round(Math.random())],e.frequency=2/e.ppd,e}(),p=(function(e,t){e.map(e=>d.background+e*d.background*t)}(function(e){for(var t=[],a=[],n=1;n<e.imsize+1;n++)for(var r=1;r<e.imsize+1;r++)t[4*(n-1+(r-1)*e.imsize)+0]=n-(e.imsize+1)/2,t[4*(n-1+(r-1)*e.imsize)+1]=n-(e.imsize+1)/2,t[4*(n-1+(r-1)*e.imsize)+2]=n-(e.imsize+1)/2,t[4*(n-1+(r-1)*e.imsize)+3]=n-(e.imsize+1)/2,a[4*(n-1+(r-1)*e.imsize)+0]=r-(e.imsize+1)/2,a[4*(n-1+(r-1)*e.imsize)+1]=r-(e.imsize+1)/2,a[4*(n-1+(r-1)*e.imsize)+2]=r-(e.imsize+1)/2,a[4*(n-1+(r-1)*e.imsize)+3]=r-(e.imsize+1)/2;for(var s=[],i=0;i<t.length&&i<a.length;i++)s[i]=.5*Math.cos(2*Math.PI*(e.frequency*(Math.sin(Math.PI/180*e.angle)*t[i]+Math.cos(Math.PI/180*e.angle)*a[i])+e.phase));return s}(d),0),{duration:300,amp:1,frequency:1250});function h(e,t,a){return Math.pow(10,(e-a)/20)*t}const E=a(22),b=a(10);var f=a(132);const y=E.taskName,g=["updatePdf","warnPdf","normalizePdf","tGuess","tGuessSd","pThreshold","xThreshold","beta","delta","gamma","grain","dim","quantileOrder"];function w(){return N.store.processedData}function v(e){return"component_"+e}function S(e,t,a,n,r,s,i,l,o,c){const u=N.store,m=v(e);u[m]={},u[m].decibels=t,u[m].response=a,u[m].responseTime=n,b.isUndefined(r)||(u[m].ratings=r),b.isUndefined(s)||(u[m].ratingsRaw=s),b.isUndefined(i)||(u[m].surprisals=i),b.isUndefined(l)||(u[m].surprisalsRaw=l),u[m].timestamps=o,u[m].startTimestamp=c,N.save()}function x(){return N.store.encrypted_metadata}function T(){return N.store.survey_url}function k(){return N.store.dataSent}function C(e){N.store.dataSent=e,N.save()}function R(){if(b.isUndefined(x()))return!1;if(b.isUndefined(N.store.quest))return!1;if(!E.debug)for(let t=1;t<=4;t++)if(b.isUndefined((e=t,N.store[v(e)])))return!1;var e;return!0}const N={get store(){if(b.isUndefined(this._store))if(u()){const e=JSON.parse(localStorage.getItem(y));this._store=e||{}}else this._store={};return this._store},save(){u()&&(localStorage.setItem(y,JSON.stringify(this.store)),E.debug&&console.log("saved: "+localStorage.getItem(y)))},clear(){E.debug&&console.log("cleared"),this._store=void 0,u()&&localStorage.removeItem(y)}};function I(){const e=x(),t=k();N.clear(),N.store.encrypted_metadata=e,N.store.dataSent=t,N.save()}function O(){const e=document.createElement("a"),t=new Blob([JSON.stringify(localStorage)],{type:"text/plain"});e.href=URL.createObjectURL(t),e.download="MCH_tast_data.txt",document.body.appendChild(e),e.click()}var _=a(410),D=a(10);class L extends n.Component{constructor(e){super(e),this.keyFunction=this.keyFunction.bind(this),this.state={continue:!1,invalid:!1,dataSent:!1}}keyFunction(e){81===e.keyCode&&this.setState((e,t)=>({continue:!0}))}componentDidMount(){document.addEventListener("keydown",this.keyFunction,!1);const e=_.parse(this.props.location.search,{ignoreQueryPrefix:!0});var t,a;D.isUndefined(e.id)?D.isUndefined(x())&&this.setState({invalid:!0}):(t=e.id)!==N.store.encrypted_metadata&&(N.clear(),N.store.encrypted_metadata=t,N.save()),D.isUndefined(e.survey_url)||(a=e.survey_url,N.store.survey_url=a,N.save()),k()&&this.setState({dataSent:!0})}componentWillUnmount(){document.removeEventListener("keydown",this.keyFunction,!1)}render(){return this.state.invalid?r.a.createElement(l.a,{to:"/Error"}):this.state.dataSent?r.a.createElement(l.a,{to:"/ThankYou"}):!0===this.state.continue?r.a.createElement(l.a,{to:"/Instructions"}):r.a.createElement("div",{className:"Welcome"},r.a.createElement("input",{type:"hidden"}),r.a.createElement("header",{className:"Welcome-header"},r.a.createElement("div",{className:"text-container"},r.a.createElement("p",{className:"Welcome-text"},r.a.createElement("span",{className:"bigger"},"Welcome to the study! "),r.a.createElement("br",null),r.a.createElement("br",null)," In this task you will hear a series of 6 note melodies.",r.a.createElement("br",null),r.a.createElement("br",null)," You will be asked to indicate whether you hear the final note of the melody being played.",r.a.createElement("br",null),r.a.createElement("br",null),"Please enter responses to the questions asked by pressing the:",r.a.createElement("br",null),r.a.createElement("br",null),"  ",r.a.createElement("font",{size:"+2"}," ",r.a.createElement("b",null," 'Q' key for 'YES I HEAR IT'")," or ",r.a.createElement("b",null," 'E' key for \"NO I DO NOT\"")," "),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null)," Sometimes it may be difficult to answer, but if you do not know, please make your best guess.",r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null)," Please keep your volume (including headphones) and screen brightness at maximum level throughout the experiment.",r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null)," PRESS the ",r.a.createElement("b",null," YES I HEAR IT / 'Q' key ")," to CONTINUE")),r.a.createElement("a",{href:"https://medicine.yale.edu/psychiatry/care/cmhc/",title:"Learn more about the Connecticut Mental Health Center",target:"_blank",rel:"noopener noreferrer"},r.a.createElement("img",{src:c.a,className:"Site-link",alt:"logo"}))))}}var P=L;a(419);class Y extends n.Component{constructor(e){super(e),this.keyFunction=e=>{81===e.keyCode&&this.setState((e,t)=>({continue:!0}))},this.state={continue:!1}}componentDidMount(){document.addEventListener("keydown",this.keyFunction,!1)}componentWillUnmount(){document.removeEventListener("keydown",this.keyFunction,!1)}render(){return!0===this.state.continue?r.a.createElement(l.a,{to:"/Trial_P"}):r.a.createElement("div",{className:"Instructions"},r.a.createElement("input",{type:"hidden"}),r.a.createElement("header",{className:"Instructions-header"},r.a.createElement("div",{className:"text-container"},r.a.createElement("p",{className:"Instructions-text"},"This is a hearing test.",r.a.createElement("br",null),r.a.createElement("br",null)," Auditory white noise (like static radio) will be played throughout the experiment.",r.a.createElement("br",null),r.a.createElement("br",null)," The final note of the melody might play while the white noise continues when there are diagonal red stripes on the screen.",r.a.createElement("br",null),r.a.createElement("br",null),"Only respond when you see the stripes.",r.a.createElement("br",null),r.a.createElement("br",null)," Press  ",r.a.createElement("font",{size:"+2"},"  ",r.a.createElement("b",null,' "Q"/YES ')," ")," if you ",r.a.createElement("b",null," DO "),"hear the tone.",r.a.createElement("br",null),r.a.createElement("br",null)," Press ",r.a.createElement("font",{size:"+2"}," ",r.a.createElement("b",null,' "E"/NO ')," ")," if you ",r.a.createElement("b",null," DO NOT ")," hear the tone.",r.a.createElement("br",null),r.a.createElement("br",null)," Please respond as ",r.a.createElement("b",null," QUICKLY ")," and as ",r.a.createElement("b",null," ACCURATELY ")," as you ",r.a.createElement("b",null," POSSIBLY CAN "),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),' PRESS "Q"/YES TO BEGIN A SHORT PRACTICE SESSION'))))}}var F=Y,U=(a(420),()=>r.a.createElement("div",{className:"NotFound"},r.a.createElement("h3",null,"Sorry, page not found!")));a(421);class A extends n.Component{constructor(e){super(e),this.keyFunction=e=>{81===e.keyCode&&this.setState((e,t)=>({continue:!0}))},this.state={continue:!1}}componentDidMount(){document.addEventListener("keydown",this.keyFunction,!1)}componentWillUnmount(){document.removeEventListener("keydown",this.keyFunction,!1)}render(){return!0===this.state.continue?r.a.createElement(l.a,{to:"/Trial_TT_1"}):r.a.createElement("div",{className:"Complete"},r.a.createElement("header",{className:"Complete-header"},r.a.createElement("div",{className:"text-container"},r.a.createElement("p",{className:"Complete-text"},"Congratulations!",r.a.createElement("br",null),r.a.createElement("br",null)," The first part of the experiment is over.",r.a.createElement("br",null),r.a.createElement("br",null)," Now we will continue with the next trials. Now, there will be ratings similar to the third practice.",r.a.createElement("br",null),r.a.createElement("br",null)," You will see two rating screens following each red diagonal stripes. For the first screen press",r.a.createElement("br",null),r.a.createElement("br",null)," and then hold the ",r.a.createElement("b",null,' "Q"/YES ')," button or ",r.a.createElement("b",null,' "E"/NO ')," button.",r.a.createElement("br",null),r.a.createElement("br",null)," The longer you hold it down, the more certain you are of your choice.",r.a.createElement("br",null),r.a.createElement("br",null)," If you hold ",r.a.createElement("b",null,' "Q"/YES '),"  button down for a long time, you are very certain that you  ",r.a.createElement("b",null," DO ")," hear the final note.",r.a.createElement("br",null),r.a.createElement("br",null)," If you hold ",r.a.createElement("b",null,' "E"/NO '),"  button down for a long time, you are very certain that you ",r.a.createElement("b",null," DO NOT ")," hear the final note.",r.a.createElement("br",null),r.a.createElement("br",null)," Please respond as ",r.a.createElement("b",null," QUICKLY ")," and as ",r.a.createElement("b",null," ACCURATELY ")," as you ",r.a.createElement("b",null," POSSIBLY CAN "),r.a.createElement("br",null),r.a.createElement("br",null)," For the second screen press the same key again to indicate the fit of the final note.",r.a.createElement("br",null),r.a.createElement("br",null)," The longer you hold it down, the better the final note fit into the melody.",r.a.createElement("br",null),r.a.createElement("br",null)," If you hold the key down for a long time, the final note was a ",r.a.createElement("b",null," GOOD FIT "),".",r.a.createElement("br",null),r.a.createElement("br",null)," If you hold the key down for a short time, the final note was a ",r.a.createElement("b",null," BAD FIT "),".",r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),' PRESS "Q"/YES WHEN READY TO CONTINUE.'))))}}var H=A;a(422);class M extends n.Component{constructor(e){super(e),this.keyFunction=e=>{81===e.keyCode&&this.setState((e,t)=>({continue:!0}))},this.state={continue:!1}}componentDidMount(){document.addEventListener("keydown",this.keyFunction,!1)}componentWillUnmount(){document.removeEventListener("keydown",this.keyFunction,!1)}render(){return!0===this.state.continue?r.a.createElement(l.a,{to:"/Trial_P_rating"}):r.a.createElement("div",{className:"Continue"},r.a.createElement("header",{className:"Continue-header"},r.a.createElement("div",{className:"text-container"},r.a.createElement("p",{className:"Continue-text"},"Great!",r.a.createElement("br",null),r.a.createElement("br",null)," First task complete! You will do the same thing in the next task, with some important differences:",r.a.createElement("br",null),r.a.createElement("br",null)," You will see a rating screen following each diagonal red stripes, press",r.a.createElement("br",null),r.a.createElement("br",null)," and then hold the ",r.a.createElement("b",null,' "Q"/YES ')," button or ",r.a.createElement("b",null,' "E"/NO ')," button.",r.a.createElement("br",null),r.a.createElement("br",null)," The longer you hold it down, the more certain you are of your choice.",r.a.createElement("br",null),r.a.createElement("br",null)," If you hold ",r.a.createElement("b",null,' "Q"/YES '),"  button down for a long time, you are very certain that you  ",r.a.createElement("b",null," DO ")," hear the final note of the melody.",r.a.createElement("br",null),r.a.createElement("br",null)," If you hold ",r.a.createElement("b",null,' "E"/NO '),"  button down for a long time, you are very certain that you ",r.a.createElement("b",null," DO NOT ")," hear the final note of the melody.",r.a.createElement("br",null),r.a.createElement("br",null)," Please respond as ",r.a.createElement("b",null," QUICKLY ")," and as ",r.a.createElement("b",null," ACCURATELY ")," as you ",r.a.createElement("b",null," POSSIBLY CAN "),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),' PRESS "Q"/YES WHEN READY TO CONTINUE.'))))}}var W=M;a(134);class q extends n.Component{constructor(e){super(e),this.keyFunction=e=>{81===e.keyCode&&this.setState((e,t)=>({continue:!0}))},this.state={continue:!1}}componentDidMount(){document.addEventListener("keydown",this.keyFunction,!1)}componentWillUnmount(){document.removeEventListener("keydown",this.keyFunction,!1)}render(){return!0===this.state.continue?r.a.createElement(l.a,{to:"/Trial_P_surprisal"}):r.a.createElement("div",{className:"Continue_rating"},r.a.createElement("header",{className:"Continue_rating-header"},r.a.createElement("div",{className:"text-container"},r.a.createElement("p",{className:"Continue_rating-text"},"Great!",r.a.createElement("br",null),r.a.createElement("br",null)," Second task complete! You will do the same thing in the next task, with some important differences:",r.a.createElement("br",null),r.a.createElement("br",null)," After the certainty rating screen you will see another rating screen following each diagonal red stripes, press",r.a.createElement("br",null),r.a.createElement("br",null)," and then hold the same key from the previous rating screen.",r.a.createElement("br",null),r.a.createElement("br",null)," The longer you hold it down, the better the final note fit into the melody.",r.a.createElement("br",null),r.a.createElement("br",null)," If you hold the key down for a long time, the final note was a ",r.a.createElement("b",null," GOOD FIT "),".",r.a.createElement("br",null),r.a.createElement("br",null)," If you hold the key down for a short time, the final note was a ",r.a.createElement("b",null," BAD FIT "),".",r.a.createElement("br",null),r.a.createElement("br",null)," Please respond as ",r.a.createElement("b",null," QUICKLY ")," and as ",r.a.createElement("b",null," ACCURATELY ")," as you ",r.a.createElement("b",null," POSSIBLY CAN "),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),' PRESS "Q"/YES WHEN READY TO CONTINUE.'))))}}var B=q;class Q extends n.Component{constructor(e){super(e),this.keyFunction=e=>{81===e.keyCode&&this.setState((e,t)=>({continue:!0}))},this.state={continue:!1}}componentDidMount(){document.addEventListener("keydown",this.keyFunction,!1)}componentWillUnmount(){document.removeEventListener("keydown",this.keyFunction,!1)}render(){return!0===this.state.continue?r.a.createElement(l.a,{to:"/TrialQ"}):r.a.createElement("div",{className:"Continue_rating"},r.a.createElement("header",{className:"Continue_rating-header"},r.a.createElement("div",{className:"text-container"},r.a.createElement("p",{className:"Continue_rating-text"},"Great!",r.a.createElement("br",null),r.a.createElement("br",null)," You have completed the practice trials. Now onto the real test.",r.a.createElement("br",null),r.a.createElement("br",null),"  It is important to note that the final notes in the practice sessions were there to make sure",r.a.createElement("br",null),r.a.createElement("br",null),"  you understood what to do, with very obvious and impossible-to-hear tones.",r.a.createElement("br",null),r.a.createElement("br",null),"  The final note of the melodies in the remainder of the experiment",r.a.createElement("br",null),r.a.createElement("br",null),"  may be very difficult to hear so you will have to listen very hard.",r.a.createElement("br",null),r.a.createElement("br",null),"  Sometimes it might be difficult to answer, but if you do not know, please guess.",r.a.createElement("br",null),r.a.createElement("br",null),"  For this first task, you will not be asked to rate your confidence or fit of the note so just quickly press",r.a.createElement("br",null),r.a.createElement("br",null),"  and release the button as soon as the screen flashes with the diagonal red stripes.",r.a.createElement("br",null),r.a.createElement("br",null)," Press  ",r.a.createElement("font",{size:"+2"},"  ",r.a.createElement("b",null,' "Q"/YES ')," ")," if you ",r.a.createElement("b",null," DO "),"hear the note.",r.a.createElement("br",null),r.a.createElement("br",null)," Press ",r.a.createElement("font",{size:"+2"}," ",r.a.createElement("b",null,' "E"/NO ')," ")," if you ",r.a.createElement("b",null," DO NOT ")," hear the note.",r.a.createElement("br",null),r.a.createElement("br",null)," Please respond as ",r.a.createElement("b",null," QUICKLY ")," and as ",r.a.createElement("b",null," ACCURATELY ")," as you ",r.a.createElement("b",null," POSSIBLY CAN "),r.a.createElement("br",null),r.a.createElement("br",null)," There will be scheduled breaks throughout the experiment, but please do not take a break unless instructed.",r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),' PRESS "Q"/YES TO BEGIN THE EXPERIMENT.'))))}}var z=Q,K=(a(423),a(135),a(143)),G=a.n(K),j=a(144),J=a.n(j),V=a(145),X=a.n(V),$=a(146),Z=a.n($),ee=a(147),te=a.n(ee),ae=a(148),ne=a.n(ae),re=a(149),se=a.n(re),ie=a(150),le=a.n(ie),oe=a(151),ce=a.n(oe),ue=a(152),me=a.n(ue);a(10),a(424);const de={0:"",1:G.a,2:J.a,3:X.a,4:Z.a,5:te.a},pe={0:"",1:ne.a,2:se.a,3:le.a,4:ce.a,5:me.a};class he extends n.Component{constructor(e){super(e)}drawCanvas(){this.resizeCanvas();var e=document.getElementById("c"),t=e.getContext("2d"),a=t.getImageData(0,0,e.width,e.height),n=a.data;const r=e.width,s=e.height,i=Math.max(1,e.height/18),l=Math.floor(r/i),o=Math.floor(s/i);let c=(r/i-l)/2*i,u=(s/i-o)/2*i;l%2==1&&(c+=i/2),o%2==1&&(u+=i/2);for(var m=0;m<r;m++)for(var d=0;d<s;d++)if(this.props.showContrast){const e=163*Math.abs(Math.floor((d-u)/i)%2);n[4*(m+d*r)+0]=.80224*e,n[4*(m+d*r)+1]=0,n[4*(m+d*r)+2]=0,n[4*(m+d*r)+3]=255}else n[4*(m+d*r)+0]=0,n[4*(m+d*r)+1]=0,n[4*(m+d*r)+2]=0,n[4*(m+d*r)+3]=255;t.putImageData(a,0,0)}resizeCanvas(){var e=document.getElementById("c");e.width=window.innerWidth,e.height=window.innerHeight}componentDidMount(){this.drawCanvas()}componentDidUpdate(e){this.drawCanvas()}render(){return r.a.createElement("div",null,this.props.surprisalReady?r.a.createElement(r.a.Fragment,null,r.a.createElement("img",{src:pe[this.props.currentSurprisal],width:256,height:256,className:"center",style:{zIndex:101,width:"95vh",height:"50vh",backgroundColor:"black",visibility:this.props.showSurprisals?"visible":"hidden"}}),r.a.createElement("div",{style:{zIndex:100,backgroundColor:"black",width:"100vw",height:"100vh",position:"fixed",top:0,left:0,visibility:this.props.showSurprisals?"visible":"hidden"}})):r.a.createElement(r.a.Fragment,null),this.props.surprisalReady?r.a.createElement(r.a.Fragment,null):r.a.createElement(r.a.Fragment,null,r.a.createElement("img",{src:de[this.props.currentRating],width:256,height:256,className:"center",style:{zIndex:101,width:"95vh",height:"50vh",backgroundColor:"black",visibility:this.props.showRatings?"visible":"hidden"}}),r.a.createElement("div",{style:{zIndex:100,backgroundColor:"black",width:"100vw",height:"100vh",position:"fixed",top:0,left:0,visibility:this.props.showRatings?"visible":"hidden"}})),r.a.createElement("canvas",{id:"c",style:{position:"fixed",top:0,left:0,zIndex:1,width:"100%",height:"100%"}}),r.a.createElement("div",{className:"center cross-1",style:{zIndex:10}}),r.a.createElement("div",{className:"center cross-2",style:{zIndex:10}}))}}he.defaultProps={showContrast:!1,showRatings:!1,showSurprisals:!1,contrast:0,surprisalReady:!1};var Ee=he,be=a(73),fe=a.n(be),ye=a(153),ge=a.n(ye),we=a(154),ve=a.n(we),Se=a(155),xe=a.n(Se),Te=a(156),ke=a.n(Te),Ce=a(157),Re=a.n(Ce),Ne=a(158),Ie=a.n(Ne),Oe=a(159),_e=a.n(Oe),De=a(160),Le=a.n(De),Pe=a(161),Ye=a.n(Pe),Fe=a(162),Ue=a.n(Fe);var Ae=[ge.a,ve.a,xe.a,ke.a,Re.a,Ie.a,_e.a,Le.a,Ye.a,Ue.a],He=a(163),Me=a.n(He),We=a(164),qe=a.n(We),Be=a(165),Qe=a.n(Be),ze=a(166),Ke=a.n(ze),Ge=a(167),je=a.n(Ge),Je=a(168),Ve=a.n(Je),Xe=a(169),$e=a.n(Xe),Ze=a(170),et=a.n(Ze),tt=a(171),at=a.n(tt),nt=a(172),rt=a.n(nt);var st=[Me.a,qe.a,Qe.a,Ke.a,je.a,Ve.a,$e.a,et.a,at.a,rt.a],it=a(173),lt=a.n(it),ot=a(174),ct=a.n(ot),ut=a(175),mt=a.n(ut),dt=a(176),pt=a.n(dt),ht=a(177),Et=a.n(ht),bt=a(178),ft=a.n(bt),yt=a(179),gt=a.n(yt),wt=a(180),vt=a.n(wt),St=a(181),xt=a.n(St),Tt=a(182),kt=a.n(Tt);var Ct=[lt.a,ct.a,mt.a,pt.a,Et.a,ft.a,gt.a,vt.a,xt.a,kt.a],Rt=a(183),Nt=a.n(Rt),It=a(184),Ot=a.n(It),_t=a(185),Dt=a.n(_t),Lt=a(186),Pt=a.n(Lt),Yt=a(187),Ft=a.n(Yt),Ut=a(188),At=a.n(Ut),Ht=a(189),Mt=a.n(Ht),Wt=a(190),qt=a.n(Wt),Bt=a(191),Qt=a.n(Bt),zt=a(192),Kt=a.n(zt),Gt=a(193),jt=a.n(Gt),Jt=a(194),Vt=a.n(Jt),Xt=a(195),$t=a.n(Xt),Zt=a(196),ea=a.n(Zt),ta=a(197),aa=a.n(ta),na=a(198),ra=a.n(na),sa=a(199),ia=a.n(sa),la=a(200),oa=a.n(la),ca=a(201),ua=a.n(ca),ma=a(202),da=a.n(ma),pa=a(203),ha=a.n(pa),Ea=a(204),ba=a.n(Ea),fa=a(205),ya=a.n(fa),ga=a(206),wa=a.n(ga),va=a(207),Sa=a.n(va),xa=a(208),Ta=a.n(xa),ka=a(209),Ca=a.n(ka),Ra=a(210),Na=a.n(Ra),Ia=a(211),Oa=a.n(Ia),_a=a(212),Da=a.n(_a),La=a(213),Pa=a.n(La),Ya=a(214),Fa=a.n(Ya),Ua=a(215),Aa=a.n(Ua),Ha=a(216),Ma=a.n(Ha),Wa=a(217),qa=a.n(Wa),Ba=a(218),Qa=a.n(Ba),za=a(219),Ka=a.n(za),Ga=a(220),ja=a.n(Ga),Ja=a(221),Va=a.n(Ja),Xa=a(222),$a=a.n(Xa),Za=a(223),en=a.n(Za),tn=a(224),an=a.n(tn),nn=a(225),rn=a.n(nn),sn=a(226),ln=a.n(sn),on=a(227),cn=a.n(on),un=a(228),mn=a.n(un),dn=a(229),pn=a.n(dn),hn=a(230),En=a.n(hn),bn=a(231),fn=a.n(bn),yn=a(232),gn=a.n(yn),wn=a(233),vn=a.n(wn),Sn=a(234),xn=a.n(Sn),Tn=a(235),kn=a.n(Tn),Cn=a(236),Rn=a.n(Cn),Nn=a(237),In=a.n(Nn),On=a(238),_n=a.n(On),Dn=a(239),Ln=a.n(Dn),Pn=a(240),Yn=a.n(Pn),Fn=a(241),Un=a.n(Fn),An=a(242),Hn=a.n(An),Mn=a(243),Wn=a.n(Mn),qn=a(244),Bn=a.n(qn),Qn=a(245),zn=a.n(Qn),Kn=a(246),Gn=a.n(Kn),jn=a(247),Jn=a.n(jn),Vn=a(248),Xn=a.n(Vn),$n=a(249),Zn=a.n($n),er=a(250),tr=a.n(er),ar=a(251),nr=a.n(ar),rr=a(252),sr=a.n(rr),ir=a(253),lr=a.n(ir),or=a(254),cr=a.n(or),ur=a(255),mr=a.n(ur),dr=a(256),pr=a.n(dr),hr=a(257),Er=a.n(hr),br=a(258),fr=a.n(br),yr=a(259),gr=a.n(yr),wr=a(260),vr=a.n(wr),Sr=a(261),xr=a.n(Sr),Tr=a(262),kr=a.n(Tr),Cr=a(263),Rr=a.n(Cr),Nr=a(264),Ir=a.n(Nr),Or=a(265),_r=a.n(Or),Dr=a(266),Lr=a.n(Dr);var Pr=[Nt.a,Ot.a,Dt.a,Pt.a,Ft.a,At.a,Mt.a,qt.a,Qt.a,Kt.a,jt.a,Vt.a,$t.a,ea.a,aa.a,ra.a,ia.a,oa.a,ua.a,da.a,ha.a,ba.a,ya.a,wa.a,Sa.a,Ta.a,Ca.a,Na.a,Oa.a,Da.a,Pa.a,Fa.a,Aa.a,Ma.a,qa.a,Qa.a,Ka.a,ja.a,Va.a,$a.a,en.a,an.a,rn.a,ln.a,cn.a,mn.a,pn.a,En.a,fn.a,gn.a,vn.a,xn.a,kn.a,Rn.a,In.a,_n.a,Ln.a,Yn.a,Un.a,Hn.a,Wn.a,Bn.a,zn.a,Gn.a,Jn.a,Xn.a,Zn.a,tr.a,nr.a,sr.a,lr.a,cr.a,mr.a,pr.a,Er.a,fr.a,gr.a,vr.a,xr.a,kr.a,Rr.a,Ir.a,_r.a,Lr.a],Yr=a(10);const Fr=a(22);var Ur=window.AudioContext||window.webkitAudioContext;Yr.map(Yr.keys({49:1,50:2,51:3,52:4,53:5}),e=>parseInt(e,10)),Yr.map(Yr.keys({49:1,50:2,51:3,52:4,53:5}),e=>parseInt(e,10));class Ar extends n.Component{constructor(e){super(e),this.playStimulus=()=>{var e=this;if(Fr.debug&&e.log_debug(),e.state.index==e.props.decibels.length)return void e.shutdown();if(e.numAttempts++==e.numAttemptsLimit)return void e.setState({complete:!0});e.setState({responseWindow:!0}),e.startTime=(new Date).getTime();const t=e.props.decibels[e.state.index];if(0==e.props.audioSource.length)e.setState({keyInput:!0}),console.log("key inputs true"),setTimeout(()=>{e.playVisualStimulus(1e3);let a=new Audio(fe.a);console.log("dec "+t);let n=498574e-11*Math.pow(1.18765,t);console.log("volume"+n),a.volume=n,a.play(),this.stimulusTimer=setTimeout(this.playStimulus,e.delay+e.jitter())},500),this.addTimestamp("stim");else{let a=new Audio(e.props.audioSource[e.state.index]);a.volume=.3,a.play(),setTimeout(()=>{e.setState({keyInput:!0}),console.log("key inputs true")},2300),setTimeout(()=>{console.log("visual stimulus playing"),e.playVisualStimulus(1e3),a.pause(),a.currentTime=0;let n=new Audio(fe.a),r=498574e-11*Math.pow(1.18765,t);n.volume=r,n.play(),this.stimulusTimer=setTimeout(this.playStimulus,e.delay+e.jitter())},2432),this.addTimestamp("stim")}},this.recordResponse=e=>{if(this.state.responseWindow&&Yr.includes([81,69],e.keyCode)){var t=this;this.addTimestamp("resp");var a=(new Date).getTime();const s=81===e.keyCode?1:0;if(this.response.push(s),this.responseTime.push(a-this.startTime),this.setState({responseWindow:!1}),this.timebox=null,this.props.responseHandler(s),this.props.shouldRecordSurprisals){function n(){0==t.state.surprisalReady?t.finishedTimer=setTimeout(()=>{n()},100):(t.surprisalStartTime=(new Date).getTime(),function e(){t.numIterations++,t.surprisalTimer=setTimeout(()=>{if(5==t.numIterations||t.state.stopShowingSurprisal)return t.numIterations=0,t.prevKey=null,t.finishSurprisalWindow(),t.setState({surprisalReady:!1,confidenceFinished:!1,keyInput:!1}),void console.log("key inputs false");t.state.stopIncrementingSurprisal||t.setState({currentSurprisal:t.state.currentSurprisal+1}),e()},250)}())}function r(){t.numIterations++,t.ratingTimer=setTimeout(()=>{if(5==t.numIterations||t.state.stopShowingRating)return t.numIterations=0,t.prevKey=null,t.setState({confidenceFinished:!0}),t.finishRatingWindow(),void n();t.state.stopIncrementingRating||t.setState({currentRating:t.state.currentRating+1}),r()},250)}clearTimeout(this.stimulusTimer),this.setState({ratingWindow:!0,surprisalWindow:!0,currentRating:t.numIterations||1,currentSurprisal:t.numIterations||1,stopShowingRating:!1,stopIncrementingRating:!1,confidenceFinished:!1,stopShowingSurprisal:!1,stopIncrementingSurprisal:!1}),t.numIterations=t.numIterations||0,this.ratingStartTime=(new Date).getTime(),r()}else if(this.props.shouldRecordRatings){function r(){t.numIterations++,t.ratingTimer=setTimeout(()=>{if(5==t.numIterations||t.state.stopShowingRating)return t.numIterations=0,t.prevKey=null,t.finishRatingWindow(),t.setState({keyInput:!1}),void console.log("key inputs false");t.state.stopIncrementingRating||t.setState({currentRating:t.state.currentRating+1}),r()},250)}clearTimeout(this.stimulusTimer),this.setState({ratingWindow:!0,currentRating:t.numIterations||1,stopShowingRating:!1,stopIncrementingRating:!1}),t.numIterations=t.numIterations||0,this.ratingStartTime=(new Date).getTime(),r()}else this.prevKey=null,this.setState({index:this.state.index+1})}else this.prevKey=null},this.keyDownFunction=e=>{if(this.state.readyToStart)return this.setState({readyToStart:!1}),this.audioContext.resume(),void this.startTrial();if(0!=this.state.keyInput){if(Yr.includes([81,69],e.keyCode)){if(this.isKeyDown[e.keyCode])return;this.isKeyDown[e.keyCode]=!0}null===this.prevKey&&(this.prevKey=e.keyCode),this.prevKey===e.keyCode&&(clearTimeout(this.timebox),this.timebox=setTimeout(()=>{this.props.shouldRecordSurprisals&&this.state.confidenceFinished?(this.setState({stopIncrementingSurprisal:!1}),this.setState({surprisalReady:!0}),this.surprisalStartTime=(new Date).getTime()):(this.setState({stopIncrementingRating:!1}),this.recordResponse(e))},50))}},this.keyUpFunction=e=>{if(0!=this.state.keyInput){if(this.props.shouldRecordSurprisals){if(Yr.includes([81,69],e.keyCode)&&(this.isKeyDown[e.keyCode]=!1),!this.trialStartedUp)return this.trialStartedUp=!0,this.setState({confidenceFinished:!1}),void this.setState({surprisalReady:!1});if(this.state.surprisalReady){this.setState({stopIncrementingSurprisal:!0});if((1==Yr.last(this.response)?81:69)==e.keyCode){this.addTimestamp("surprisal");var t=(new Date).getTime();this.surprisalsRaw.push(t-this.surprisalStartTime)}}else this.setState({stopIncrementingRating:!0});if(this.state.surprisalWindow)if(this.timebox)setTimeout(()=>{this.timebox=null,this.prevKey=null},250);else{if((1==Yr.last(this.response)?81:69)==e.keyCode){this.addTimestamp("rating");t=(new Date).getTime();this.ratingsRaw.push(t-this.ratingStartTime)}}}else if(Yr.includes([81,69],e.keyCode)&&(this.isKeyDown[e.keyCode]=!1),this.setState({stopIncrementingRating:!0}),this.setState({stopIncrementingSurprisal:!0}),this.state.ratingWindow)if(this.timebox)setTimeout(()=>{this.timebox=null,this.prevKey=null},250);else{if((1==Yr.last(this.response)?81:69)==e.keyCode){this.addTimestamp("rating");t=(new Date).getTime();this.ratingsRaw.push(t-this.ratingStartTime)}}}else console.log("IGNORE IGNORE up")},this.finishRatingWindow=()=>{if(this.ratings.push(this.state.currentRating),this.ratings.length>this.ratingsRaw.length){this.addTimestamp("rating");var e=(new Date).getTime();this.ratingsRaw.push(e-this.ratingStartTime),this.setState({stopIncrementingRating:!0})}this.props.shouldRecordSurprisals?this.setState({ratingWindow:!1}):(this.setState({index:this.state.index+1,ratingWindow:!1}),this.stimulusTimer=setTimeout(this.playStimulus,1e3+this.jitter()))},this.finishSurprisalWindow=()=>{if(this.surprisals.push(this.state.currentSurprisal),this.surprisals.length>this.surprisalsRaw.length){this.addTimestamp("surprisal");var e=(new Date).getTime();this.surprisalsRaw.push(e-this.surprisalStartTime),this.setState({stopIncrementingRating:!0}),this.setState({stopIncrementingSurprisal:!0})}this.setState({index:this.state.index+1,ratingWindow:!1,surprisalWindow:!1}),this.stimulusTimer=setTimeout(this.playStimulus,1e3+this.jitter())},this.state={index:0,showContrast:!1,responseWindow:!1,ratingWindow:!1,surprisalWindow:!1,trialStarted:!1,trialStartedUp:!1,complete:!1,invalid:!1,readyToStart:!1,dataSent:k(),currentRating:1,stopIncrementingRating:!1,stopShowingRating:!1,currentSurprisal:1,stopIncrementingSurprisal:!1,stopShowingSurprisal:!1,confidenceFinished:!1,surprisalReady:!1,keyInput:!1},this.canvasRef=r.a.createRef(),this.audioContext=new Ur,this.initialDelay=2e3,this.delay=5e3,this.numAttempts=0,this.numAttemptsLimit=1e3,this.response=[],this.responseTime=[],this.ratings=[],this.ratingsRaw=[],this.surprisals=[],this.surprisalsRaw=[],this.timestamps=[],this.ratingTimer=void 0,this.surprisalTimer=void 0,this.stimulusTimer=void 0,this.finishedTimer=void 0,this.componentStartTime=0,this.startTime=0,this.ratingStartTime=0,this.surprisalStartTime=0,this.timebox=null,this.numIterations=0,this.isKeyDown={Q_KEY_CODE:!1,E_KEY_CODE:!1},this.prevKey=null}addTimestamp(e){"start"==e?(this.componentStartTime=(new Date).getTime(),this.timestamps.push([e,0])):this.timestamps.push([e,(new Date).getTime()-this.componentStartTime])}playVisualStimulus(e){this.setState({showContrast:!0}),setTimeout(()=>{this.setState({showContrast:!1})},e)}startTrial(){this.setState({trialStarted:!0}),this.stimulusTimer=setTimeout(this.playStimulus,this.initialDelay),function(e){for(var t=3*e.sampleRate,a=e.createBuffer(2,t,e.sampleRate),n=(a.getChannelData(0),0);n<a.numberOfChannels;n++)for(var r=a.getChannelData(n),s=0;s<a.length;s++)r[s]=(2*Math.random()-1)*h(80,.015,78.3);var i=e.createBufferSource();i.buffer=a,i.loop=!0,i.connect(e.destination),i.start(0)}(this.audioContext),this.addTimestamp("start")}jitter(){return Math.random()/2*1e3}shutdown(){this.addTimestamp("end"),this.saveDataToStore(),this.setState({complete:!0})}saveDataToStore(){this.props.dataHandler(this.props.decibels,this.response,this.responseTime,this.ratings,this.ratingsRaw,this.surprisals,this.surprisalsRaw,this.timestamps)}componentDidMount(){document.addEventListener("keydown",this.keyDownFunction,!1),document.addEventListener("keyup",this.keyUpFunction,!1),Yr.isUndefined(x())&&this.setState({invalid:!0}),!1===this.state.complete&&setTimeout(()=>{this.setState({readyToStart:!0})},0)}componentWillUnmount(){document.removeEventListener("keydown",this.keyDownFunction,!1),document.removeEventListener("keyup",this.keyUpFunction,!1),this.audioContext.close()}render(){return this.state.invalid?r.a.createElement(l.a,{to:"/Error"}):this.state.dataSent?r.a.createElement(l.a,{to:"/ThankYou"}):this.state.complete?this.props.trialCompleteRenderer(this.props.decibels,this.response):r.a.createElement("div",{className:"Trial "+(this.state.trialStarted?"Trial-gray":"")},this.state.trialStarted?r.a.createElement("div",{className:"Trial-stimulus"},r.a.createElement(Ee,{showContrast:this.state.showContrast,showRatings:this.state.ratingWindow,showSurprisals:this.state.surprisalWindow,currentRating:this.state.currentRating,currentSurprisal:this.state.currentSurprisal,surprisalReady:this.state.surprisalReady})):r.a.createElement("p",{className:"Trial-text"},this.state.readyToStart?r.a.createElement("span",null,"Press any key to begin"):r.a.createElement("span",null,"Loading...")))}log_debug(){console.log("================================"),console.log("all decibels: "+this.props.decibels),console.log("all responses: "+this.response),console.log("all responseTime: "+this.responseTime),console.log("all timestamps: "+JSON.stringify(this.timestamps)),console.log("all ratingsRaw: "+this.ratingsRaw),console.log("all ratings: "+this.ratings),console.log("all surprisalsRaw: "+this.surprisalsRaw),console.log("all surprisals: "+this.surprisals),console.log("index: "+this.state.index),console.log("numAttempts: "+this.numAttempts),console.log("store: "+JSON.stringify(N.store)),console.log("localStorage: "+JSON.stringify(localStorage)),console.log("================================\n")}}Ar.defaultProps={decibels:Fr.debug?Yr.shuffle([65,65,65,65]):Yr.concat([65],Yr.shuffle([0,0,0,0,0,65,65,65,65])),audioSource:[],shouldRecordRatings:!1,shouldRecordSurprisals:!1,trialCompleteRenderer:Yr.noop,responseHandler:Yr.noop,dataHandler:Yr.noop};var Hr=Ar,Mr=a(10);const Wr=a(22);function qr(e,t,a){function n(n,r,s,i){return Mr.flatten([Mr.fill(Array(n),0),Mr.fill(Array(r),e),Mr.fill(Array(s),t),Mr.fill(Array(i),a)])}let r;return r=Wr.debug?[n(1,1,1,0),n(1,1,1,0),n(1,1,1,0),n(1,1,1,0),n(1,1,1,0),n(1,1,1,0),n(1,1,1,0),n(1,1,1,0),n(1,1,1,0),n(1,1,1,0),n(1,1,1,0),n(1,1,1,0)]:[Mr.concat(Mr.fill(Array(5),a),Mr.shuffle(n(1,1,0,4))),n(1,0,1,2),n(2,1,1,2),n(3,1,2,1),n(3,2,1,1),n(3,2,1,1),n(3,2,2,0),n(3,2,1,1),n(3,2,2,0),n(3,2,2,1),n(3,1,2,0),n(3,2,2,0)],Mr.map(r,(e,t)=>0==t?e:Mr.shuffle(e))}function Br(e,t,a){if(Mr.isUndefined(Br.blocks))if(3==arguments.length)Br.blocks=qr(e,t,a);else{const e=w();if(!Mr.isUndefined(e)){const t=e.intensities.c25,a=e.intensities.c50,n=e.intensities.c75;Br.blocks=qr(t,a,n)}}return Br.blocks}var Qr=a(132);const zr=a(22);class Kr extends n.Component{constructor(e){super(e),this.responseHandler=e=>{this.index>=this.maxIndex-1||(this.index%2===0?(this.q1.update(this.state.decibels[this.index],e),this.pushDecibel(this.q1.quantile())):(this.q2.update(this.state.decibels[this.index],e),this.pushDecibel(this.q2.quantile()))),this.index++},this.trialCompleteRenderer=()=>r.a.createElement(l.a,{to:"/Complete"}),this.dataHandler=(e,t,a,n,r,s)=>{const i=e.filter((e,t)=>t%2===0),l=t.filter((e,t)=>t%2===0),o=a.filter((e,t)=>t%2===0),c=e.filter((e,t)=>t%2===1),u=t.filter((e,t)=>t%2===1),m=a.filter((e,t)=>t%2===1);var d,p;!function(e,t,a,n,r,s,i,l,o,c){const u=N.store;u.quest={},u.quest.q1={},u.quest.q2={},u.quest.q1.decibels=a,u.quest.q1.response=n,u.quest.q1.responseTime=r,u.quest.q1.params=b.pick(e.params,g),u.quest.q2.decibels=s,u.quest.q2.response=i,u.quest.q2.responseTime=l,u.quest.q2.params=b.pick(t.params,g),u.quest.timestamps=o,u.quest.startTimestamp=c,N.save()}(this.q1,this.q2,i,l,o,c,u,m,s,this.startTimestamp),d=this.q1,p=this.q2,N.store.processedData=f.ProcessQuestData(d,p),N.save();const h=w();Br(h.intensities.c25,h.intensities.c50,h.intensities.c75)},this.startTimestamp=(new Date).getTime(),this.state={decibels:[]};this.q1=new Qr.Quest(58,4,.75,.1,.01,.01,.15,20),this.q2=new Qr.Quest(58,4,.75,.1,.01,.01,.15,20);const t=zr.debug?2:20;this.index=0,this.maxIndex=2*t-1,this.state={decibels:[61,55]}}pushDecibel(e){this.setState({decibels:[...this.state.decibels,e]})}render(){return r.a.createElement(Hr,{decibels:this.state.decibels,shouldRecordRatings:!1,trialCompleteRenderer:this.trialCompleteRenderer,dataHandler:this.dataHandler,responseHandler:this.responseHandler})}}var Gr=Kr;a(10);class jr extends n.Component{constructor(e){super(e),this.trialCompleteRenderer=(e,t)=>{let a=0;for(let n=0;n<t.length;n++)a+=t[n]==e[n]>0;return a>.7*e.length?r.a.createElement(l.a,{to:"/Continue"}):r.a.createElement(l.a,{to:"/OnceMore"})},this.dataHandler=(e,t,a,n,r,s)=>{S("practice",e,t,a,void 0,void 0,s,this.startTimestamp)},this.startTimestamp=(new Date).getTime()}render(){return r.a.createElement(Hr,{audioSource:Ae,shouldRecordRatings:!1,trialCompleteRenderer:this.trialCompleteRenderer,dataHandler:this.dataHandler})}}var Jr=jr;a(10);class Vr extends n.Component{constructor(e){super(e),this.trialCompleteRenderer=(e,t)=>{let a=0;for(let n=0;n<t.length;n++)a+=t[n]==e[n]>0;return a>.7*e.length?r.a.createElement(l.a,{to:"/Continue_rating"}):r.a.createElement(l.a,{to:"/OnceMore_rating"})},this.dataHandler=(e,t,a,n,r,s)=>{S("practice_rating",e,t,a,n,r,s,this.startTimestamp)},this.startTimestamp=(new Date).getTime()}render(){return r.a.createElement(Hr,{audioSource:st,shouldRecordRatings:!0,trialCompleteRenderer:this.trialCompleteRenderer,dataHandler:this.dataHandler})}}var Xr=Vr;a(425);class $r extends n.Component{constructor(e){super(e),this.keyFunction=e=>{81===e.keyCode&&this.setState((e,t)=>({continue:!0}))},this.state={continue:!1}}componentDidMount(){document.addEventListener("keydown",this.keyFunction,!1)}componentWillUnmount(){document.removeEventListener("keydown",this.keyFunction,!1)}render(){return!0===this.state.continue?r.a.createElement(l.a,{to:"/Trial_P"}):r.a.createElement("div",{className:"OnceMore"},r.a.createElement("input",{type:"hidden"}),r.a.createElement("header",{className:"OnceMore-header"},r.a.createElement("div",{className:"text-container"},r.a.createElement("p",{className:"OnceMore-text"},r.a.createElement("br",null),r.a.createElement("br",null)," Nice job, but you didn't reach the required accuracy level, so make sure you are pressing the right keys at the right time.",r.a.createElement("br",null),r.a.createElement("br",null)," You will now have one more practice session. Get ready! Remember,",r.a.createElement("br",null),r.a.createElement("br",null)," the final note of the melody might play while the white noise continues when there are diagonal red stripes on the screen.",r.a.createElement("br",null),r.a.createElement("br",null)," Press  ",r.a.createElement("font",{size:"+2"},"  ",r.a.createElement("b",null,' "Q"/YES ')," ")," if you ",r.a.createElement("b",null," DO "),"hear the tone.",r.a.createElement("br",null),r.a.createElement("br",null)," Press ",r.a.createElement("font",{size:"+2"}," ",r.a.createElement("b",null,' "E"/NO ')," ")," if you ",r.a.createElement("b",null," DO NOT ")," hear the tone.",r.a.createElement("br",null),r.a.createElement("br",null)," Please respond as ",r.a.createElement("b",null," QUICKLY ")," and as ",r.a.createElement("b",null," ACCURATELY ")," as you ",r.a.createElement("b",null," POSSIBLY CAN "),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),' PRESS "Q"/YES TO BEGIN A SHORT PRACTICE SESSION'))))}}var Zr=$r;a(136);class es extends n.Component{constructor(e){super(e),this.keyFunction=e=>{81===e.keyCode&&this.setState((e,t)=>({continue:!0}))},this.state={continue:!1}}componentDidMount(){document.addEventListener("keydown",this.keyFunction,!1)}componentWillUnmount(){document.removeEventListener("keydown",this.keyFunction,!1)}render(){return!0===this.state.continue?r.a.createElement(l.a,{to:"/Trial_P_rating"}):r.a.createElement("div",{className:"OnceMore_rating"},r.a.createElement("input",{type:"hidden"}),r.a.createElement("header",{className:"OnceMore_rating-header"},r.a.createElement("div",{className:"text-container"},r.a.createElement("p",{className:"OnceMore_rating-text"},r.a.createElement("br",null),r.a.createElement("br",null)," Nice job, but you didn't reach the required accuracy level, so make sure you are pressing the right keys at the right time,",r.a.createElement("br",null),r.a.createElement("br",null)," and holding the button down to indicate accuracy ratings. You will now have one more practice session. Get ready!",r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),' PRESS "Q"/YES WHEN READY TO CONTINUE.'))))}}var ts=es;class as extends n.Component{constructor(e){super(e),this.keyFunction=e=>{81===e.keyCode&&this.setState((e,t)=>({continue:!0}))},this.state={continue:!1}}componentDidMount(){document.addEventListener("keydown",this.keyFunction,!1)}componentWillUnmount(){document.removeEventListener("keydown",this.keyFunction,!1)}render(){return!0===this.state.continue?r.a.createElement(l.a,{to:"/Trial_P_surprisal"}):r.a.createElement("div",{className:"OnceMore_rating"},r.a.createElement("input",{type:"hidden"}),r.a.createElement("header",{className:"OnceMore_rating-header"},r.a.createElement("div",{className:"text-container"},r.a.createElement("p",{className:"OnceMore_rating-text"},r.a.createElement("br",null),r.a.createElement("br",null)," Nice job, but you didn't reach the required accuracy level, so make sure you are pressing the right keys at the right time,",r.a.createElement("br",null),r.a.createElement("br",null)," and holding the button down to indicate accuracy ratings. You will now have one more practice session. Get ready!",r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),' PRESS "Q"/YES WHEN READY TO CONTINUE.'))))}}var ns=as;a(10);class rs extends n.Component{constructor(e){super(e),this.trialCompleteRenderer=(e,t)=>{let a=0;for(let n=0;n<t.length;n++)a+=t[n]==e[n]>0;return a>.7*e.length?r.a.createElement(l.a,{to:"/Continue_surprisal"}):r.a.createElement(l.a,{to:"/OnceMore_surprisal"})},this.dataHandler=(e,t,a,n,r,s,i,l)=>{S("practice_surprisal",e,t,a,n,r,s,i,l,this.startTimestamp)},this.startTimestamp=(new Date).getTime()}render(){return r.a.createElement(Hr,{audioSource:Ct,shouldRecordRatings:!0,shouldRecordSurprisals:!0,trialCompleteRenderer:this.trialCompleteRenderer,dataHandler:this.dataHandler})}}var ss=rs,is=a(10);const ls=a(22),os=Pr.slice(0,21);class cs extends n.Component{constructor(e){super(e),this.trialCompleteRenderer=(e,t)=>(ls.debug,r.a.createElement(l.a,{to:"/Break1"})),this.dataHandler=(e,t,a,n,r,s,i,l)=>{S(1,e,t,a,n,r,s,i,l,this.startTimestamp)},this.startTimestamp=(new Date).getTime(),this.state={decibels:is.flatten(is.slice(Br(),0,3))},console.log(Br()),console.log(this.state.decibels)}render(){return is.isEmpty(this.state.decibels)?r.a.createElement(l.a,{to:"/Error"}):r.a.createElement(Hr,{audioSource:os,decibels:this.state.decibels,shouldRecordRatings:!0,shouldRecordSurprisals:!0,trialCompleteRenderer:this.trialCompleteRenderer,dataHandler:this.dataHandler})}}var us=cs,ms=a(10);const ds=Pr.slice(21,42);class ps extends n.Component{constructor(e){super(e),this.trialCompleteRenderer=(e,t)=>r.a.createElement(l.a,{to:"/Break2"}),this.dataHandler=(e,t,a,n,r,s,i,l)=>{S(2,e,t,a,n,r,s,i,l,this.startTimestamp)},this.startTimestamp=(new Date).getTime(),this.state={decibels:ms.flatten(ms.slice(Br(),3,6))}}render(){return ms.isEmpty(this.state.decibels)?r.a.createElement(l.a,{to:"/Error"}):r.a.createElement(Hr,{audioSource:ds,decibels:this.state.decibels,shouldRecordRatings:!0,shouldRecordSurprisals:!0,trialCompleteRenderer:this.trialCompleteRenderer,dataHandler:this.dataHandler})}}var hs=ps,Es=a(10);const bs=Pr.slice(42,63);class fs extends n.Component{constructor(e){super(e),this.trialCompleteRenderer=(e,t)=>r.a.createElement(l.a,{to:"/Break3"}),this.dataHandler=(e,t,a,n,r,s,i,l)=>{S(3,e,t,a,n,r,s,i,l,this.startTimestamp)},this.startTimestamp=(new Date).getTime(),this.state={decibels:Es.flatten(Es.slice(Br(),6,9))}}render(){return Es.isEmpty(this.state.decibels)?r.a.createElement(l.a,{to:"/Error"}):r.a.createElement(Hr,{audioSource:bs,decibels:this.state.decibels,shouldRecordRatings:!0,shouldRecordSurprisals:!0,trialCompleteRenderer:this.trialCompleteRenderer,dataHandler:this.dataHandler})}}var ys=fs,gs=a(10);const ws=Pr.slice(63,84);class vs extends n.Component{constructor(e){super(e),this.trialCompleteRenderer=(e,t)=>r.a.createElement(l.a,{to:"/ThankYou"}),this.dataHandler=(e,t,a,n,r,s,i,l)=>{S(4,e,t,a,n,r,s,i,l,this.startTimestamp)},this.startTimestamp=(new Date).getTime(),this.state={decibels:gs.flatten(gs.slice(Br(),9,12))}}render(){return gs.isEmpty(this.state.decibels)?r.a.createElement(l.a,{to:"/Error"}):r.a.createElement(Hr,{audioSource:ws,decibels:this.state.decibels,shouldRecordRatings:!0,shouldRecordSurprisals:!0,trialCompleteRenderer:this.trialCompleteRenderer,dataHandler:this.dataHandler})}}var Ss=vs;a(70);class xs extends n.Component{constructor(e){super(e),this.keyFunction=e=>{81===e.keyCode&&this.setState((e,t)=>({continue:!0}))},this.state={continue:!1}}componentDidMount(){document.addEventListener("keydown",this.keyFunction,!1)}componentWillUnmount(){document.removeEventListener("keydown",this.keyFunction,!1)}render(){return!0===this.state.continue?r.a.createElement(l.a,{to:"/Trial_TT_2"}):r.a.createElement("div",{className:"Break"},r.a.createElement("input",{type:"hidden"}),r.a.createElement("header",{className:"Break-header"},r.a.createElement("div",{className:"text-container"},r.a.createElement("p",{className:"Break-text"},"Great!",r.a.createElement("br",null),r.a.createElement("br",null)," Take a quick break. Three more to go!",r.a.createElement("br",null),r.a.createElement("br",null)," Remember: Continue to listen carefully and do the best you can.",r.a.createElement("br",null),r.a.createElement("br",null)," The task will continue to be difficult, but it is okay to guess and it is okay to be uncertain.",r.a.createElement("br",null),r.a.createElement("br",null)," Press ",r.a.createElement("b",null,' "Q"/YES ')," if you ",r.a.createElement("b",null," DO ")," hear the final note.",r.a.createElement("br",null),r.a.createElement("br",null)," Press ",r.a.createElement("b",null,' "E"/NO ')," if you ",r.a.createElement("b",null," DO NOT ")," hear the final note.",r.a.createElement("br",null),r.a.createElement("br",null)," If you hold the key down for a long time, the final note was a ",r.a.createElement("b",null," GOOD FIT "),".",r.a.createElement("br",null),r.a.createElement("br",null)," If you hold the key down for a short time, the final note was a ",r.a.createElement("b",null," BAD FIT "),".",r.a.createElement("br",null),r.a.createElement("br",null)," Please respond as ",r.a.createElement("b",null," QUICKLY ")," and as ",r.a.createElement("b",null," ACCURATELY ")," as you ",r.a.createElement("b",null," POSSIBLY CAN "),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),' PRESS "Q"/YES TO CONTINUE WITH THE NEXT PART'))))}}var Ts=xs;class ks extends n.Component{constructor(e){super(e),this.keyFunction=e=>{81===e.keyCode&&this.setState((e,t)=>({continue:!0}))},this.state={continue:!1}}componentDidMount(){document.addEventListener("keydown",this.keyFunction,!1)}componentWillUnmount(){document.removeEventListener("keydown",this.keyFunction,!1)}render(){return!0===this.state.continue?r.a.createElement(l.a,{to:"/Trial_TT_3"}):r.a.createElement("div",{className:"Break"},r.a.createElement("input",{type:"hidden"}),r.a.createElement("header",{className:"Break-header"},r.a.createElement("div",{className:"text-container"},r.a.createElement("p",{className:"Break-text"},r.a.createElement("br",null),r.a.createElement("br",null)," Great!!! Take a quick break. Two more to go!",r.a.createElement("br",null),r.a.createElement("br",null)," Remember: Continue to listen carefully and do the best you can.",r.a.createElement("br",null),r.a.createElement("br",null)," The task will continue to be difficult, but it is okay to guess and it is okay to be uncertain.",r.a.createElement("br",null),r.a.createElement("br",null)," Press ",r.a.createElement("b",null,' "Q"/YES ')," if you ",r.a.createElement("b",null," DO ")," hear a tone.",r.a.createElement("br",null),r.a.createElement("br",null)," Press ",r.a.createElement("b",null,' "E"/NO ')," if you ",r.a.createElement("b",null," DO NOT ")," hear a tone.",r.a.createElement("br",null),r.a.createElement("br",null)," If you hold the key down for a long time, the final note was a ",r.a.createElement("b",null," GOOD FIT "),".",r.a.createElement("br",null),r.a.createElement("br",null)," If you hold the key down for a short time, the final note was a ",r.a.createElement("b",null," BAD FIT "),".",r.a.createElement("br",null),r.a.createElement("br",null)," Please respond as ",r.a.createElement("b",null," QUICKLY ")," and as ",r.a.createElement("b",null," ACCURATELY ")," as you ",r.a.createElement("b",null," POSSIBLY CAN "),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),' PRESS "Q"/YES TO CONTINUE WITH THE NEXT PART'))))}}var Cs=ks;class Rs extends n.Component{constructor(e){super(e),this.keyFunction=e=>{81===e.keyCode&&this.setState((e,t)=>({continue:!0}))},this.state={continue:!1}}componentDidMount(){document.addEventListener("keydown",this.keyFunction,!1)}componentWillUnmount(){document.removeEventListener("keydown",this.keyFunction,!1)}render(){return!0===this.state.continue?r.a.createElement(l.a,{to:"/Trial_TT_4"}):r.a.createElement("div",{className:"Break"},r.a.createElement("input",{type:"hidden"}),r.a.createElement("header",{className:"Break-header"},r.a.createElement("div",{className:"text-container"},r.a.createElement("p",{className:"Break-text"},"Great!",r.a.createElement("br",null),r.a.createElement("br",null)," Take a quick break. One more to go!",r.a.createElement("br",null),r.a.createElement("br",null)," Remember: Continue to listen carefully and do the best you can.",r.a.createElement("br",null),r.a.createElement("br",null)," The task will continue to be difficult, but it is okay to guess and it is okay to be uncertain.",r.a.createElement("br",null),r.a.createElement("br",null)," Press ",r.a.createElement("b",null,' "Q"/YES ')," if you ",r.a.createElement("b",null," DO ")," hear a tone.",r.a.createElement("br",null),r.a.createElement("br",null)," Press ",r.a.createElement("b",null,' "E"/NO ')," if you ",r.a.createElement("b",null," DO NOT ")," hear a tone.",r.a.createElement("br",null),r.a.createElement("br",null)," If you hold the key down for a long time, the final note was a ",r.a.createElement("b",null," GOOD FIT "),".",r.a.createElement("br",null),r.a.createElement("br",null)," If you hold the key down for a short time, the final note was a ",r.a.createElement("b",null," BAD FIT "),".",r.a.createElement("br",null),r.a.createElement("br",null)," Please respond as ",r.a.createElement("b",null," QUICKLY ")," and as ",r.a.createElement("b",null," ACCURATELY ")," as you ",r.a.createElement("b",null," POSSIBLY CAN "),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),' PRESS "Q"/YES TO CONTINUE WITH THE NEXT PART'))))}}var Ns=Rs,Is=(a(426),a(74));const Os=a(22);var _s=a(10);class Ds extends n.Component{constructor(e){super(e),this.keyFunction=e=>{81===e.keyCode&&this.setState((e,t)=>({continue:!0}))},this.state={continue:!1,invalid:!1,sentData:!1,link:void 0}}componentDidMount(){document.addEventListener("keydown",this.keyFunction,!1);const e=x(),t=function(){const e=b.clone(N.store);return e.taskName=E.taskName,e.taskVersion=E.taskVersion,e.visualStim=d,e.auditoryStim=p,JSON.stringify(e)}();if(m?this.setState({link:"link"}):_s.isUndefined(T())?Object(Is.a)(e).then(e=>this.setState({link:e})):this.setState({link:T()}),!k())return Os.debug&&(console.log("encrypted metadata: "+e),console.log("store export: "+t),console.log("localStorage: "+JSON.stringify(localStorage))),R()?m?(C(!0),this.setState({sentData:!0}),O(),void I()):void Object(Is.b)(e,t).then(()=>{C(!0),this.setState({sentData:!0}),O(),I()}):(N.clear(),void this.setState({invalid:!0}));this.setState({sentData:!0})}componentWillUnmount(){document.removeEventListener("keydown",this.keyFunction,!1)}render(){if(this.state.invalid)return r.a.createElement(l.a,{to:"/Error"});if(this.state.continue)window.location.assign(this.state.link);else if(!this.state.sentData||_s.isUndefined(this.state.link))return r.a.createElement("div",{className:"ThankYou"},r.a.createElement("p",{className:"ThankYou-text"},"Loading..."));return r.a.createElement("div",{className:"ThankYou"},r.a.createElement("input",{type:"hidden"}),r.a.createElement("header",{className:"ThankYou-header"},r.a.createElement("div",{className:"text-container"},r.a.createElement("p",{className:"ThankYou-text"},r.a.createElement("span",{className:"bigger"}," The experiment is over. Thank you for taking part in the study! "),r.a.createElement("br",null),r.a.createElement("br",null)," Please ",r.a.createElement("a",{href:this.state.link},"click here")," or press 'Q' to return to the survey.")),r.a.createElement("a",{href:"https://medicine.yale.edu/psychiatry/care/cmhc/",title:"Learn more about the Connecticut Mental Health Center",target:"_blank",rel:"noopener noreferrer"},r.a.createElement("img",{src:c.a,className:"Site-link",alt:"logo"}))))}}var Ls=Ds,Ps=(a(443),()=>r.a.createElement("div",{className:"Error"},r.a.createElement("h3",null,"Something went wrong. Please try again."))),Ys=()=>r.a.createElement(l.d,null,r.a.createElement(l.b,{path:"/",exact:!0,component:P}),r.a.createElement(l.b,{path:"/Welcome",exact:!0,component:P}),r.a.createElement(l.b,{path:"/Instructions",exact:!0,component:F}),r.a.createElement(l.b,{path:"/Trial_P",exact:!0,component:Jr}),r.a.createElement(l.b,{path:"/OnceMore",exact:!0,component:Zr}),r.a.createElement(l.b,{path:"/Continue",exact:!0,component:W}),r.a.createElement(l.b,{path:"/Trial_P_rating",exact:!0,component:Xr}),r.a.createElement(l.b,{path:"/OnceMore_rating",exact:!0,component:ts}),r.a.createElement(l.b,{path:"/Continue_rating",exact:!0,component:B}),r.a.createElement(l.b,{path:"/Trial_P_surprisal",exact:!0,component:ss}),r.a.createElement(l.b,{path:"/OnceMore_surprisal",exact:!0,component:ns}),r.a.createElement(l.b,{path:"/Continue_surprisal",exact:!0,component:z}),r.a.createElement(l.b,{path:"/TrialQ",exact:!0,component:Gr}),r.a.createElement(l.b,{path:"/Complete",exact:!0,component:H}),r.a.createElement(l.b,{path:"/Trial_TT_1",exact:!0,component:us}),r.a.createElement(l.b,{path:"/Break1",exact:!0,component:Ts}),r.a.createElement(l.b,{path:"/Trial_TT_2",exact:!0,component:hs}),r.a.createElement(l.b,{path:"/Break2",exact:!0,component:Cs}),r.a.createElement(l.b,{path:"/Trial_TT_3",exact:!0,component:ys}),r.a.createElement(l.b,{path:"/Break3",exact:!0,component:Ns}),r.a.createElement(l.b,{path:"/Trial_TT_4",exact:!0,component:Ss}),r.a.createElement(l.b,{path:"/ThankYou",exact:!0,component:Ls}),r.a.createElement(l.b,{path:"/Error",exact:!0,component:Ps}),r.a.createElement(l.b,{component:U}));class Fs extends n.Component{render(){return r.a.createElement("div",null,r.a.createElement(Ys,null))}}var Us=Fs,As=a(4),Hs=a(9);const Ms=Object(Hs.a)();Object({NODE_ENV:"production",PUBLIC_URL:"/mch_app",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).NODE_CONFIG_DIR="../config",i.a.render(r.a.createElement(As.a,{history:Ms,basename:"/mch_app"},r.a.createElement(Us,null)),document.getElementById("root"))}]),[[267,1,2]]]);
//# sourceMappingURL=main.e669b6ab.chunk.js.map