(this.webpackJsonpmch_app=this.webpackJsonpmch_app||[]).push([[0],Array(22).concat([function(e){e.exports=JSON.parse('{"taskVersion":"1.0.0","taskName":"mch_app","debug":false,"awsLambda":{"saveTaskData":{"host":"de8cnjde61.execute-api.us-east-2.amazonaws.com","path":"/default/saveTaskData"},"fetchLink":{"host":"3pnzb6n9vf.execute-api.us-east-2.amazonaws.com","path":"/default/fetchLink"}}}')},,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){e.exports=n.p+"static/media/psych_logo.6956dbda.jpg"},,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){},,,function(e,t,n){e.exports=n.p+"static/media/Gtone.5dfde805.wav"},function(e,t,n){"use strict";(function(e){n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return l}));var a=n(427),r=n(440);const s=n(22);function i(t,n){return new Promise((function(i,l){const o=r.stringify({encrypted_metadata:t,data:n}),c={hostname:s.awsLambda.saveTaskData.host,port:443,path:s.awsLambda.saveTaskData.path,method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded","Content-Length":e.byteLength(o)}},m=a.request(c,e=>{e.setEncoding("utf8"),e.on("data",()=>{}),e.on("end",i)});m.on("error",e=>{s.debug&&(console.log("ERROR:"),console.log(e)),l(e)}),m.write(o),m.end()}))}function l(t){return new Promise((function(n,i){const l=r.stringify({encrypted_metadata:t}),o={hostname:s.awsLambda.fetchLink.host,port:443,path:s.awsLambda.fetchLink.path,method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded","Content-Length":e.byteLength(l)}},c=a.request(o,e=>{e.setEncoding("utf8");var t="";e.on("data",(function(e){t+=e})),e.on("end",()=>n(t))});c.on("error",e=>{s.debug&&(console.log("ERROR:"),console.log(e)),i(e)}),c.write(l),c.end()}))}}).call(this,n(3).Buffer)},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},,,,,,,function(e,t,n){e.exports=n.p+"static/media/rating_keydown_1.d9fbf22f.png"},function(e,t,n){e.exports=n.p+"static/media/rating_keydown_2.6a659dd4.png"},function(e,t,n){e.exports=n.p+"static/media/rating_keydown_3.d955b91a.png"},function(e,t,n){e.exports=n.p+"static/media/rating_keydown_4.c8b7c686.png"},function(e,t,n){e.exports=n.p+"static/media/rating_keydown_5.34958048.png"},function(e,t,n){e.exports=n.p+"static/media/surprisal_keydown_1.825ce77e.png"},function(e,t,n){e.exports=n.p+"static/media/surprisal_keydown_2.9b785fe2.png"},function(e,t,n){e.exports=n.p+"static/media/surprisal_keydown_3.31e72759.png"},function(e,t,n){e.exports=n.p+"static/media/surprisal_keydown_4.f39127fa.png"},function(e,t,n){e.exports=n.p+"static/media/surprisal_keydown_5.2e871950.png"},function(e,t,n){e.exports=n.p+"static/media/H1.17a9fb6c.mp3"},function(e,t,n){e.exports=n.p+"static/media/H2.fdf43dde.mp3"},function(e,t,n){e.exports=n.p+"static/media/H3.fed7043a.mp3"},function(e,t,n){e.exports=n.p+"static/media/H4.51d460f5.mp3"},function(e,t,n){e.exports=n.p+"static/media/H5.6f16e3a9.mp3"},function(e,t,n){e.exports=n.p+"static/media/H6.7124b0a4.mp3"},function(e,t,n){e.exports=n.p+"static/media/H7.ab4e2798.mp3"},function(e,t,n){e.exports=n.p+"static/media/H8.349f90cb.mp3"},function(e,t,n){e.exports=n.p+"static/media/H9.7e065ff2.mp3"},function(e,t,n){e.exports=n.p+"static/media/H10.bd11fa39.mp3"},function(e,t,n){e.exports=n.p+"static/media/C1.e7734ecc.mp3"},function(e,t,n){e.exports=n.p+"static/media/C2.130cd39c.mp3"},function(e,t,n){e.exports=n.p+"static/media/C3.cd4c8d7c.mp3"},function(e,t,n){e.exports=n.p+"static/media/C4.58d1583f.mp3"},function(e,t,n){e.exports=n.p+"static/media/C5.dad85b6b.mp3"},function(e,t,n){e.exports=n.p+"static/media/C6.0a18f6b1.mp3"},function(e,t,n){e.exports=n.p+"static/media/C7.a1221442.mp3"},function(e,t,n){e.exports=n.p+"static/media/C8.c59cd0c4.mp3"},function(e,t,n){e.exports=n.p+"static/media/C9.ba9bbc60.mp3"},function(e,t,n){e.exports=n.p+"static/media/C10.230f6687.mp3"},function(e,t,n){e.exports=n.p+"static/media/S1.4db58cc8.mp3"},function(e,t,n){e.exports=n.p+"static/media/S2.51600ef1.mp3"},function(e,t,n){e.exports=n.p+"static/media/S3.0f94cffa.mp3"},function(e,t,n){e.exports=n.p+"static/media/S4.e8996583.mp3"},function(e,t,n){e.exports=n.p+"static/media/S5.b9af763f.mp3"},function(e,t,n){e.exports=n.p+"static/media/S6.a2997e6a.mp3"},function(e,t,n){e.exports=n.p+"static/media/S7.229edd93.mp3"},function(e,t,n){e.exports=n.p+"static/media/S8.207cf9ae.mp3"},function(e,t,n){e.exports=n.p+"static/media/S9.67ca89d7.mp3"},function(e,t,n){e.exports=n.p+"static/media/S10.5c8bbc9e.mp3"},function(e,t,n){e.exports=n.p+"static/media/1 (81).18a8b187.mp3"},function(e,t,n){e.exports=n.p+"static/media/2 (25).e2147a5c.mp3"},function(e,t,n){e.exports=n.p+"static/media/3 (82).745d511f.mp3"},function(e,t,n){e.exports=n.p+"static/media/4 (69).ee484711.mp3"},function(e,t,n){e.exports=n.p+"static/media/5 (31).aa34055a.mp3"},function(e,t,n){e.exports=n.p+"static/media/6 (52).d27205f6.mp3"},function(e,t,n){e.exports=n.p+"static/media/7 (36).4cb36d35.mp3"},function(e,t,n){e.exports=n.p+"static/media/8 (68).e83fe3b8.mp3"},function(e,t,n){e.exports=n.p+"static/media/9 (66).6a40b2f2.mp3"},function(e,t,n){e.exports=n.p+"static/media/10 (29).1cd2e46d.mp3"},function(e,t,n){e.exports=n.p+"static/media/11 (76).6af2896e.mp3"},function(e,t,n){e.exports=n.p+"static/media/12 (21).2d282c4f.mp3"},function(e,t,n){e.exports=n.p+"static/media/13 (37).908dec0e.mp3"},function(e,t,n){e.exports=n.p+"static/media/14 (59).7a7cf22a.mp3"},function(e,t,n){e.exports=n.p+"static/media/15 (77).e621afd9.mp3"},function(e,t,n){e.exports=n.p+"static/media/16 (07).b4828d91.mp3"},function(e,t,n){e.exports=n.p+"static/media/17 (02).f00f0c6e.mp3"},function(e,t,n){e.exports=n.p+"static/media/18 (64).52585bd5.mp3"},function(e,t,n){e.exports=n.p+"static/media/19 (10).bb8aeda4.mp3"},function(e,t,n){e.exports=n.p+"static/media/20 (19).f27c9ba0.mp3"},function(e,t,n){e.exports=n.p+"static/media/21 (17).19e2b11b.mp3"},function(e,t,n){e.exports=n.p+"static/media/22 (50).7a851fb5.mp3"},function(e,t,n){e.exports=n.p+"static/media/23 (79).cb8dfbb5.mp3"},function(e,t,n){e.exports=n.p+"static/media/24 (88).dba437e2.mp3"},function(e,t,n){e.exports=n.p+"static/media/25 (67).6b1991a0.mp3"},function(e,t,n){e.exports=n.p+"static/media/26 (35).3c64c93f.mp3"},function(e,t,n){e.exports=n.p+"static/media/27 (57).625f518c.mp3"},function(e,t,n){e.exports=n.p+"static/media/28 (11).225c690c.mp3"},function(e,t,n){e.exports=n.p+"static/media/29 (33).5e217222.mp3"},function(e,t,n){e.exports=n.p+"static/media/30 (27).15ac9c21.mp3"},function(e,t,n){e.exports=n.p+"static/media/31 (42).f6eaf97c.mp3"},function(e,t,n){e.exports=n.p+"static/media/32 (41).14ea7c38.mp3"},function(e,t,n){e.exports=n.p+"static/media/33 (53).913b9c7c.mp3"},function(e,t,n){e.exports=n.p+"static/media/34 (08).dc133c32.mp3"},function(e,t,n){e.exports=n.p+"static/media/35 (74).8d05bb19.mp3"},function(e,t,n){e.exports=n.p+"static/media/36 (30).4f5e217f.mp3"},function(e,t,n){e.exports=n.p+"static/media/37 (15).02684119.mp3"},function(e,t,n){e.exports=n.p+"static/media/38 (20).2b63b8c3.mp3"},function(e,t,n){e.exports=n.p+"static/media/39 (13).ba73e396.mp3"},function(e,t,n){e.exports=n.p+"static/media/40 (80).adb3d199.mp3"},function(e,t,n){e.exports=n.p+"static/media/41 (34).6c94e077.mp3"},function(e,t,n){e.exports=n.p+"static/media/42 (73).28f44c53.mp3"},function(e,t,n){e.exports=n.p+"static/media/43 (51).99f2deb1.mp3"},function(e,t,n){e.exports=n.p+"static/media/44 (26).3df3a5d1.mp3"},function(e,t,n){e.exports=n.p+"static/media/45 (38).aac6f275.mp3"},function(e,t,n){e.exports=n.p+"static/media/46 (48).72231f79.mp3"},function(e,t,n){e.exports=n.p+"static/media/47 (71).ec6bae22.mp3"},function(e,t,n){e.exports=n.p+"static/media/48 (61).ca4490f7.mp3"},function(e,t,n){e.exports=n.p+"static/media/49 (90).352a341c.mp3"},function(e,t,n){e.exports=n.p+"static/media/50 (87).ebe2f46e.mp3"},function(e,t,n){e.exports=n.p+"static/media/51 (78).525eb9b2.mp3"},function(e,t,n){e.exports=n.p+"static/media/52 (28).3a6d6499.mp3"},function(e,t,n){e.exports=n.p+"static/media/53 (18).b6e81df1.mp3"},function(e,t,n){e.exports=n.p+"static/media/54 (70).5eca1fec.mp3"},function(e,t,n){e.exports=n.p+"static/media/55 (01).e432303f.mp3"},function(e,t,n){e.exports=n.p+"static/media/56 (54).6f0dea1c.mp3"},function(e,t,n){e.exports=n.p+"static/media/57 (72).a8b92810.mp3"},function(e,t,n){e.exports=n.p+"static/media/58 (85).7707c1a2.mp3"},function(e,t,n){e.exports=n.p+"static/media/59 (32).ad540de1.mp3"},function(e,t,n){e.exports=n.p+"static/media/60 (65).29615cbe.mp3"},function(e,t,n){e.exports=n.p+"static/media/61 (40).3dfbb90d.mp3"},function(e,t,n){e.exports=n.p+"static/media/62 (60).b61beee0.mp3"},function(e,t,n){e.exports=n.p+"static/media/63 (04).1fb463fb.mp3"},function(e,t,n){e.exports=n.p+"static/media/64 (75).98cc23ef.mp3"},function(e,t,n){e.exports=n.p+"static/media/65 (24).9d542451.mp3"},function(e,t,n){e.exports=n.p+"static/media/66 (63).023ba955.mp3"},function(e,t,n){e.exports=n.p+"static/media/67 (16).9b142db4.mp3"},function(e,t,n){e.exports=n.p+"static/media/68 (05).200b08ab.mp3"},function(e,t,n){e.exports=n.p+"static/media/69 (91).a3e507eb.mp3"},function(e,t,n){e.exports=n.p+"static/media/70 (55).b6bdc1a7.mp3"},function(e,t,n){e.exports=n.p+"static/media/71 (86).59e1af8b.mp3"},function(e,t,n){e.exports=n.p+"static/media/72 (47).d5033f75.mp3"},function(e,t,n){e.exports=n.p+"static/media/73 (43).c076d3e5.mp3"},function(e,t,n){e.exports=n.p+"static/media/74 (56).fb8d1fde.mp3"},function(e,t,n){e.exports=n.p+"static/media/75 (62).ed1bff3e.mp3"},function(e,t,n){e.exports=n.p+"static/media/76 (84).945ecd0b.mp3"},function(e,t,n){e.exports=n.p+"static/media/77 (14).7c630b5f.mp3"},function(e,t,n){e.exports=n.p+"static/media/78 (46).55f2f7e6.mp3"},function(e,t,n){e.exports=n.p+"static/media/79 (23).dab7d35c.mp3"},function(e,t,n){e.exports=n.p+"static/media/80 (22).d15921ab.mp3"},function(e,t,n){e.exports=n.p+"static/media/81 (83).e0c27162.mp3"},function(e,t,n){e.exports=n.p+"static/media/82 (39).edda6d65.mp3"},function(e,t,n){e.exports=n.p+"static/media/83 (44).fe99f78e.mp3"},function(e,t,n){e.exports=n.p+"static/media/84 (45).20009a75.mp3"},function(e,t,n){e.exports=n(444)},,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},,,,,,,function(e,t){},,function(e,t){},,,,,,,,,,function(e,t){},,function(e,t){},,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t){},,function(e,t){},function(e,t){},,,,,function(e,t){},,function(e,t){},,,,,,,,,,,,,,,,,,,,function(e,t){},,,,,,,,,,,,,,,,function(e,t){},,,function(e,t){},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){e.exports=n.p+"static/media/demoG.8f966a49.mp3"},,,,,,,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},,function(e,t,n){},function(e,t,n){},,,,,,,,,,,,function(e,t){},,,,,function(e,t,n){},function(e,t,n){"use strict";n.r(t),n.d(t,"history",(function(){return Ws}));var a=n(0),r=n.n(a),s=n(141),i=n.n(s),l=(n(272),n(273),n(6)),o=n(47),c=n.n(o);n(274);n(10),n(275);function m(){try{return localStorage.setItem("test","test"),localStorage.removeItem("test"),!0}catch(e){return!1}}const u=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(408);const d=function(){var e={background:127.5,angle:Math.floor(135*Math.random())+45,imsize:256,initcontrast:.5,threshold:.2,phases:[0,.25],phase:0,alpha:.5,ppd:80,frequency:0};return e.phase=e.phases[Math.round(Math.random())],e.frequency=2/e.ppd,e}(),p=(function(e,t){e.map(e=>d.background+e*d.background*t)}(function(e){for(var t=[],n=[],a=1;a<e.imsize+1;a++)for(var r=1;r<e.imsize+1;r++)t[4*(a-1+(r-1)*e.imsize)+0]=a-(e.imsize+1)/2,t[4*(a-1+(r-1)*e.imsize)+1]=a-(e.imsize+1)/2,t[4*(a-1+(r-1)*e.imsize)+2]=a-(e.imsize+1)/2,t[4*(a-1+(r-1)*e.imsize)+3]=a-(e.imsize+1)/2,n[4*(a-1+(r-1)*e.imsize)+0]=r-(e.imsize+1)/2,n[4*(a-1+(r-1)*e.imsize)+1]=r-(e.imsize+1)/2,n[4*(a-1+(r-1)*e.imsize)+2]=r-(e.imsize+1)/2,n[4*(a-1+(r-1)*e.imsize)+3]=r-(e.imsize+1)/2;for(var s=[],i=0;i<t.length&&i<n.length;i++)s[i]=.5*Math.cos(2*Math.PI*(e.frequency*(Math.sin(Math.PI/180*e.angle)*t[i]+Math.cos(Math.PI/180*e.angle)*n[i])+e.phase));return s}(d),0),{duration:300,amp:1,frequency:1250});function h(e,t,n){return Math.pow(10,(e-n)/20)*t}const E=n(22),b=n(10);var f=n(132);const y=E.taskName,g=["updatePdf","warnPdf","normalizePdf","tGuess","tGuessSd","pThreshold","xThreshold","beta","delta","gamma","grain","dim","quantileOrder"];function w(){return N.store.processedData}function x(e){return"component_"+e}function k(e,t,n,a,r,s,i,l,o,c){const m=N.store,u=x(e);m[u]={},m[u].decibels=t,m[u].response=n,m[u].responseTime=a,b.isUndefined(r)||(m[u].ratings=r),b.isUndefined(s)||(m[u].ratingsRaw=s),b.isUndefined(i)||(m[u].surprisals=i),b.isUndefined(l)||(m[u].surprisalsRaw=l),m[u].timestamps=o,m[u].startTimestamp=c,N.save()}function S(){return N.store.encrypted_metadata}function T(){return N.store.survey_url}function v(){return N.store.dataSent}function C(e){N.store.dataSent=e,N.save()}function R(){if(b.isUndefined(S()))return!1;if(b.isUndefined(N.store.quest))return!1;if(!E.debug)for(let t=1;t<=4;t++)if(b.isUndefined((e=t,N.store[x(e)])))return!1;var e;return!0}const N={get store(){if(b.isUndefined(this._store))if(m()){const e=JSON.parse(localStorage.getItem(y));this._store=e||{}}else this._store={};return this._store},save(){m()&&(localStorage.setItem(y,JSON.stringify(this.store)),E.debug&&console.log("saved: "+localStorage.getItem(y)))},clear(){E.debug&&console.log("cleared"),this._store=void 0,m()&&localStorage.removeItem(y)}};function I(){const e=S(),t=v();N.clear(),N.store.encrypted_metadata=e,N.store.dataSent=t,N.save()}function O(){const e=document.createElement("a"),t=new Blob([JSON.stringify(localStorage)],{type:"text/plain"});e.href=URL.createObjectURL(t),e.download="MCH_tast_data.txt",document.body.appendChild(e),e.click()}var _=n(410),D=n(10);class P extends a.Component{constructor(e){super(e),this.keyFunction=this.keyFunction.bind(this),this.state={continue:!1,invalid:!1,dataSent:!1}}keyFunction(e){81===e.keyCode&&this.setState((e,t)=>({continue:!0}))}componentDidMount(){document.addEventListener("keydown",this.keyFunction,!1);const e=_.parse(this.props.location.search,{ignoreQueryPrefix:!0});var t,n;D.isUndefined(e.id)?D.isUndefined(S())&&this.setState({invalid:!0}):(t=e.id)!==N.store.encrypted_metadata&&(N.clear(),N.store.encrypted_metadata=t,N.save()),D.isUndefined(e.survey_url)||(n=e.survey_url,N.store.survey_url=n,N.save()),v()&&this.setState({dataSent:!0})}componentWillUnmount(){document.removeEventListener("keydown",this.keyFunction,!1)}render(){return this.state.invalid?r.a.createElement(l.a,{to:"/Error"}):this.state.dataSent?r.a.createElement(l.a,{to:"/ThankYou"}):!0===this.state.continue?r.a.createElement(l.a,{to:"/Instructions"}):r.a.createElement("div",{className:"Welcome"},r.a.createElement("input",{type:"hidden"}),r.a.createElement("header",{className:"Welcome-header"},r.a.createElement("div",{className:"text-container"},r.a.createElement("p",{className:"Welcome-text"},r.a.createElement("span",{className:"bigger"},"Welcome to the study! "),r.a.createElement("br",null),r.a.createElement("br",null)," In this task you will hear a series of 6 note melodies.",r.a.createElement("br",null),r.a.createElement("br",null)," You will be asked to indicate whether you hear the sixth note of the melody being played.",r.a.createElement("br",null),r.a.createElement("br",null),"Please enter responses to the questions asked by pressing the:",r.a.createElement("br",null),r.a.createElement("br",null),"  ",r.a.createElement("font",{size:"+2"}," ",r.a.createElement("b",null," 'Q' key for 'YES I HEAR IT'")," or ",r.a.createElement("b",null," 'E' key for \"NO I DO NOT\"")," "),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null)," Sometimes it may be difficult to answer, but if you do not know, please make your best guess.",r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null)," Please keep your volume (including headphones) and screen brightness at maximum level throughout the experiment.",r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null)," PRESS the ",r.a.createElement("b",null," YES I HEAR IT / 'Q' key ")," to CONTINUE")),r.a.createElement("a",{href:"https://medicine.yale.edu/psychiatry/care/cmhc/",title:"Learn more about the Connecticut Mental Health Center",target:"_blank",rel:"noopener noreferrer"},r.a.createElement("img",{src:c.a,className:"Site-link",alt:"logo"}))))}}var L=P;n(419);class Y extends a.Component{constructor(e){super(e),this.keyFunction=e=>{81===e.keyCode&&this.setState((e,t)=>({continue:!0}))},this.state={continue:!1}}componentDidMount(){document.addEventListener("keydown",this.keyFunction,!1)}componentWillUnmount(){document.removeEventListener("keydown",this.keyFunction,!1)}render(){return!0===this.state.continue?r.a.createElement(l.a,{to:"/Trial_P"}):r.a.createElement("div",{className:"Instructions"},r.a.createElement("input",{type:"hidden"}),r.a.createElement("header",{className:"Instructions-header"},r.a.createElement("div",{className:"text-container"},r.a.createElement("p",{className:"Instructions-text"},"This is a hearing test.",r.a.createElement("br",null),r.a.createElement("br",null)," Auditory white noise (like static radio) will be played throughout the experiment.",r.a.createElement("br",null),r.a.createElement("br",null)," If the final note of the melody is played, it will play at the same time as horizontal red stripes appear on the screen.",r.a.createElement("br",null),r.a.createElement("br",null)," Thus, only respond when you see the stripes. Please keep your eyes on the fixation cross at the center of the screen",r.a.createElement("br",null),r.a.createElement("br",null)," throughout the whole task.",r.a.createElement("br",null),r.a.createElement("br",null)," Press  ",r.a.createElement("font",{size:"+2"},"  ",r.a.createElement("b",null,' "Q"/YES ')," ")," if you ",r.a.createElement("b",null," DO ")," hear a note when you see the striped screen.",r.a.createElement("br",null),r.a.createElement("br",null)," Press ",r.a.createElement("font",{size:"+2"}," ",r.a.createElement("b",null,' "E"/NO ')," ")," if you ",r.a.createElement("b",null," DO NOT ")," hear a note when you see the striped screen.",r.a.createElement("br",null),r.a.createElement("br",null)," Please respond as ",r.a.createElement("b",null," QUICKLY ")," and as ",r.a.createElement("b",null," ACCURATELY ")," as you ",r.a.createElement("b",null," POSSIBLY CAN "),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),' PRESS "Q"/YES TO BEGIN A SHORT PRACTICE SESSION'))))}}var F=Y,A=(n(420),()=>r.a.createElement("div",{className:"NotFound"},r.a.createElement("h3",null,"Sorry, page not found!")));n(421);class U extends a.Component{constructor(e){super(e),this.keyFunction=e=>{81===e.keyCode&&this.setState((e,t)=>({continue:!0}))},this.state={continue:!1}}componentDidMount(){document.addEventListener("keydown",this.keyFunction,!1)}componentWillUnmount(){document.removeEventListener("keydown",this.keyFunction,!1)}render(){return!0===this.state.continue?r.a.createElement(l.a,{to:"/Trial_TT_1"}):r.a.createElement("div",{className:"Complete"},r.a.createElement("header",{className:"Complete-header"},r.a.createElement("div",{className:"text-container"},r.a.createElement("p",{className:"Complete-text"},"Congratulations!",r.a.createElement("br",null),r.a.createElement("br",null)," The first part of the experiment is over.",r.a.createElement("br",null),r.a.createElement("br",null)," Now we will continue with the next trials. Now, there will be ratings similar to the third practice.",r.a.createElement("br",null),r.a.createElement("br",null)," You will see two rating screens following each red horizontal stripes. For the first screen press",r.a.createElement("br",null),r.a.createElement("br",null)," and then hold the ",r.a.createElement("b",null,' "Q"/YES ')," button or ",r.a.createElement("b",null,' "E"/NO ')," button.",r.a.createElement("br",null),r.a.createElement("br",null)," The longer you hold it down, the more certain you are of your choice.",r.a.createElement("br",null),r.a.createElement("br",null)," If you hold ",r.a.createElement("b",null,' "Q"/YES '),"  button down for a long time, you are very certain that you  ",r.a.createElement("b",null," DO ")," hear the final note.",r.a.createElement("br",null),r.a.createElement("br",null)," If you hold ",r.a.createElement("b",null,' "E"/NO '),"  button down for a long time, you are very certain that you ",r.a.createElement("b",null," DO NOT ")," hear the final note.",r.a.createElement("br",null),r.a.createElement("br",null)," For the second screen press the same key again to indicate the fit of the final note.",r.a.createElement("br",null),r.a.createElement("br",null)," The longer you hold it down, the better the final note fit into the melody.",r.a.createElement("br",null),r.a.createElement("br",null)," If you hold the key down for a long time, the final note was a ",r.a.createElement("b",null," GOOD FIT "),".",r.a.createElement("br",null),r.a.createElement("br",null)," If you hold the key down for a short time, the final note was a ",r.a.createElement("b",null," BAD FIT "),".",r.a.createElement("br",null),r.a.createElement("br",null)," Please respond as ",r.a.createElement("b",null," QUICKLY ")," and as ",r.a.createElement("b",null," ACCURATELY ")," as you ",r.a.createElement("b",null," POSSIBLY CAN "),r.a.createElement("br",null),r.a.createElement("br",null)," Please remember to keep your eyes on the fixation cross throughout the task",r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),' PRESS "Q"/YES WHEN READY TO CONTINUE.'))))}}var H=U;n(422);class M extends a.Component{constructor(e){super(e),this.keyFunction=e=>{81===e.keyCode&&this.setState((e,t)=>({continue:!0}))},this.state={continue:!1}}componentDidMount(){document.addEventListener("keydown",this.keyFunction,!1)}componentWillUnmount(){document.removeEventListener("keydown",this.keyFunction,!1)}render(){return!0===this.state.continue?r.a.createElement(l.a,{to:"/Trial_P_rating"}):r.a.createElement("div",{className:"Continue"},r.a.createElement("header",{className:"Continue-header"},r.a.createElement("div",{className:"text-container"},r.a.createElement("p",{className:"Continue-text"},"Great!",r.a.createElement("br",null),r.a.createElement("br",null)," First task complete! You will do the same thing in the next task, with some important differences:",r.a.createElement("br",null),r.a.createElement("br",null)," You will see a rating screen following each horizontal red stripes, press",r.a.createElement("br",null),r.a.createElement("br",null)," and then hold the ",r.a.createElement("b",null,' "Q"/YES ')," button or ",r.a.createElement("b",null,' "E"/NO ')," button.",r.a.createElement("br",null),r.a.createElement("br",null)," The longer you hold it down, the more certain you are of your choice.",r.a.createElement("br",null),r.a.createElement("br",null)," If you hold ",r.a.createElement("b",null,' "Q"/YES '),"  button down for a long time, you are very certain that you  ",r.a.createElement("b",null," DO ")," hear the final note of the melody.",r.a.createElement("br",null),r.a.createElement("br",null)," If you hold ",r.a.createElement("b",null,' "E"/NO '),"  button down for a long time, you are very certain that you ",r.a.createElement("b",null," DO NOT ")," hear the final note of the melody.",r.a.createElement("br",null),r.a.createElement("br",null)," Please respond as ",r.a.createElement("b",null," QUICKLY ")," and as ",r.a.createElement("b",null," ACCURATELY ")," as you ",r.a.createElement("b",null," POSSIBLY CAN "),r.a.createElement("br",null),r.a.createElement("br",null)," Please remember to keep your eyes on the fixation cross throughout the task!",r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),' PRESS "Q"/YES WHEN READY TO CONTINUE.'))))}}var W=M;n(134);class q extends a.Component{constructor(e){super(e),this.keyFunction=e=>{81===e.keyCode&&this.setState((e,t)=>({continue:!0}))},this.state={continue:!1}}componentDidMount(){document.addEventListener("keydown",this.keyFunction,!1)}componentWillUnmount(){document.removeEventListener("keydown",this.keyFunction,!1)}render(){return!0===this.state.continue?r.a.createElement(l.a,{to:"/Trial_P_surprisal"}):r.a.createElement("div",{className:"Continue_rating"},r.a.createElement("header",{className:"Continue_rating-header"},r.a.createElement("div",{className:"text-container"},r.a.createElement("p",{className:"Continue_rating-text"},"Great!",r.a.createElement("br",null),r.a.createElement("br",null)," Second task complete! You will do the same thing in the next task, with some important differences:",r.a.createElement("br",null),r.a.createElement("br",null)," After the certainty rating screen you will see another rating screen where you are to indicate how well",r.a.createElement("br",null),r.a.createElement("br",null)," the final note fit into the rest of the melody. Press and then hold the same key from the previous rating screen.",r.a.createElement("br",null),r.a.createElement("br",null)," The longer you hold it down, the better the final note fit into the melody.",r.a.createElement("br",null),r.a.createElement("br",null)," If you hold the key down for a long time, the final note was a ",r.a.createElement("b",null," GOOD FIT "),".",r.a.createElement("br",null),r.a.createElement("br",null)," If you hold the key down for a short time, the final note was a ",r.a.createElement("b",null," BAD FIT "),".",r.a.createElement("br",null),r.a.createElement("br",null)," So, for this task you will see the certainty rating screen first followed by the fit rating screen.",r.a.createElement("br",null),r.a.createElement("br",null)," Please respond as ",r.a.createElement("b",null," QUICKLY ")," and as ",r.a.createElement("b",null," ACCURATELY ")," as you ",r.a.createElement("b",null," POSSIBLY CAN "),r.a.createElement("br",null),r.a.createElement("br",null)," Please remember to keep your eyes on the fixation cross throughout the task!",r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),' PRESS "Q"/YES WHEN READY TO CONTINUE.'))))}}var z=q;class B extends a.Component{constructor(e){super(e),this.keyFunction=e=>{81===e.keyCode&&this.setState((e,t)=>({continue:!0}))},this.state={continue:!1}}componentDidMount(){document.addEventListener("keydown",this.keyFunction,!1)}componentWillUnmount(){document.removeEventListener("keydown",this.keyFunction,!1)}render(){return!0===this.state.continue?r.a.createElement(l.a,{to:"/TrialQ"}):r.a.createElement("div",{className:"Continue_rating"},r.a.createElement("header",{className:"Continue_rating-header"},r.a.createElement("div",{className:"text-container"},r.a.createElement("p",{className:"Continue_rating-text"},"Great!",r.a.createElement("br",null),r.a.createElement("br",null)," You have completed the practice trials. Now onto the real test.",r.a.createElement("br",null),r.a.createElement("br",null),"  It is important to note that the final notes in the practice sessions were there to make sure",r.a.createElement("br",null),r.a.createElement("br",null),"  you understood what to do, with very obvious and impossible-to-hear tones.",r.a.createElement("br",null),r.a.createElement("br",null),"  The final note of the melodies in the remainder of the experiment",r.a.createElement("br",null),r.a.createElement("br",null),"  may be very difficult to hear so you will have to listen very hard.",r.a.createElement("br",null),r.a.createElement("br",null),"  Sometimes it might be difficult to answer, but if you do not know, please guess.",r.a.createElement("br",null),r.a.createElement("br",null),"  For this first task, you will NOT be asked to rate your confidence or fit of the note so just quickly press",r.a.createElement("br",null),r.a.createElement("br",null),"  and release the button as soon as the screen flashes with the diagonal red stripes.",r.a.createElement("br",null),r.a.createElement("br",null)," Press  ",r.a.createElement("font",{size:"+2"},"  ",r.a.createElement("b",null,' "Q"/YES ')," ")," if you ",r.a.createElement("b",null," DO "),"hear the note.",r.a.createElement("br",null),r.a.createElement("br",null)," Press ",r.a.createElement("font",{size:"+2"}," ",r.a.createElement("b",null,' "E"/NO ')," ")," if you ",r.a.createElement("b",null," DO NOT ")," hear the note.",r.a.createElement("br",null),r.a.createElement("br",null)," Please respond as ",r.a.createElement("b",null," QUICKLY ")," and as ",r.a.createElement("b",null," ACCURATELY ")," as you ",r.a.createElement("b",null," POSSIBLY CAN "),r.a.createElement("br",null),r.a.createElement("br",null)," Please remember to keep your eyes on the fixation cross throughout the task!",r.a.createElement("br",null),r.a.createElement("br",null)," There will be scheduled breaks throughout the experiment, but please do not take a break unless instructed.",r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),' PRESS "Q"/YES TO BEGIN THE EXPERIMENT.'))))}}var Q=B,K=(n(423),n(135),n(143)),G=n.n(K),j=n(144),J=n.n(j),V=n(145),X=n.n(V),$=n(146),Z=n.n($),ee=n(147),te=n.n(ee),ne=n(148),ae=n.n(ne),re=n(149),se=n.n(re),ie=n(150),le=n.n(ie),oe=n(151),ce=n.n(oe),me=n(152),ue=n.n(me);n(10),n(424);const de={0:"",1:G.a,2:J.a,3:X.a,4:Z.a,5:te.a},pe={0:"",1:ae.a,2:se.a,3:le.a,4:ce.a,5:ue.a};class he extends a.Component{constructor(e){super(e)}drawCanvas(){this.resizeCanvas();var e=document.getElementById("c"),t=e.getContext("2d"),n=t.getImageData(0,0,e.width,e.height),a=n.data;const r=e.width,s=e.height,i=Math.max(1,e.height/18),l=Math.floor(r/i),o=Math.floor(s/i);let c=(r/i-l)/2*i,m=(s/i-o)/2*i;l%2==1&&(c+=i/2),o%2==1&&(m+=i/2);for(var u=0;u<r;u++)for(var d=0;d<s;d++)if(this.props.showContrast){const e=163*Math.abs(Math.floor((d-m)/i)%2);a[4*(u+d*r)+0]=.80224*e,a[4*(u+d*r)+1]=0,a[4*(u+d*r)+2]=0,a[4*(u+d*r)+3]=255}else a[4*(u+d*r)+0]=0,a[4*(u+d*r)+1]=0,a[4*(u+d*r)+2]=0,a[4*(u+d*r)+3]=255;t.putImageData(n,0,0)}resizeCanvas(){var e=document.getElementById("c");e.width=window.innerWidth,e.height=window.innerHeight}componentDidMount(){this.drawCanvas()}componentDidUpdate(e){this.drawCanvas()}render(){return r.a.createElement("div",null,this.props.surprisalReady?r.a.createElement(r.a.Fragment,null,r.a.createElement("img",{src:pe[this.props.currentSurprisal],width:256,height:256,className:"center",style:{zIndex:101,width:"95vh",height:"50vh",backgroundColor:"black",visibility:this.props.showSurprisals?"visible":"hidden"}}),r.a.createElement("div",{style:{zIndex:100,backgroundColor:"black",width:"100vw",height:"100vh",position:"fixed",top:0,left:0,visibility:this.props.showSurprisals?"visible":"hidden"}})):r.a.createElement(r.a.Fragment,null),this.props.surprisalReady?r.a.createElement(r.a.Fragment,null):r.a.createElement(r.a.Fragment,null,r.a.createElement("img",{src:de[this.props.currentRating],width:256,height:256,className:"center",style:{zIndex:101,width:"95vh",height:"50vh",backgroundColor:"black",visibility:this.props.showRatings?"visible":"hidden"}}),r.a.createElement("div",{style:{zIndex:100,backgroundColor:"black",width:"100vw",height:"100vh",position:"fixed",top:0,left:0,visibility:this.props.showRatings?"visible":"hidden"}})),r.a.createElement("canvas",{id:"c",style:{position:"fixed",top:0,left:0,zIndex:1,width:"100%",height:"100%"}}),r.a.createElement("div",{className:"center cross-1",style:{zIndex:10}}),r.a.createElement("div",{className:"center cross-2",style:{zIndex:10}}))}}he.defaultProps={showContrast:!1,showRatings:!1,showSurprisals:!1,contrast:0,surprisalReady:!1};var Ee=he,be=n(73),fe=n.n(be),ye=n(153),ge=n.n(ye),we=n(154),xe=n.n(we),ke=n(155),Se=n.n(ke),Te=n(156),ve=n.n(Te),Ce=n(157),Re=n.n(Ce),Ne=n(158),Ie=n.n(Ne),Oe=n(159),_e=n.n(Oe),De=n(160),Pe=n.n(De),Le=n(161),Ye=n.n(Le),Fe=n(162),Ae=n.n(Fe);var Ue=[ge.a,xe.a,Se.a,ve.a,Re.a,Ie.a,_e.a,Pe.a,Ye.a,Ae.a],He=n(163),Me=n.n(He),We=n(164),qe=n.n(We),ze=n(165),Be=n.n(ze),Qe=n(166),Ke=n.n(Qe),Ge=n(167),je=n.n(Ge),Je=n(168),Ve=n.n(Je),Xe=n(169),$e=n.n(Xe),Ze=n(170),et=n.n(Ze),tt=n(171),nt=n.n(tt),at=n(172),rt=n.n(at);var st=[Me.a,qe.a,Be.a,Ke.a,je.a,Ve.a,$e.a,et.a,nt.a,rt.a],it=n(173),lt=n.n(it),ot=n(174),ct=n.n(ot),mt=n(175),ut=n.n(mt),dt=n(176),pt=n.n(dt),ht=n(177),Et=n.n(ht),bt=n(178),ft=n.n(bt),yt=n(179),gt=n.n(yt),wt=n(180),xt=n.n(wt),kt=n(181),St=n.n(kt),Tt=n(182),vt=n.n(Tt);var Ct=[lt.a,ct.a,ut.a,pt.a,Et.a,ft.a,gt.a,xt.a,St.a,vt.a],Rt=n(183),Nt=n.n(Rt),It=n(184),Ot=n.n(It),_t=n(185),Dt=n.n(_t),Pt=n(186),Lt=n.n(Pt),Yt=n(187),Ft=n.n(Yt),At=n(188),Ut=n.n(At),Ht=n(189),Mt=n.n(Ht),Wt=n(190),qt=n.n(Wt),zt=n(191),Bt=n.n(zt),Qt=n(192),Kt=n.n(Qt),Gt=n(193),jt=n.n(Gt),Jt=n(194),Vt=n.n(Jt),Xt=n(195),$t=n.n(Xt),Zt=n(196),en=n.n(Zt),tn=n(197),nn=n.n(tn),an=n(198),rn=n.n(an),sn=n(199),ln=n.n(sn),on=n(200),cn=n.n(on),mn=n(201),un=n.n(mn),dn=n(202),pn=n.n(dn),hn=n(203),En=n.n(hn),bn=n(204),fn=n.n(bn),yn=n(205),gn=n.n(yn),wn=n(206),xn=n.n(wn),kn=n(207),Sn=n.n(kn),Tn=n(208),vn=n.n(Tn),Cn=n(209),Rn=n.n(Cn),Nn=n(210),In=n.n(Nn),On=n(211),_n=n.n(On),Dn=n(212),Pn=n.n(Dn),Ln=n(213),Yn=n.n(Ln),Fn=n(214),An=n.n(Fn),Un=n(215),Hn=n.n(Un),Mn=n(216),Wn=n.n(Mn),qn=n(217),zn=n.n(qn),Bn=n(218),Qn=n.n(Bn),Kn=n(219),Gn=n.n(Kn),jn=n(220),Jn=n.n(jn),Vn=n(221),Xn=n.n(Vn),$n=n(222),Zn=n.n($n),ea=n(223),ta=n.n(ea),na=n(224),aa=n.n(na),ra=n(225),sa=n.n(ra),ia=n(226),la=n.n(ia),oa=n(227),ca=n.n(oa),ma=n(228),ua=n.n(ma),da=n(229),pa=n.n(da),ha=n(230),Ea=n.n(ha),ba=n(231),fa=n.n(ba),ya=n(232),ga=n.n(ya),wa=n(233),xa=n.n(wa),ka=n(234),Sa=n.n(ka),Ta=n(235),va=n.n(Ta),Ca=n(236),Ra=n.n(Ca),Na=n(237),Ia=n.n(Na),Oa=n(238),_a=n.n(Oa),Da=n(239),Pa=n.n(Da),La=n(240),Ya=n.n(La),Fa=n(241),Aa=n.n(Fa),Ua=n(242),Ha=n.n(Ua),Ma=n(243),Wa=n.n(Ma),qa=n(244),za=n.n(qa),Ba=n(245),Qa=n.n(Ba),Ka=n(246),Ga=n.n(Ka),ja=n(247),Ja=n.n(ja),Va=n(248),Xa=n.n(Va),$a=n(249),Za=n.n($a),er=n(250),tr=n.n(er),nr=n(251),ar=n.n(nr),rr=n(252),sr=n.n(rr),ir=n(253),lr=n.n(ir),or=n(254),cr=n.n(or),mr=n(255),ur=n.n(mr),dr=n(256),pr=n.n(dr),hr=n(257),Er=n.n(hr),br=n(258),fr=n.n(br),yr=n(259),gr=n.n(yr),wr=n(260),xr=n.n(wr),kr=n(261),Sr=n.n(kr),Tr=n(262),vr=n.n(Tr),Cr=n(263),Rr=n.n(Cr),Nr=n(264),Ir=n.n(Nr),Or=n(265),_r=n.n(Or),Dr=n(266),Pr=n.n(Dr);var Lr=[Nt.a,Ot.a,Dt.a,Lt.a,Ft.a,Ut.a,Mt.a,qt.a,Bt.a,Kt.a,jt.a,Vt.a,$t.a,en.a,nn.a,rn.a,ln.a,cn.a,un.a,pn.a,En.a,fn.a,gn.a,xn.a,Sn.a,vn.a,Rn.a,In.a,_n.a,Pn.a,Yn.a,An.a,Hn.a,Wn.a,zn.a,Qn.a,Gn.a,Jn.a,Xn.a,Zn.a,ta.a,aa.a,sa.a,la.a,ca.a,ua.a,pa.a,Ea.a,fa.a,ga.a,xa.a,Sa.a,va.a,Ra.a,Ia.a,_a.a,Pa.a,Ya.a,Aa.a,Ha.a,Wa.a,za.a,Qa.a,Ga.a,Ja.a,Xa.a,Za.a,tr.a,ar.a,sr.a,lr.a,cr.a,ur.a,pr.a,Er.a,fr.a,gr.a,xr.a,Sr.a,vr.a,Rr.a,Ir.a,_r.a,Pr.a],Yr=n(10);const Fr=n(22);var Ar=window.AudioContext||window.webkitAudioContext;Yr.map(Yr.keys({49:1,50:2,51:3,52:4,53:5}),e=>parseInt(e,10)),Yr.map(Yr.keys({49:1,50:2,51:3,52:4,53:5}),e=>parseInt(e,10));let Ur=[];class Hr extends a.Component{constructor(e){super(e),this.playStimulus=()=>{var e=this;if(Fr.debug&&e.log_debug(),e.state.index==e.props.decibels.length)return void e.shutdown();if(e.numAttempts++==e.numAttemptsLimit)return void e.setState({complete:!0});e.setState({responseWindow:!0}),e.startTime=(new Date).getTime();const t=e.props.decibels[e.state.index];if(0==e.props.audioSource.length)e.setState({keyInput:!0}),console.log("key inputs true"),setTimeout(()=>{e.playVisualStimulus(1e3);let n=new Audio(fe.a);console.log("dec "+t);let a=498574e-11*Math.pow(1.18765,t);console.log("volume"+a),n.volume=a,n.play(),this.stimulusTimer=setTimeout(this.playStimulus,e.delay+e.jitter())},500),this.addTimestamp("stim");else{let n=Ur[e.state.index];n.volume=.3,n.play(),setTimeout(()=>{e.setState({keyInput:!0}),console.log("key inputs true")},2300),setTimeout(()=>{console.log("visual stimulus playing"),e.playVisualStimulus(1e3),n.pause(),n.currentTime=0;let a=new Audio(fe.a),r=498574e-11*Math.pow(1.18765,t);a.volume=r,a.play(),this.stimulusTimer=setTimeout(this.playStimulus,e.delay+e.jitter())},2450),this.addTimestamp("stim")}},this.recordResponse=e=>{if(this.state.responseWindow&&Yr.includes([81,69],e.keyCode)){var t=this;this.addTimestamp("resp");var n=(new Date).getTime();const s=81===e.keyCode?1:0;if(this.response.push(s),this.responseTime.push(n-this.startTime),this.setState({responseWindow:!1}),this.timebox=null,this.props.responseHandler(s),this.props.shouldRecordSurprisals){function a(){0==t.state.surprisalReady?t.finishedTimer=setTimeout(()=>{a()},100):(t.surprisalStartTime=(new Date).getTime(),function e(){t.numIterations++,t.surprisalTimer=setTimeout(()=>{if(5==t.numIterations||t.state.stopShowingSurprisal)return t.numIterations=0,t.prevKey=null,t.finishSurprisalWindow(),t.setState({surprisalReady:!1,confidenceFinished:!1,keyInput:!1}),void console.log("key inputs false");t.state.stopIncrementingSurprisal||t.setState({currentSurprisal:t.state.currentSurprisal+1}),e()},250)}())}function r(){t.numIterations++,t.ratingTimer=setTimeout(()=>{if(5==t.numIterations||t.state.stopShowingRating)return t.numIterations=0,t.prevKey=null,t.setState({confidenceFinished:!0}),t.finishRatingWindow(),void a();t.state.stopIncrementingRating||t.setState({currentRating:t.state.currentRating+1}),r()},250)}clearTimeout(this.stimulusTimer),this.setState({ratingWindow:!0,surprisalWindow:!0,currentRating:t.numIterations||1,currentSurprisal:t.numIterations||1,stopShowingRating:!1,stopIncrementingRating:!1,confidenceFinished:!1,stopShowingSurprisal:!1,stopIncrementingSurprisal:!1}),t.numIterations=t.numIterations||0,this.ratingStartTime=(new Date).getTime(),r()}else if(this.props.shouldRecordRatings){function r(){t.numIterations++,t.ratingTimer=setTimeout(()=>{if(5==t.numIterations||t.state.stopShowingRating)return t.numIterations=0,t.prevKey=null,t.finishRatingWindow(),t.setState({keyInput:!1}),void console.log("key inputs false");t.state.stopIncrementingRating||t.setState({currentRating:t.state.currentRating+1}),r()},250)}clearTimeout(this.stimulusTimer),this.setState({ratingWindow:!0,currentRating:t.numIterations||1,stopShowingRating:!1,stopIncrementingRating:!1}),t.numIterations=t.numIterations||0,this.ratingStartTime=(new Date).getTime(),r()}else this.prevKey=null,this.setState({index:this.state.index+1})}else this.prevKey=null},this.keyDownFunction=e=>{if(this.state.readyToStart)return this.setState({readyToStart:!1}),this.audioContext.resume(),void this.startTrial();if(0!=this.state.keyInput){if(Yr.includes([81,69],e.keyCode)){if(this.isKeyDown[e.keyCode])return;this.isKeyDown[e.keyCode]=!0}null===this.prevKey&&(this.prevKey=e.keyCode),this.prevKey===e.keyCode&&(clearTimeout(this.timebox),this.timebox=setTimeout(()=>{this.props.shouldRecordSurprisals&&this.state.confidenceFinished?(this.setState({stopIncrementingSurprisal:!1}),this.setState({surprisalReady:!0}),this.surprisalStartTime=(new Date).getTime()):(this.setState({stopIncrementingRating:!1}),this.recordResponse(e))},50))}},this.keyUpFunction=e=>{if(0!=this.state.keyInput){if(this.props.shouldRecordSurprisals){if(Yr.includes([81,69],e.keyCode)&&(this.isKeyDown[e.keyCode]=!1),this.state.surprisalReady){this.setState({stopIncrementingSurprisal:!0});if((1==Yr.last(this.response)?81:69)==e.keyCode){this.addTimestamp("surprisal");var t=(new Date).getTime();this.surprisalsRaw.push(t-this.surprisalStartTime)}}else this.setState({stopIncrementingRating:!0});if(this.state.surprisalWindow)if(this.timebox)setTimeout(()=>{this.timebox=null,this.prevKey=null},250);else{if((1==Yr.last(this.response)?81:69)==e.keyCode){this.addTimestamp("rating");t=(new Date).getTime();this.ratingsRaw.push(t-this.ratingStartTime)}}}else if(Yr.includes([81,69],e.keyCode)&&(this.isKeyDown[e.keyCode]=!1),this.setState({stopIncrementingRating:!0}),this.setState({stopIncrementingSurprisal:!0}),this.state.ratingWindow)if(this.timebox)setTimeout(()=>{this.timebox=null,this.prevKey=null},250);else{if((1==Yr.last(this.response)?81:69)==e.keyCode){this.addTimestamp("rating");t=(new Date).getTime();this.ratingsRaw.push(t-this.ratingStartTime)}}}else console.log("IGNORE IGNORE up")},this.finishRatingWindow=()=>{if(this.ratings.push(this.state.currentRating),this.ratings.length>this.ratingsRaw.length){this.addTimestamp("rating");var e=(new Date).getTime();this.ratingsRaw.push(e-this.ratingStartTime),this.setState({stopIncrementingRating:!0})}this.props.shouldRecordSurprisals?this.setState({ratingWindow:!1}):(this.setState({index:this.state.index+1,ratingWindow:!1}),this.stimulusTimer=setTimeout(this.playStimulus,1e3+this.jitter()))},this.finishSurprisalWindow=()=>{if(this.surprisals.push(this.state.currentSurprisal),this.surprisals.length>this.surprisalsRaw.length){this.addTimestamp("surprisal");var e=(new Date).getTime();this.surprisalsRaw.push(e-this.surprisalStartTime),this.setState({stopIncrementingRating:!0}),this.setState({stopIncrementingSurprisal:!0})}this.setState({index:this.state.index+1,ratingWindow:!1,surprisalWindow:!1}),this.stimulusTimer=setTimeout(this.playStimulus,1e3+this.jitter())},this.state={index:0,showContrast:!1,responseWindow:!1,ratingWindow:!1,surprisalWindow:!1,trialStarted:!1,complete:!1,invalid:!1,readyToStart:!1,dataSent:v(),currentRating:1,stopIncrementingRating:!1,stopShowingRating:!1,currentSurprisal:1,stopIncrementingSurprisal:!1,stopShowingSurprisal:!1,confidenceFinished:!1,surprisalReady:!1,keyInput:!1},this.canvasRef=r.a.createRef(),this.audioContext=new Ar,this.initialDelay=2e3,this.delay=5e3,this.numAttempts=0,this.numAttemptsLimit=1e3,this.response=[],this.responseTime=[],this.ratings=[],this.ratingsRaw=[],this.surprisals=[],this.surprisalsRaw=[],this.timestamps=[],this.ratingTimer=void 0,this.surprisalTimer=void 0,this.stimulusTimer=void 0,this.finishedTimer=void 0,this.componentStartTime=0,this.startTime=0,this.ratingStartTime=0,this.surprisalStartTime=0,this.timebox=null,this.numIterations=0,this.isKeyDown={Q_KEY_CODE:!1,E_KEY_CODE:!1},this.prevKey=null}addTimestamp(e){"start"==e?(this.componentStartTime=(new Date).getTime(),this.timestamps.push([e,0])):this.timestamps.push([e,(new Date).getTime()-this.componentStartTime])}playVisualStimulus(e){this.setState({showContrast:!0}),setTimeout(()=>{this.setState({showContrast:!1})},e)}startTrial(){this.setState({trialStarted:!0}),this.stimulusTimer=setTimeout(this.playStimulus,this.initialDelay),function(e){for(var t=3*e.sampleRate,n=e.createBuffer(2,t,e.sampleRate),a=(n.getChannelData(0),0);a<n.numberOfChannels;a++)for(var r=n.getChannelData(a),s=0;s<n.length;s++)r[s]=(2*Math.random()-1)*h(80,.015,78.3);var i=e.createBufferSource();i.buffer=n,i.loop=!0,i.connect(e.destination),i.start(0)}(this.audioContext),this.addTimestamp("start")}jitter(){return Math.random()/2*1e3}shutdown(){this.addTimestamp("end"),this.saveDataToStore(),this.setState({complete:!0})}saveDataToStore(){this.props.dataHandler(this.props.decibels,this.response,this.responseTime,this.ratings,this.ratingsRaw,this.surprisals,this.surprisalsRaw,this.timestamps)}componentDidMount(){document.addEventListener("keydown",this.keyDownFunction,!1),document.addEventListener("keyup",this.keyUpFunction,!1);for(let e=0;e<this.props.audioSource.length;e++)Ur.push(new Audio(this.props.audioSource[e]));Yr.isUndefined(S())&&this.setState({invalid:!0}),!1===this.state.complete&&setTimeout(()=>{this.setState({readyToStart:!0})},0)}componentWillUnmount(){document.removeEventListener("keydown",this.keyDownFunction,!1),document.removeEventListener("keyup",this.keyUpFunction,!1),this.audioContext.close()}render(){return this.state.invalid?r.a.createElement(l.a,{to:"/Error"}):this.state.dataSent?r.a.createElement(l.a,{to:"/ThankYou"}):this.state.complete?this.props.trialCompleteRenderer(this.props.decibels,this.response):r.a.createElement("div",{className:"Trial "+(this.state.trialStarted?"Trial-gray":"")},this.state.trialStarted?r.a.createElement("div",{className:"Trial-stimulus"},r.a.createElement(Ee,{showContrast:this.state.showContrast,showRatings:this.state.ratingWindow,showSurprisals:this.state.surprisalWindow,currentRating:this.state.currentRating,currentSurprisal:this.state.currentSurprisal,surprisalReady:this.state.surprisalReady})):r.a.createElement("p",{className:"Trial-text"},this.state.readyToStart?r.a.createElement("span",null,"Press any key to begin"):r.a.createElement("span",null,"Loading...")))}log_debug(){console.log("================================"),console.log("all decibels: "+this.props.decibels),console.log("all responses: "+this.response),console.log("all responseTime: "+this.responseTime),console.log("all timestamps: "+JSON.stringify(this.timestamps)),console.log("all ratingsRaw: "+this.ratingsRaw),console.log("all ratings: "+this.ratings),console.log("all surprisalsRaw: "+this.surprisalsRaw),console.log("all surprisals: "+this.surprisals),console.log("index: "+this.state.index),console.log("numAttempts: "+this.numAttempts),console.log("store: "+JSON.stringify(N.store)),console.log("localStorage: "+JSON.stringify(localStorage)),console.log("================================\n")}}Hr.defaultProps={decibels:Fr.debug?Yr.shuffle([65,65,65,65]):Yr.concat([65],Yr.shuffle([0,0,0,0,0,65,65,65,65])),audioSource:[],shouldRecordRatings:!1,shouldRecordSurprisals:!1,trialCompleteRenderer:Yr.noop,responseHandler:Yr.noop,dataHandler:Yr.noop};var Mr=Hr,Wr=n(10);const qr=n(22);function zr(e,t,n){function a(a,r,s,i){return Wr.flatten([Wr.fill(Array(a),0),Wr.fill(Array(r),e),Wr.fill(Array(s),t),Wr.fill(Array(i),n)])}let r;return r=qr.debug?[a(1,1,1,0),a(1,1,1,0),a(1,1,1,0),a(1,1,1,0),a(1,1,1,0),a(1,1,1,0),a(1,1,1,0),a(1,1,1,0),a(1,1,1,0),a(1,1,1,0),a(1,1,1,0),a(1,1,1,0)]:[Wr.concat(Wr.fill(Array(5),n),Wr.shuffle(a(1,1,0,4))),a(1,0,1,2),a(2,1,1,2),a(3,1,2,1),a(3,2,1,1),a(3,2,1,1),a(3,2,2,0),a(3,2,1,1),a(3,2,2,0),a(3,2,2,1),a(3,1,2,0),a(3,2,2,0)],Wr.map(r,(e,t)=>0==t?e:Wr.shuffle(e))}function Br(e,t,n){if(Wr.isUndefined(Br.blocks))if(3==arguments.length)Br.blocks=zr(e,t,n);else{const e=w();if(!Wr.isUndefined(e)){const t=e.intensities.c25,n=e.intensities.c50,a=e.intensities.c75;Br.blocks=zr(t,n,a)}}return Br.blocks}var Qr=n(132);const Kr=n(22);class Gr extends a.Component{constructor(e){super(e),this.responseHandler=e=>{this.index>=this.maxIndex-1||(this.index%2===0?(this.q1.update(this.state.decibels[this.index],e),this.pushDecibel(this.q1.quantile())):(this.q2.update(this.state.decibels[this.index],e),this.pushDecibel(this.q2.quantile()))),this.index++},this.trialCompleteRenderer=()=>r.a.createElement(l.a,{to:"/Complete"}),this.dataHandler=(e,t,n,a,r,s)=>{const i=e.filter((e,t)=>t%2===0),l=t.filter((e,t)=>t%2===0),o=n.filter((e,t)=>t%2===0),c=e.filter((e,t)=>t%2===1),m=t.filter((e,t)=>t%2===1),u=n.filter((e,t)=>t%2===1);var d,p;!function(e,t,n,a,r,s,i,l,o,c){const m=N.store;m.quest={},m.quest.q1={},m.quest.q2={},m.quest.q1.decibels=n,m.quest.q1.response=a,m.quest.q1.responseTime=r,m.quest.q1.params=b.pick(e.params,g),m.quest.q2.decibels=s,m.quest.q2.response=i,m.quest.q2.responseTime=l,m.quest.q2.params=b.pick(t.params,g),m.quest.timestamps=o,m.quest.startTimestamp=c,N.save()}(this.q1,this.q2,i,l,o,c,m,u,s,this.startTimestamp),d=this.q1,p=this.q2,N.store.processedData=f.ProcessQuestData(d,p),N.save();const h=w();Br(h.intensities.c25,h.intensities.c50,h.intensities.c75)},this.startTimestamp=(new Date).getTime(),this.state={decibels:[]};this.q1=new Qr.Quest(58,4,.75,.1,.01,.01,.15,20),this.q2=new Qr.Quest(58,4,.75,.1,.01,.01,.15,20);const t=Kr.debug?2:20;this.index=0,this.maxIndex=2*t-1,this.state={decibels:[61,55]}}pushDecibel(e){this.setState({decibels:[...this.state.decibels,e]})}render(){return r.a.createElement(Mr,{decibels:this.state.decibels,shouldRecordRatings:!1,trialCompleteRenderer:this.trialCompleteRenderer,dataHandler:this.dataHandler,responseHandler:this.responseHandler})}}var jr=Gr;n(10);class Jr extends a.Component{constructor(e){super(e),this.trialCompleteRenderer=(e,t)=>{let n=0;for(let a=0;a<t.length;a++)n+=t[a]==e[a]>0;return n>.7*e.length?r.a.createElement(l.a,{to:"/Continue"}):r.a.createElement(l.a,{to:"/OnceMore"})},this.dataHandler=(e,t,n,a,r,s)=>{k("practice",e,t,n,void 0,void 0,s,this.startTimestamp)},this.startTimestamp=(new Date).getTime()}render(){return r.a.createElement(Mr,{audioSource:Ue,shouldRecordRatings:!1,trialCompleteRenderer:this.trialCompleteRenderer,dataHandler:this.dataHandler})}}var Vr=Jr;n(10);class Xr extends a.Component{constructor(e){super(e),this.trialCompleteRenderer=(e,t)=>{let n=0;for(let a=0;a<t.length;a++)n+=t[a]==e[a]>0;return n>.7*e.length?r.a.createElement(l.a,{to:"/Continue_rating"}):r.a.createElement(l.a,{to:"/OnceMore_rating"})},this.dataHandler=(e,t,n,a,r,s)=>{k("practice_rating",e,t,n,a,r,s,this.startTimestamp)},this.startTimestamp=(new Date).getTime()}render(){return r.a.createElement(Mr,{audioSource:st,shouldRecordRatings:!0,trialCompleteRenderer:this.trialCompleteRenderer,dataHandler:this.dataHandler})}}var $r=Xr;n(425);class Zr extends a.Component{constructor(e){super(e),this.keyFunction=e=>{81===e.keyCode&&this.setState((e,t)=>({continue:!0}))},this.state={continue:!1}}componentDidMount(){document.addEventListener("keydown",this.keyFunction,!1)}componentWillUnmount(){document.removeEventListener("keydown",this.keyFunction,!1)}render(){return!0===this.state.continue?r.a.createElement(l.a,{to:"/Trial_P"}):r.a.createElement("div",{className:"OnceMore"},r.a.createElement("input",{type:"hidden"}),r.a.createElement("header",{className:"OnceMore-header"},r.a.createElement("div",{className:"text-container"},r.a.createElement("p",{className:"OnceMore-text"},r.a.createElement("br",null),r.a.createElement("br",null)," Nice job, but you didn't reach the required accuracy level, so make sure you are pressing the right keys at the right time.",r.a.createElement("br",null),r.a.createElement("br",null)," You will now have one more practice session. Get ready! Remember,",r.a.createElement("br",null),r.a.createElement("br",null)," the final note of the melody might play while the white noise continues when there are diagonal red stripes on the screen.",r.a.createElement("br",null),r.a.createElement("br",null)," Press  ",r.a.createElement("font",{size:"+2"},"  ",r.a.createElement("b",null,' "Q"/YES ')," ")," if you ",r.a.createElement("b",null," DO "),"hear the tone.",r.a.createElement("br",null),r.a.createElement("br",null)," Press ",r.a.createElement("font",{size:"+2"}," ",r.a.createElement("b",null,' "E"/NO ')," ")," if you ",r.a.createElement("b",null," DO NOT ")," hear the tone.",r.a.createElement("br",null),r.a.createElement("br",null)," Please respond as ",r.a.createElement("b",null," QUICKLY ")," and as ",r.a.createElement("b",null," ACCURATELY ")," as you ",r.a.createElement("b",null," POSSIBLY CAN "),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),' PRESS "Q"/YES TO BEGIN A SHORT PRACTICE SESSION'))))}}var es=Zr;n(136);class ts extends a.Component{constructor(e){super(e),this.keyFunction=e=>{81===e.keyCode&&this.setState((e,t)=>({continue:!0}))},this.state={continue:!1}}componentDidMount(){document.addEventListener("keydown",this.keyFunction,!1)}componentWillUnmount(){document.removeEventListener("keydown",this.keyFunction,!1)}render(){return!0===this.state.continue?r.a.createElement(l.a,{to:"/Trial_P_rating"}):r.a.createElement("div",{className:"OnceMore_rating"},r.a.createElement("input",{type:"hidden"}),r.a.createElement("header",{className:"OnceMore_rating-header"},r.a.createElement("div",{className:"text-container"},r.a.createElement("p",{className:"OnceMore_rating-text"},r.a.createElement("br",null),r.a.createElement("br",null)," Nice job, but you didn't reach the required accuracy level, so make sure you are pressing the right keys at the right time,",r.a.createElement("br",null),r.a.createElement("br",null)," and holding the button down to indicate accuracy ratings. You will now have one more practice session. Get ready!",r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),' PRESS "Q"/YES WHEN READY TO CONTINUE.'))))}}var ns=ts;class as extends a.Component{constructor(e){super(e),this.keyFunction=e=>{81===e.keyCode&&this.setState((e,t)=>({continue:!0}))},this.state={continue:!1}}componentDidMount(){document.addEventListener("keydown",this.keyFunction,!1)}componentWillUnmount(){document.removeEventListener("keydown",this.keyFunction,!1)}render(){return!0===this.state.continue?r.a.createElement(l.a,{to:"/Trial_P_surprisal"}):r.a.createElement("div",{className:"OnceMore_rating"},r.a.createElement("input",{type:"hidden"}),r.a.createElement("header",{className:"OnceMore_rating-header"},r.a.createElement("div",{className:"text-container"},r.a.createElement("p",{className:"OnceMore_rating-text"},r.a.createElement("br",null),r.a.createElement("br",null)," Nice job, but you didn't reach the required accuracy level, so make sure you are pressing the right keys at the right time,",r.a.createElement("br",null),r.a.createElement("br",null)," and holding the button down to indicate accuracy ratings. You will now have one more practice session. Get ready!",r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),' PRESS "Q"/YES WHEN READY TO CONTINUE.'))))}}var rs=as;n(10);class ss extends a.Component{constructor(e){super(e),this.trialCompleteRenderer=(e,t)=>{let n=0;for(let a=0;a<t.length;a++)n+=t[a]==e[a]>0;return n>.7*e.length?r.a.createElement(l.a,{to:"/Continue_surprisal"}):r.a.createElement(l.a,{to:"/OnceMore_surprisal"})},this.dataHandler=(e,t,n,a,r,s,i,l)=>{k("practice_surprisal",e,t,n,a,r,s,i,l,this.startTimestamp)},this.startTimestamp=(new Date).getTime()}render(){return r.a.createElement(Mr,{audioSource:Ct,shouldRecordRatings:!0,shouldRecordSurprisals:!0,trialCompleteRenderer:this.trialCompleteRenderer,dataHandler:this.dataHandler})}}var is=ss,ls=n(10);const os=n(22),cs=Lr.slice(0,21);class ms extends a.Component{constructor(e){super(e),this.trialCompleteRenderer=(e,t)=>(os.debug,r.a.createElement(l.a,{to:"/Break1"})),this.dataHandler=(e,t,n,a,r,s,i,l)=>{k(1,e,t,n,a,r,s,i,l,this.startTimestamp)},this.startTimestamp=(new Date).getTime(),this.state={decibels:ls.flatten(ls.slice(Br(),0,3))},console.log(Br()),console.log(this.state.decibels)}render(){return ls.isEmpty(this.state.decibels)?r.a.createElement(l.a,{to:"/Error"}):r.a.createElement(Mr,{audioSource:cs,decibels:this.state.decibels,shouldRecordRatings:!0,shouldRecordSurprisals:!0,trialCompleteRenderer:this.trialCompleteRenderer,dataHandler:this.dataHandler})}}var us=ms,ds=n(10);const ps=Lr.slice(21,42);class hs extends a.Component{constructor(e){super(e),this.trialCompleteRenderer=(e,t)=>r.a.createElement(l.a,{to:"/Break2"}),this.dataHandler=(e,t,n,a,r,s,i,l)=>{k(2,e,t,n,a,r,s,i,l,this.startTimestamp)},this.startTimestamp=(new Date).getTime(),this.state={decibels:ds.flatten(ds.slice(Br(),3,6))}}render(){return ds.isEmpty(this.state.decibels)?r.a.createElement(l.a,{to:"/Error"}):r.a.createElement(Mr,{audioSource:ps,decibels:this.state.decibels,shouldRecordRatings:!0,shouldRecordSurprisals:!0,trialCompleteRenderer:this.trialCompleteRenderer,dataHandler:this.dataHandler})}}var Es=hs,bs=n(10);const fs=Lr.slice(42,63);class ys extends a.Component{constructor(e){super(e),this.trialCompleteRenderer=(e,t)=>r.a.createElement(l.a,{to:"/Break3"}),this.dataHandler=(e,t,n,a,r,s,i,l)=>{k(3,e,t,n,a,r,s,i,l,this.startTimestamp)},this.startTimestamp=(new Date).getTime(),this.state={decibels:bs.flatten(bs.slice(Br(),6,9))}}render(){return bs.isEmpty(this.state.decibels)?r.a.createElement(l.a,{to:"/Error"}):r.a.createElement(Mr,{audioSource:fs,decibels:this.state.decibels,shouldRecordRatings:!0,shouldRecordSurprisals:!0,trialCompleteRenderer:this.trialCompleteRenderer,dataHandler:this.dataHandler})}}var gs=ys,ws=n(10);const xs=Lr.slice(63,84);class ks extends a.Component{constructor(e){super(e),this.trialCompleteRenderer=(e,t)=>r.a.createElement(l.a,{to:"/ThankYou"}),this.dataHandler=(e,t,n,a,r,s,i,l)=>{k(4,e,t,n,a,r,s,i,l,this.startTimestamp)},this.startTimestamp=(new Date).getTime(),this.state={decibels:ws.flatten(ws.slice(Br(),9,12))}}render(){return ws.isEmpty(this.state.decibels)?r.a.createElement(l.a,{to:"/Error"}):r.a.createElement(Mr,{audioSource:xs,decibels:this.state.decibels,shouldRecordRatings:!0,shouldRecordSurprisals:!0,trialCompleteRenderer:this.trialCompleteRenderer,dataHandler:this.dataHandler})}}var Ss=ks;n(70);class Ts extends a.Component{constructor(e){super(e),this.keyFunction=e=>{81===e.keyCode&&this.setState((e,t)=>({continue:!0}))},this.state={continue:!1}}componentDidMount(){document.addEventListener("keydown",this.keyFunction,!1)}componentWillUnmount(){document.removeEventListener("keydown",this.keyFunction,!1)}render(){return!0===this.state.continue?r.a.createElement(l.a,{to:"/Trial_TT_2"}):r.a.createElement("div",{className:"Break"},r.a.createElement("input",{type:"hidden"}),r.a.createElement("header",{className:"Break-header"},r.a.createElement("div",{className:"text-container"},r.a.createElement("p",{className:"Break-text"},"Great!",r.a.createElement("br",null),r.a.createElement("br",null)," Take a quick break. Three more to go!",r.a.createElement("br",null),r.a.createElement("br",null)," Remember: Continue to listen carefully and do the best you can.",r.a.createElement("br",null),r.a.createElement("br",null)," The task will continue to be difficult, but it is okay to guess and it is okay to be uncertain.",r.a.createElement("br",null),r.a.createElement("br",null)," Press ",r.a.createElement("b",null,' "Q"/YES ')," if you ",r.a.createElement("b",null," DO ")," hear the final note.",r.a.createElement("br",null),r.a.createElement("br",null)," Press ",r.a.createElement("b",null,' "E"/NO ')," if you ",r.a.createElement("b",null," DO NOT ")," hear the final note.",r.a.createElement("br",null),r.a.createElement("br",null)," If you hold the key down for a long time, the final note was a ",r.a.createElement("b",null," GOOD FIT "),".",r.a.createElement("br",null),r.a.createElement("br",null)," If you hold the key down for a short time, the final note was a ",r.a.createElement("b",null," BAD FIT "),".",r.a.createElement("br",null),r.a.createElement("br",null)," Please respond as ",r.a.createElement("b",null," QUICKLY ")," and as ",r.a.createElement("b",null," ACCURATELY ")," as you ",r.a.createElement("b",null," POSSIBLY CAN "),r.a.createElement("br",null),r.a.createElement("br",null)," Please remember to keep your eyes on the fixation cross throughout the task!",r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),' PRESS "Q"/YES TO CONTINUE WITH THE NEXT PART'))))}}var vs=Ts;class Cs extends a.Component{constructor(e){super(e),this.keyFunction=e=>{81===e.keyCode&&this.setState((e,t)=>({continue:!0}))},this.state={continue:!1}}componentDidMount(){document.addEventListener("keydown",this.keyFunction,!1)}componentWillUnmount(){document.removeEventListener("keydown",this.keyFunction,!1)}render(){return!0===this.state.continue?r.a.createElement(l.a,{to:"/Trial_TT_3"}):r.a.createElement("div",{className:"Break"},r.a.createElement("input",{type:"hidden"}),r.a.createElement("header",{className:"Break-header"},r.a.createElement("div",{className:"text-container"},r.a.createElement("p",{className:"Break-text"},r.a.createElement("br",null),r.a.createElement("br",null)," Great!!! Take a quick break. Two more to go!",r.a.createElement("br",null),r.a.createElement("br",null)," Remember: Continue to listen carefully and do the best you can.",r.a.createElement("br",null),r.a.createElement("br",null)," The task will continue to be difficult, but it is okay to guess and it is okay to be uncertain.",r.a.createElement("br",null),r.a.createElement("br",null)," Press ",r.a.createElement("b",null,' "Q"/YES ')," if you ",r.a.createElement("b",null," DO ")," hear a tone.",r.a.createElement("br",null),r.a.createElement("br",null)," Press ",r.a.createElement("b",null,' "E"/NO ')," if you ",r.a.createElement("b",null," DO NOT ")," hear a tone.",r.a.createElement("br",null),r.a.createElement("br",null)," If you hold the key down for a long time, the final note was a ",r.a.createElement("b",null," GOOD FIT "),".",r.a.createElement("br",null),r.a.createElement("br",null)," If you hold the key down for a short time, the final note was a ",r.a.createElement("b",null," BAD FIT "),".",r.a.createElement("br",null),r.a.createElement("br",null)," Please respond as ",r.a.createElement("b",null," QUICKLY ")," and as ",r.a.createElement("b",null," ACCURATELY ")," as you ",r.a.createElement("b",null," POSSIBLY CAN "),r.a.createElement("br",null),r.a.createElement("br",null)," Please remember to keep your eyes on the fixation cross throughout the task!",r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),' PRESS "Q"/YES TO CONTINUE WITH THE NEXT PART'))))}}var Rs=Cs;class Ns extends a.Component{constructor(e){super(e),this.keyFunction=e=>{81===e.keyCode&&this.setState((e,t)=>({continue:!0}))},this.state={continue:!1}}componentDidMount(){document.addEventListener("keydown",this.keyFunction,!1)}componentWillUnmount(){document.removeEventListener("keydown",this.keyFunction,!1)}render(){return!0===this.state.continue?r.a.createElement(l.a,{to:"/Trial_TT_4"}):r.a.createElement("div",{className:"Break"},r.a.createElement("input",{type:"hidden"}),r.a.createElement("header",{className:"Break-header"},r.a.createElement("div",{className:"text-container"},r.a.createElement("p",{className:"Break-text"},"Great!",r.a.createElement("br",null),r.a.createElement("br",null)," Take a quick break. One more to go!",r.a.createElement("br",null),r.a.createElement("br",null)," Remember: Continue to listen carefully and do the best you can.",r.a.createElement("br",null),r.a.createElement("br",null)," The task will continue to be difficult, but it is okay to guess and it is okay to be uncertain.",r.a.createElement("br",null),r.a.createElement("br",null)," Press ",r.a.createElement("b",null,' "Q"/YES ')," if you ",r.a.createElement("b",null," DO ")," hear a tone.",r.a.createElement("br",null),r.a.createElement("br",null)," Press ",r.a.createElement("b",null,' "E"/NO ')," if you ",r.a.createElement("b",null," DO NOT ")," hear a tone.",r.a.createElement("br",null),r.a.createElement("br",null)," If you hold the key down for a long time, the final note was a ",r.a.createElement("b",null," GOOD FIT "),".",r.a.createElement("br",null),r.a.createElement("br",null)," If you hold the key down for a short time, the final note was a ",r.a.createElement("b",null," BAD FIT "),".",r.a.createElement("br",null),r.a.createElement("br",null)," Please respond as ",r.a.createElement("b",null," QUICKLY ")," and as ",r.a.createElement("b",null," ACCURATELY ")," as you ",r.a.createElement("b",null," POSSIBLY CAN "),r.a.createElement("br",null),r.a.createElement("br",null)," Please remember to keep your eyes on the fixation cross throughout the task!",r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),' PRESS "Q"/YES TO CONTINUE WITH THE NEXT PART'))))}}var Is=Ns,Os=(n(426),n(74));const _s=n(22);var Ds=n(10);class Ps extends a.Component{constructor(e){super(e),this.keyFunction=e=>{81===e.keyCode&&this.setState((e,t)=>({continue:!0}))},this.state={continue:!1,invalid:!1,sentData:!1,link:void 0}}componentDidMount(){document.addEventListener("keydown",this.keyFunction,!1);const e=S(),t=function(){const e=b.clone(N.store);return e.taskName=E.taskName,e.taskVersion=E.taskVersion,e.visualStim=d,e.auditoryStim=p,JSON.stringify(e)}();return console.log("encryptedMeta"+e),u?this.setState({link:"link"}):(console.log("survey url"+T()),Ds.isUndefined(T())?Object(Os.a)(e).then(e=>this.setState({link:e})):this.setState({link:T()})),v()?(console.log("Data has been sent"),void this.setState({sentData:!0})):(_s.debug&&(console.log("encrypted metadata: "+e),console.log("store export: "+t),console.log("localStorage: "+JSON.stringify(localStorage))),R()?u?(C(!0),this.setState({sentData:!0}),O(),void I()):void Object(Os.b)(e,t).then(()=>{console.log("Sending Data"),C(!0),this.setState({sentData:!0}),console.log("Data has been successfully sent!"),O(),I()}):(console.log("Store is not complete"),console.log(e),N.clear(),void this.setState({invalid:!0})))}componentWillUnmount(){document.removeEventListener("keydown",this.keyFunction,!1)}render(){if(this.state.invalid)return r.a.createElement(l.a,{to:"/Error"});if(this.state.continue)window.location.assign(this.state.link);else if(!this.state.sentData||Ds.isUndefined(this.state.link))return r.a.createElement("div",{className:"ThankYou"},r.a.createElement("p",{className:"ThankYou-text"},"Loading..."));return r.a.createElement("div",{className:"ThankYou"},r.a.createElement("input",{type:"hidden"}),r.a.createElement("header",{className:"ThankYou-header"},r.a.createElement("div",{className:"text-container"},r.a.createElement("p",{className:"ThankYou-text"},r.a.createElement("span",{className:"bigger"}," The experiment is over. Thank you for taking part in the study! "),r.a.createElement("br",null),r.a.createElement("br",null)," Please ",r.a.createElement("a",{href:this.state.link},"click here")," or press 'Q' to return to the survey.")),r.a.createElement("a",{href:"https://medicine.yale.edu/psychiatry/care/cmhc/",title:"Learn more about the Connecticut Mental Health Center",target:"_blank",rel:"noopener noreferrer"},r.a.createElement("img",{src:c.a,className:"Site-link",alt:"logo"}))))}}var Ls=Ps,Ys=(n(443),()=>r.a.createElement("div",{className:"Error"},r.a.createElement("h3",null,"Something went wrong. Please try again."))),Fs=()=>r.a.createElement(l.d,null,r.a.createElement(l.b,{path:"/",exact:!0,component:L}),r.a.createElement(l.b,{path:"/Welcome",exact:!0,component:L}),r.a.createElement(l.b,{path:"/Instructions",exact:!0,component:F}),r.a.createElement(l.b,{path:"/Trial_P",exact:!0,component:Vr}),r.a.createElement(l.b,{path:"/OnceMore",exact:!0,component:es}),r.a.createElement(l.b,{path:"/Continue",exact:!0,component:W}),r.a.createElement(l.b,{path:"/Trial_P_rating",exact:!0,component:$r}),r.a.createElement(l.b,{path:"/OnceMore_rating",exact:!0,component:ns}),r.a.createElement(l.b,{path:"/Continue_rating",exact:!0,component:z}),r.a.createElement(l.b,{path:"/Trial_P_surprisal",exact:!0,component:is}),r.a.createElement(l.b,{path:"/OnceMore_surprisal",exact:!0,component:rs}),r.a.createElement(l.b,{path:"/Continue_surprisal",exact:!0,component:Q}),r.a.createElement(l.b,{path:"/TrialQ",exact:!0,component:jr}),r.a.createElement(l.b,{path:"/Complete",exact:!0,component:H}),r.a.createElement(l.b,{path:"/Trial_TT_1",exact:!0,component:us}),r.a.createElement(l.b,{path:"/Break1",exact:!0,component:vs}),r.a.createElement(l.b,{path:"/Trial_TT_2",exact:!0,component:Es}),r.a.createElement(l.b,{path:"/Break2",exact:!0,component:Rs}),r.a.createElement(l.b,{path:"/Trial_TT_3",exact:!0,component:gs}),r.a.createElement(l.b,{path:"/Break3",exact:!0,component:Is}),r.a.createElement(l.b,{path:"/Trial_TT_4",exact:!0,component:Ss}),r.a.createElement(l.b,{path:"/ThankYou",exact:!0,component:Ls}),r.a.createElement(l.b,{path:"/Error",exact:!0,component:Ys}),r.a.createElement(l.b,{component:A}));class As extends a.Component{render(){return r.a.createElement("div",null,r.a.createElement(Fs,null))}}var Us=As,Hs=n(4),Ms=n(9);const Ws=Object(Ms.a)();Object({NODE_ENV:"production",PUBLIC_URL:"/mch_app",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).NODE_CONFIG_DIR="../config",i.a.render(r.a.createElement(Hs.a,{history:Ws,basename:"/mch_app"},r.a.createElement(Us,null)),document.getElementById("root"))}]),[[267,1,2]]]);
//# sourceMappingURL=main.fe8b561d.chunk.js.map