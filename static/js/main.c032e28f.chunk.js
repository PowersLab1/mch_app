(this.webpackJsonpmch_app=this.webpackJsonpmch_app||[]).push([[0],Array(22).concat([function(e){e.exports=JSON.parse('{"taskVersion":"1.0.0","taskName":"mch_app","debug":false,"awsLambda":{"saveTaskData":{"host":"de8cnjde61.execute-api.us-east-2.amazonaws.com","path":"/default/saveTaskData"},"fetchLink":{"host":"3pnzb6n9vf.execute-api.us-east-2.amazonaws.com","path":"/default/fetchLink"}}}')},,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,a){e.exports=a.p+"static/media/psych_logo.6956dbda.jpg"},,,,,,,,,,,,,,,,,,,,,,,function(e,t,a){},,,function(e,t,a){e.exports=a.p+"static/media/Gtone.5dfde805.wav"},function(e,t,a){"use strict";(function(e){a.d(t,"b",(function(){return s})),a.d(t,"a",(function(){return l}));var n=a(427),r=a(440);const i=a(22);function s(t,a){return new Promise((function(s,l){const o=r.stringify({encrypted_metadata:t,data:a}),c={hostname:i.awsLambda.saveTaskData.host,port:443,path:i.awsLambda.saveTaskData.path,method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded","Content-Length":e.byteLength(o)}},u=n.request(c,e=>{e.setEncoding("utf8"),e.on("data",()=>{}),e.on("end",s)});u.on("error",e=>{i.debug&&(console.log("ERROR:"),console.log(e)),l(e)}),u.write(o),u.end()}))}function l(t){return new Promise((function(a,s){const l=r.stringify({encrypted_metadata:t}),o={hostname:i.awsLambda.fetchLink.host,port:443,path:i.awsLambda.fetchLink.path,method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded","Content-Length":e.byteLength(l)}},c=n.request(o,e=>{e.setEncoding("utf8");var t="";e.on("data",(function(e){t+=e})),e.on("end",()=>a(t))});c.on("error",e=>{i.debug&&(console.log("ERROR:"),console.log(e)),s(e)}),c.write(l),c.end()}))}}).call(this,a(3).Buffer)},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},,,,,,,function(e,t,a){e.exports=a.p+"static/media/rating_keydown_1.d9fbf22f.png"},function(e,t,a){e.exports=a.p+"static/media/rating_keydown_2.6a659dd4.png"},function(e,t,a){e.exports=a.p+"static/media/rating_keydown_3.d955b91a.png"},function(e,t,a){e.exports=a.p+"static/media/rating_keydown_4.c8b7c686.png"},function(e,t,a){e.exports=a.p+"static/media/rating_keydown_5.34958048.png"},function(e,t,a){e.exports=a.p+"static/media/surprisal_keydown_1.825ce77e.png"},function(e,t,a){e.exports=a.p+"static/media/surprisal_keydown_2.9b785fe2.png"},function(e,t,a){e.exports=a.p+"static/media/surprisal_keydown_3.31e72759.png"},function(e,t,a){e.exports=a.p+"static/media/surprisal_keydown_4.f39127fa.png"},function(e,t,a){e.exports=a.p+"static/media/surprisal_keydown_5.2e871950.png"},function(e,t,a){e.exports=a.p+"static/media/Hear1.f8e860ca.wav"},function(e,t,a){e.exports=a.p+"static/media/Hear2.4eef5bbd.wav"},function(e,t,a){e.exports=a.p+"static/media/Hear3.e05a7c70.wav"},function(e,t,a){e.exports=a.p+"static/media/Hear4.b7094f19.wav"},function(e,t,a){e.exports=a.p+"static/media/Hear5.0889b25e.wav"},function(e,t,a){e.exports=a.p+"static/media/Hear6.d790382f.wav"},function(e,t,a){e.exports=a.p+"static/media/Hear7.b7a219d3.wav"},function(e,t,a){e.exports=a.p+"static/media/Hear8.b3177f10.wav"},function(e,t,a){e.exports=a.p+"static/media/Hear9.767d5043.wav"},function(e,t,a){e.exports=a.p+"static/media/Hear10.ee0e4114.wav"},function(e,t,a){e.exports=a.p+"static/media/Confidence1.d4cb8c69.wav"},function(e,t,a){e.exports=a.p+"static/media/Confidence2.5c627c36.wav"},function(e,t,a){e.exports=a.p+"static/media/Confidence3.2b88961c.wav"},function(e,t,a){e.exports=a.p+"static/media/Confidence4.b7b1bdd6.wav"},function(e,t,a){e.exports=a.p+"static/media/Confidence5.e5cc2079.wav"},function(e,t,a){e.exports=a.p+"static/media/Confidence6.eb7e0fdd.wav"},function(e,t,a){e.exports=a.p+"static/media/Confidence7.3fe2aca1.wav"},function(e,t,a){e.exports=a.p+"static/media/Confidence8.36f9a2c5.wav"},function(e,t,a){e.exports=a.p+"static/media/Confidence9.dfbedeff.wav"},function(e,t,a){e.exports=a.p+"static/media/Confidence10.f1f8fd02.wav"},function(e,t,a){e.exports=a.p+"static/media/Surprisal1.95e60fcc.wav"},function(e,t,a){e.exports=a.p+"static/media/Surprisal2.3f6844b1.wav"},function(e,t,a){e.exports=a.p+"static/media/Surprisal3.e67132c2.wav"},function(e,t,a){e.exports=a.p+"static/media/Surprisal4.0b8cc577.wav"},function(e,t,a){e.exports=a.p+"static/media/Surprisal5.14ee189d.wav"},function(e,t,a){e.exports=a.p+"static/media/Surprisal6.686c771a.wav"},function(e,t,a){e.exports=a.p+"static/media/Surprisal7.6903291e.wav"},function(e,t,a){e.exports=a.p+"static/media/Surprisal8.62e1938e.wav"},function(e,t,a){e.exports=a.p+"static/media/Surprisal9.9f31568b.wav"},function(e,t,a){e.exports=a.p+"static/media/Surprisal10.5886a0ec.wav"},function(e,t,a){e.exports=a.p+"static/media/1 (81).bb93612e.wav"},function(e,t,a){e.exports=a.p+"static/media/2 (25).60beb435.wav"},function(e,t,a){e.exports=a.p+"static/media/3 (82).71810923.wav"},function(e,t,a){e.exports=a.p+"static/media/4 (69).bd5e855c.wav"},function(e,t,a){e.exports=a.p+"static/media/5 (31).62ef111d.wav"},function(e,t,a){e.exports=a.p+"static/media/6 (52).57c3c080.wav"},function(e,t,a){e.exports=a.p+"static/media/7 (36).b15ce7ce.wav"},function(e,t,a){e.exports=a.p+"static/media/8 (68).79e4275e.wav"},function(e,t,a){e.exports=a.p+"static/media/9 (66).79644889.wav"},function(e,t,a){e.exports=a.p+"static/media/10 (29).13b5d7bf.wav"},function(e,t,a){e.exports=a.p+"static/media/11 (76).86220077.wav"},function(e,t,a){e.exports=a.p+"static/media/12 (21).620c3841.wav"},function(e,t,a){e.exports=a.p+"static/media/13 (37).91fcd9fc.wav"},function(e,t,a){e.exports=a.p+"static/media/14 (59).38f5376d.wav"},function(e,t,a){e.exports=a.p+"static/media/15 (77).20c181f8.wav"},function(e,t,a){e.exports=a.p+"static/media/16 (07).921bde9b.wav"},function(e,t,a){e.exports=a.p+"static/media/17 (02).b02b393f.wav"},function(e,t,a){e.exports=a.p+"static/media/18 (64).a5559605.wav"},function(e,t,a){e.exports=a.p+"static/media/19 (10).bda85c47.wav"},function(e,t,a){e.exports=a.p+"static/media/20 (19).a036ad35.wav"},function(e,t,a){e.exports=a.p+"static/media/21 (17).4faa4f34.wav"},function(e,t,a){e.exports=a.p+"static/media/22 (50).ffd7920e.wav"},function(e,t,a){e.exports=a.p+"static/media/23 (79).bbaa9dcf.wav"},function(e,t,a){e.exports=a.p+"static/media/24 (88).86c27b3d.wav"},function(e,t,a){e.exports=a.p+"static/media/25 (67).660335dd.wav"},function(e,t,a){e.exports=a.p+"static/media/26 (35).3c0cc27f.wav"},function(e,t,a){e.exports=a.p+"static/media/27 (57).b16a93c4.wav"},function(e,t,a){e.exports=a.p+"static/media/28 (11).7b0fcb96.wav"},function(e,t,a){e.exports=a.p+"static/media/29 (33).89020f5d.wav"},function(e,t,a){e.exports=a.p+"static/media/30 (27).43ec09da.wav"},function(e,t,a){e.exports=a.p+"static/media/31 (42).d76bacc4.wav"},function(e,t,a){e.exports=a.p+"static/media/32 (41).e3831bbc.wav"},function(e,t,a){e.exports=a.p+"static/media/33 (53).a54792e8.wav"},function(e,t,a){e.exports=a.p+"static/media/34 (08).a64afd9a.wav"},function(e,t,a){e.exports=a.p+"static/media/35 (74).42337cab.wav"},function(e,t,a){e.exports=a.p+"static/media/36 (30).525aab2c.wav"},function(e,t,a){e.exports=a.p+"static/media/37 (15).fc98c229.wav"},function(e,t,a){e.exports=a.p+"static/media/38 (20).b047fc14.wav"},function(e,t,a){e.exports=a.p+"static/media/39 (13).2b9d061b.wav"},function(e,t,a){e.exports=a.p+"static/media/40 (80).069a1208.wav"},function(e,t,a){e.exports=a.p+"static/media/41 (34).d011fa07.wav"},function(e,t,a){e.exports=a.p+"static/media/42 (73).5391126a.wav"},function(e,t,a){e.exports=a.p+"static/media/43 (51).3a70c701.wav"},function(e,t,a){e.exports=a.p+"static/media/44 (26).867e5dd9.wav"},function(e,t,a){e.exports=a.p+"static/media/45 (38).b204398f.wav"},function(e,t,a){e.exports=a.p+"static/media/46 (48).9d76b18c.wav"},function(e,t,a){e.exports=a.p+"static/media/47 (71).17613142.wav"},function(e,t,a){e.exports=a.p+"static/media/48 (61).1dda5117.wav"},function(e,t,a){e.exports=a.p+"static/media/49 (90).9935143c.wav"},function(e,t,a){e.exports=a.p+"static/media/50 (87).6735cd5f.wav"},function(e,t,a){e.exports=a.p+"static/media/51 (78).c411c8a4.wav"},function(e,t,a){e.exports=a.p+"static/media/52 (28).d5847d9d.wav"},function(e,t,a){e.exports=a.p+"static/media/53 (18).b5f81db3.wav"},function(e,t,a){e.exports=a.p+"static/media/54 (70).eebe9a0d.wav"},function(e,t,a){e.exports=a.p+"static/media/55 (01).5e28626b.wav"},function(e,t,a){e.exports=a.p+"static/media/56 (54).261c179c.wav"},function(e,t,a){e.exports=a.p+"static/media/57 (72).1bed9e4c.wav"},function(e,t,a){e.exports=a.p+"static/media/58 (85).3bbf6cb3.wav"},function(e,t,a){e.exports=a.p+"static/media/59 (32).12ba9e74.wav"},function(e,t,a){e.exports=a.p+"static/media/60 (65).ec1e3f0f.wav"},function(e,t,a){e.exports=a.p+"static/media/61 (40).b44dd0af.wav"},function(e,t,a){e.exports=a.p+"static/media/62 (60).add2afb2.wav"},function(e,t,a){e.exports=a.p+"static/media/63 (04).1e6d688e.wav"},function(e,t,a){e.exports=a.p+"static/media/64 (75).682e2971.wav"},function(e,t,a){e.exports=a.p+"static/media/65 (24).ce4c82a3.wav"},function(e,t,a){e.exports=a.p+"static/media/66 (63).92714c93.wav"},function(e,t,a){e.exports=a.p+"static/media/67 (16).7a6f17a1.wav"},function(e,t,a){e.exports=a.p+"static/media/68 (05).6c451bf0.wav"},function(e,t,a){e.exports=a.p+"static/media/69 (91).df252199.wav"},function(e,t,a){e.exports=a.p+"static/media/70 (55).bc93a007.wav"},function(e,t,a){e.exports=a.p+"static/media/71 (86).f144d174.wav"},function(e,t,a){e.exports=a.p+"static/media/72 (47).7210595b.wav"},function(e,t,a){e.exports=a.p+"static/media/73 (43).858cfe2f.wav"},function(e,t,a){e.exports=a.p+"static/media/74 (56).0abb20c9.wav"},function(e,t,a){e.exports=a.p+"static/media/75 (62).55d67c70.wav"},function(e,t,a){e.exports=a.p+"static/media/76 (84).0f80b98f.wav"},function(e,t,a){e.exports=a.p+"static/media/77 (14).fda45a1a.wav"},function(e,t,a){e.exports=a.p+"static/media/78 (46).b4439337.wav"},function(e,t,a){e.exports=a.p+"static/media/79 (23).1aa3c961.wav"},function(e,t,a){e.exports=a.p+"static/media/80 (22).41e90969.wav"},function(e,t,a){e.exports=a.p+"static/media/81 (83).7c89565c.wav"},function(e,t,a){e.exports=a.p+"static/media/82 (39).e269e35b.wav"},function(e,t,a){e.exports=a.p+"static/media/83 (44).7d5b6f0a.wav"},function(e,t,a){e.exports=a.p+"static/media/84 (45).67306438.wav"},function(e,t,a){e.exports=a(444)},,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},,,,,,,function(e,t){},,function(e,t){},,,,,,,,,,function(e,t){},,function(e,t){},,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t){},,function(e,t){},function(e,t){},,,,,function(e,t){},,function(e,t){},,,,,,,,,,,,,,,,,,,,function(e,t){},,,,,,,,,,,,,,,,function(e,t){},,,function(e,t){},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,a){e.exports=a.p+"static/media/demoG.8f966a49.mp3"},,,,,,,,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},,function(e,t,a){},function(e,t,a){},,,,,,,,,,,,function(e,t){},,,,,function(e,t,a){},function(e,t,a){"use strict";a.r(t),a.d(t,"history",(function(){return Hi}));var n=a(0),r=a.n(n),i=a(141),s=a.n(i),l=(a(272),a(273),a(6)),o=a(47),c=a.n(o);a(274);a(10),a(275);function u(){try{return localStorage.setItem("test","test"),localStorage.removeItem("test"),!0}catch(e){return!1}}const m=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(408);const d=function(){var e={background:127.5,angle:Math.floor(135*Math.random())+45,imsize:256,initcontrast:.5,threshold:.2,phases:[0,.25],phase:0,alpha:.5,ppd:80,frequency:0};return e.phase=e.phases[Math.round(Math.random())],e.frequency=2/e.ppd,e}(),h=(function(e,t){e.map(e=>d.background+e*d.background*t)}(function(e){for(var t=[],a=[],n=1;n<e.imsize+1;n++)for(var r=1;r<e.imsize+1;r++)t[4*(n-1+(r-1)*e.imsize)+0]=n-(e.imsize+1)/2,t[4*(n-1+(r-1)*e.imsize)+1]=n-(e.imsize+1)/2,t[4*(n-1+(r-1)*e.imsize)+2]=n-(e.imsize+1)/2,t[4*(n-1+(r-1)*e.imsize)+3]=n-(e.imsize+1)/2,a[4*(n-1+(r-1)*e.imsize)+0]=r-(e.imsize+1)/2,a[4*(n-1+(r-1)*e.imsize)+1]=r-(e.imsize+1)/2,a[4*(n-1+(r-1)*e.imsize)+2]=r-(e.imsize+1)/2,a[4*(n-1+(r-1)*e.imsize)+3]=r-(e.imsize+1)/2;for(var i=[],s=0;s<t.length&&s<a.length;s++)i[s]=.5*Math.cos(2*Math.PI*(e.frequency*(Math.sin(Math.PI/180*e.angle)*t[s]+Math.cos(Math.PI/180*e.angle)*a[s])+e.phase));return i}(d),0),{duration:300,amp:1,frequency:1250});function p(e,t,a){return Math.pow(10,(e-a)/20)*t}const E=a(22),b=a(10);var f=a(132);const g=E.taskName,w=["updatePdf","warnPdf","normalizePdf","tGuess","tGuessSd","pThreshold","xThreshold","beta","delta","gamma","grain","dim","quantileOrder"];function y(){return N.store.processedData}function v(e){return"component_"+e}function S(e,t,a,n,r,i,s,l,o,c){const u=N.store,m=v(e);u[m]={},u[m].decibels=t,u[m].response=a,u[m].responseTime=n,b.isUndefined(r)||(u[m].ratings=r),b.isUndefined(i)||(u[m].ratingsRaw=i),b.isUndefined(s)||(u[m].surprisals=s),b.isUndefined(l)||(u[m].surprisalsRaw=l),u[m].timestamps=o,u[m].startTimestamp=c,N.save()}function x(){return N.store.encrypted_metadata}function T(){return N.store.survey_url}function k(){return N.store.dataSent}function C(e){N.store.dataSent=e,N.save()}function R(){if(b.isUndefined(x()))return!1;if(b.isUndefined(N.store.quest))return!1;if(!E.debug)for(let t=1;t<=4;t++)if(b.isUndefined((e=t,N.store[v(e)])))return!1;var e;return!0}const N={get store(){if(b.isUndefined(this._store))if(u()){const e=JSON.parse(localStorage.getItem(g));this._store=e||{}}else this._store={};return this._store},save(){u()&&(localStorage.setItem(g,JSON.stringify(this.store)),E.debug&&console.log("saved: "+localStorage.getItem(g)))},clear(){E.debug&&console.log("cleared"),this._store=void 0,u()&&localStorage.removeItem(g)}};function I(){const e=x(),t=k();N.clear(),N.store.encrypted_metadata=e,N.store.dataSent=t,N.save()}var O=a(410),_=a(10);class D extends n.Component{constructor(e){super(e),this.keyFunction=this.keyFunction.bind(this),this.state={continue:!1,invalid:!1,dataSent:!1}}keyFunction(e){81===e.keyCode&&this.setState((e,t)=>({continue:!0}))}componentDidMount(){document.addEventListener("keydown",this.keyFunction,!1);const e=O.parse(this.props.location.search,{ignoreQueryPrefix:!0});var t,a;_.isUndefined(e.id)?_.isUndefined(x())&&this.setState({invalid:!0}):(t=e.id)!==N.store.encrypted_metadata&&(N.clear(),N.store.encrypted_metadata=t,N.save()),_.isUndefined(e.survey_url)||(a=e.survey_url,N.store.survey_url=a,N.save()),k()&&this.setState({dataSent:!0})}componentWillUnmount(){document.removeEventListener("keydown",this.keyFunction,!1)}render(){return this.state.invalid?r.a.createElement(l.a,{to:"/Error"}):this.state.dataSent?r.a.createElement(l.a,{to:"/ThankYou"}):!0===this.state.continue?r.a.createElement(l.a,{to:"/Instructions"}):r.a.createElement("div",{className:"Welcome"},r.a.createElement("input",{type:"hidden"}),r.a.createElement("header",{className:"Welcome-header"},r.a.createElement("div",{className:"text-container"},r.a.createElement("p",{className:"Welcome-text"},r.a.createElement("span",{className:"bigger"},"Welcome to the study! Hello! "),r.a.createElement("br",null),r.a.createElement("br",null)," In this task you will hear a series of 6 note melodies.",r.a.createElement("br",null),r.a.createElement("br",null)," You will be asked to indicate whether you hear the final note of the melody being played.",r.a.createElement("br",null),r.a.createElement("br",null),"Please enter responses to the questions asked by pressing the:",r.a.createElement("br",null),r.a.createElement("br",null),"  ",r.a.createElement("font",{size:"+2"}," ",r.a.createElement("b",null," 'Q' key for 'YES I HEAR IT'")," or ",r.a.createElement("b",null," 'E' key for \"NO I DO NOT\"")," "),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null)," Sometimes it may be difficult to answer, but if you do not know, please make your best guess.",r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null)," Please keep your volume (including headphones) and screen brightness at maximum level throughout the experiment.",r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null)," PRESS the ",r.a.createElement("b",null," YES I HEAR IT / 'Q' key ")," to CONTINUE")),r.a.createElement("a",{href:"https://medicine.yale.edu/psychiatry/care/cmhc/",title:"Learn more about the Connecticut Mental Health Center",target:"_blank",rel:"noopener noreferrer"},r.a.createElement("img",{src:c.a,className:"Site-link",alt:"logo"}))))}}var P=D;a(419);class L extends n.Component{constructor(e){super(e),this.keyFunction=e=>{81===e.keyCode&&this.setState((e,t)=>({continue:!0}))},this.state={continue:!1}}componentDidMount(){document.addEventListener("keydown",this.keyFunction,!1)}componentWillUnmount(){document.removeEventListener("keydown",this.keyFunction,!1)}render(){return!0===this.state.continue?r.a.createElement(l.a,{to:"/Trial_P"}):r.a.createElement("div",{className:"Instructions"},r.a.createElement("input",{type:"hidden"}),r.a.createElement("header",{className:"Instructions-header"},r.a.createElement("div",{className:"text-container"},r.a.createElement("p",{className:"Instructions-text"},"This is a hearing test.",r.a.createElement("br",null),r.a.createElement("br",null)," Auditory white noise (like static radio) will be played throughout the experiment.",r.a.createElement("br",null),r.a.createElement("br",null)," The final note of the melody might play while the white noise continues when there are diagonal red stripes on the screen.",r.a.createElement("br",null),r.a.createElement("br",null),"Only respond when you see the stripes.",r.a.createElement("br",null),r.a.createElement("br",null)," Press  ",r.a.createElement("font",{size:"+2"},"  ",r.a.createElement("b",null,' "Q"/YES ')," ")," if you ",r.a.createElement("b",null," DO "),"hear the tone.",r.a.createElement("br",null),r.a.createElement("br",null)," Press ",r.a.createElement("font",{size:"+2"}," ",r.a.createElement("b",null,' "E"/NO ')," ")," if you ",r.a.createElement("b",null," DO NOT ")," hear the tone.",r.a.createElement("br",null),r.a.createElement("br",null)," Please respond as ",r.a.createElement("b",null," QUICKLY ")," and as ",r.a.createElement("b",null," ACCURATELY ")," as you ",r.a.createElement("b",null," POSSIBLY CAN "),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),' PRESS "Q"/YES TO BEGIN A SHORT PRACTICE SESSION'))))}}var Y=L,F=(a(420),()=>r.a.createElement("div",{className:"NotFound"},r.a.createElement("h3",null,"Sorry, page not found!")));a(421);class A extends n.Component{constructor(e){super(e),this.keyFunction=e=>{81===e.keyCode&&this.setState((e,t)=>({continue:!0}))},this.state={continue:!1}}componentDidMount(){document.addEventListener("keydown",this.keyFunction,!1)}componentWillUnmount(){document.removeEventListener("keydown",this.keyFunction,!1)}render(){return!0===this.state.continue?r.a.createElement(l.a,{to:"/Trial_TT_1"}):r.a.createElement("div",{className:"Complete"},r.a.createElement("header",{className:"Complete-header"},r.a.createElement("div",{className:"text-container"},r.a.createElement("p",{className:"Complete-text"},"Congratulations!",r.a.createElement("br",null),r.a.createElement("br",null)," The first part of the experiment is over.",r.a.createElement("br",null),r.a.createElement("br",null)," Now we will continue with the next trials. Now, there will be ratings similar to the third practice.",r.a.createElement("br",null),r.a.createElement("br",null)," You will see two rating screens following each red diagonal stripes. For the first screen press",r.a.createElement("br",null),r.a.createElement("br",null)," and then hold the ",r.a.createElement("b",null,' "Q"/YES ')," button or ",r.a.createElement("b",null,' "E"/NO ')," button.",r.a.createElement("br",null),r.a.createElement("br",null)," The longer you hold it down, the more certain you are of your choice.",r.a.createElement("br",null),r.a.createElement("br",null)," If you hold ",r.a.createElement("b",null,' "Q"/YES '),"  button down for a long time, you are very certain that you  ",r.a.createElement("b",null," DO ")," hear the final note.",r.a.createElement("br",null),r.a.createElement("br",null)," If you hold ",r.a.createElement("b",null,' "E"/NO '),"  button down for a long time, you are very certain that you ",r.a.createElement("b",null," DO NOT ")," hear the final note.",r.a.createElement("br",null),r.a.createElement("br",null)," Please respond as ",r.a.createElement("b",null," QUICKLY ")," and as ",r.a.createElement("b",null," ACCURATELY ")," as you ",r.a.createElement("b",null," POSSIBLY CAN "),r.a.createElement("br",null),r.a.createElement("br",null)," For the second screen press the same key again to indicate the fit of the final note.",r.a.createElement("br",null),r.a.createElement("br",null)," The longer you hold it down, the better the final note fit into the melody.",r.a.createElement("br",null),r.a.createElement("br",null)," If you hold the key down for a long time, the final note was a ",r.a.createElement("b",null," GOOD FIT "),".",r.a.createElement("br",null),r.a.createElement("br",null)," If you hold the key down for a short time, the final note was a ",r.a.createElement("b",null," BAD FIT "),".",r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),' PRESS "Q"/YES WHEN READY TO CONTINUE.'))))}}var U=A;a(422);class H extends n.Component{constructor(e){super(e),this.keyFunction=e=>{81===e.keyCode&&this.setState((e,t)=>({continue:!0}))},this.state={continue:!1}}componentDidMount(){document.addEventListener("keydown",this.keyFunction,!1)}componentWillUnmount(){document.removeEventListener("keydown",this.keyFunction,!1)}render(){return!0===this.state.continue?r.a.createElement(l.a,{to:"/Trial_P_rating"}):r.a.createElement("div",{className:"Continue"},r.a.createElement("header",{className:"Continue-header"},r.a.createElement("div",{className:"text-container"},r.a.createElement("p",{className:"Continue-text"},"Great!",r.a.createElement("br",null),r.a.createElement("br",null)," First task complete! You will do the same thing in the next task, with some important differences:",r.a.createElement("br",null),r.a.createElement("br",null)," You will see a rating screen following each diagonal red stripes, press",r.a.createElement("br",null),r.a.createElement("br",null)," and then hold the ",r.a.createElement("b",null,' "Q"/YES ')," button or ",r.a.createElement("b",null,' "E"/NO ')," button.",r.a.createElement("br",null),r.a.createElement("br",null)," The longer you hold it down, the more certain you are of your choice.",r.a.createElement("br",null),r.a.createElement("br",null)," If you hold ",r.a.createElement("b",null,' "Q"/YES '),"  button down for a long time, you are very certain that you  ",r.a.createElement("b",null," DO ")," hear the final note of the melody.",r.a.createElement("br",null),r.a.createElement("br",null)," If you hold ",r.a.createElement("b",null,' "E"/NO '),"  button down for a long time, you are very certain that you ",r.a.createElement("b",null," DO NOT ")," hear the final note of the melody.",r.a.createElement("br",null),r.a.createElement("br",null)," Please respond as ",r.a.createElement("b",null," QUICKLY ")," and as ",r.a.createElement("b",null," ACCURATELY ")," as you ",r.a.createElement("b",null," POSSIBLY CAN "),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),' PRESS "Q"/YES WHEN READY TO CONTINUE.'))))}}var M=H;a(134);class W extends n.Component{constructor(e){super(e),this.keyFunction=e=>{81===e.keyCode&&this.setState((e,t)=>({continue:!0}))},this.state={continue:!1}}componentDidMount(){document.addEventListener("keydown",this.keyFunction,!1)}componentWillUnmount(){document.removeEventListener("keydown",this.keyFunction,!1)}render(){return!0===this.state.continue?r.a.createElement(l.a,{to:"/Trial_P_surprisal"}):r.a.createElement("div",{className:"Continue_rating"},r.a.createElement("header",{className:"Continue_rating-header"},r.a.createElement("div",{className:"text-container"},r.a.createElement("p",{className:"Continue_rating-text"},"Great!",r.a.createElement("br",null),r.a.createElement("br",null)," Second task complete! You will do the same thing in the next task, with some important differences:",r.a.createElement("br",null),r.a.createElement("br",null)," After the certainty rating screen you will see another rating screen following each diagonal red stripes, press",r.a.createElement("br",null),r.a.createElement("br",null)," and then hold the same key from the previous rating screen.",r.a.createElement("br",null),r.a.createElement("br",null)," The longer you hold it down, the better the final note fit into the melody.",r.a.createElement("br",null),r.a.createElement("br",null)," If you hold the key down for a long time, the final note was a ",r.a.createElement("b",null," GOOD FIT "),".",r.a.createElement("br",null),r.a.createElement("br",null)," If you hold the key down for a short time, the final note was a ",r.a.createElement("b",null," BAD FIT "),".",r.a.createElement("br",null),r.a.createElement("br",null)," Please respond as ",r.a.createElement("b",null," QUICKLY ")," and as ",r.a.createElement("b",null," ACCURATELY ")," as you ",r.a.createElement("b",null," POSSIBLY CAN "),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),' PRESS "Q"/YES WHEN READY TO CONTINUE.'))))}}var q=W;class B extends n.Component{constructor(e){super(e),this.keyFunction=e=>{81===e.keyCode&&this.setState((e,t)=>({continue:!0}))},this.state={continue:!1}}componentDidMount(){document.addEventListener("keydown",this.keyFunction,!1)}componentWillUnmount(){document.removeEventListener("keydown",this.keyFunction,!1)}render(){return!0===this.state.continue?r.a.createElement(l.a,{to:"/TrialQ"}):r.a.createElement("div",{className:"Continue_rating"},r.a.createElement("header",{className:"Continue_rating-header"},r.a.createElement("div",{className:"text-container"},r.a.createElement("p",{className:"Continue_rating-text"},"Great!",r.a.createElement("br",null),r.a.createElement("br",null)," You have completed the practice trials. Now onto the real test.",r.a.createElement("br",null),r.a.createElement("br",null),"  It is important to note that the final notes in the practice sessions were there to make sure",r.a.createElement("br",null),r.a.createElement("br",null),"  you understood what to do, with very obvious and impossible-to-hear tones.",r.a.createElement("br",null),r.a.createElement("br",null),"  The final note of the melodies in the remainder of the experiment",r.a.createElement("br",null),r.a.createElement("br",null),"  may be very difficult to hear so you will have to listen very hard.",r.a.createElement("br",null),r.a.createElement("br",null),"  Sometimes it might be difficult to answer, but if you do not know, please guess.",r.a.createElement("br",null),r.a.createElement("br",null),"  For this first task, you will not be asked to rate your confidence or fit of the note so just quickly press",r.a.createElement("br",null),r.a.createElement("br",null),"  and release the button as soon as the screen flashes with the diagonal red stripes.",r.a.createElement("br",null),r.a.createElement("br",null)," Press  ",r.a.createElement("font",{size:"+2"},"  ",r.a.createElement("b",null,' "Q"/YES ')," ")," if you ",r.a.createElement("b",null," DO "),"hear the note.",r.a.createElement("br",null),r.a.createElement("br",null)," Press ",r.a.createElement("font",{size:"+2"}," ",r.a.createElement("b",null,' "E"/NO ')," ")," if you ",r.a.createElement("b",null," DO NOT ")," hear the note.",r.a.createElement("br",null),r.a.createElement("br",null)," Please respond as ",r.a.createElement("b",null," QUICKLY ")," and as ",r.a.createElement("b",null," ACCURATELY ")," as you ",r.a.createElement("b",null," POSSIBLY CAN "),r.a.createElement("br",null),r.a.createElement("br",null)," There will be scheduled breaks throughout the experiment, but please do not take a break unless instructed.",r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),' PRESS "Q"/YES TO BEGIN THE EXPERIMENT.'))))}}var Q=B,z=(a(423),a(135),a(143)),K=a.n(z),G=a(144),j=a.n(G),J=a(145),V=a.n(J),X=a(146),$=a.n(X),Z=a(147),ee=a.n(Z),te=a(148),ae=a.n(te),ne=a(149),re=a.n(ne),ie=a(150),se=a.n(ie),le=a(151),oe=a.n(le),ce=a(152),ue=a.n(ce);a(10),a(424);const me={0:"",1:K.a,2:j.a,3:V.a,4:$.a,5:ee.a},de={0:"",1:ae.a,2:re.a,3:se.a,4:oe.a,5:ue.a};class he extends n.Component{constructor(e){super(e)}drawCanvas(){this.resizeCanvas();var e=document.getElementById("c"),t=e.getContext("2d"),a=t.getImageData(0,0,e.width,e.height),n=a.data;const r=e.width,i=e.height,s=Math.max(1,e.height/18),l=Math.floor(r/s),o=Math.floor(i/s);let c=(r/s-l)/2*s,u=(i/s-o)/2*s;l%2==1&&(c+=s/2),o%2==1&&(u+=s/2);for(var m=0;m<r;m++)for(var d=0;d<i;d++)if(this.props.showContrast){const e=163*Math.abs(Math.floor((d-u)/s)%2);n[4*(m+d*r)+0]=.80224*e,n[4*(m+d*r)+1]=0,n[4*(m+d*r)+2]=0,n[4*(m+d*r)+3]=255}else n[4*(m+d*r)+0]=0,n[4*(m+d*r)+1]=0,n[4*(m+d*r)+2]=0,n[4*(m+d*r)+3]=255;t.putImageData(a,0,0)}resizeCanvas(){var e=document.getElementById("c");e.width=window.innerWidth,e.height=window.innerHeight}componentDidMount(){this.drawCanvas()}componentDidUpdate(e){this.drawCanvas()}render(){return r.a.createElement("div",null,this.props.surprisalReady?r.a.createElement(r.a.Fragment,null,r.a.createElement("img",{src:de[this.props.currentSurprisal],width:256,height:256,className:"center",style:{zIndex:101,width:"95vh",height:"50vh",backgroundColor:"black",visibility:this.props.showSurprisals?"visible":"hidden"}}),r.a.createElement("div",{style:{zIndex:100,backgroundColor:"black",width:"100vw",height:"100vh",position:"fixed",top:0,left:0,visibility:this.props.showSurprisals?"visible":"hidden"}})):r.a.createElement(r.a.Fragment,null),this.props.surprisalReady?r.a.createElement(r.a.Fragment,null):r.a.createElement(r.a.Fragment,null,r.a.createElement("img",{src:me[this.props.currentRating],width:256,height:256,className:"center",style:{zIndex:101,width:"95vh",height:"50vh",backgroundColor:"black",visibility:this.props.showRatings?"visible":"hidden"}}),r.a.createElement("div",{style:{zIndex:100,backgroundColor:"black",width:"100vw",height:"100vh",position:"fixed",top:0,left:0,visibility:this.props.showRatings?"visible":"hidden"}})),r.a.createElement("canvas",{id:"c",style:{position:"fixed",top:0,left:0,zIndex:1,width:"100%",height:"100%"}}),r.a.createElement("div",{className:"center cross-1",style:{zIndex:10}}),r.a.createElement("div",{className:"center cross-2",style:{zIndex:10}}))}}he.defaultProps={showContrast:!1,showRatings:!1,showSurprisals:!1,contrast:0,surprisalReady:!1};var pe=he,Ee=a(73),be=a.n(Ee),fe=a(153),ge=a.n(fe),we=a(154),ye=a.n(we),ve=a(155),Se=a.n(ve),xe=a(156),Te=a.n(xe),ke=a(157),Ce=a.n(ke),Re=a(158),Ne=a.n(Re),Ie=a(159),Oe=a.n(Ie),_e=a(160),De=a.n(_e),Pe=a(161),Le=a.n(Pe),Ye=a(162),Fe=a.n(Ye);var Ae=[ge.a,ye.a,Se.a,Te.a,Ce.a,Ne.a,Oe.a,De.a,Le.a,Fe.a],Ue=a(163),He=a.n(Ue),Me=a(164),We=a.n(Me),qe=a(165),Be=a.n(qe),Qe=a(166),ze=a.n(Qe),Ke=a(167),Ge=a.n(Ke),je=a(168),Je=a.n(je),Ve=a(169),Xe=a.n(Ve),$e=a(170),Ze=a.n($e),et=a(171),tt=a.n(et),at=a(172),nt=a.n(at);var rt=[He.a,We.a,Be.a,ze.a,Ge.a,Je.a,Xe.a,Ze.a,tt.a,nt.a],it=a(173),st=a.n(it),lt=a(174),ot=a.n(lt),ct=a(175),ut=a.n(ct),mt=a(176),dt=a.n(mt),ht=a(177),pt=a.n(ht),Et=a(178),bt=a.n(Et),ft=a(179),gt=a.n(ft),wt=a(180),yt=a.n(wt),vt=a(181),St=a.n(vt),xt=a(182),Tt=a.n(xt);var kt=[st.a,ot.a,ut.a,dt.a,pt.a,bt.a,gt.a,yt.a,St.a,Tt.a],Ct=a(183),Rt=a.n(Ct),Nt=a(184),It=a.n(Nt),Ot=a(185),_t=a.n(Ot),Dt=a(186),Pt=a.n(Dt),Lt=a(187),Yt=a.n(Lt),Ft=a(188),At=a.n(Ft),Ut=a(189),Ht=a.n(Ut),Mt=a(190),Wt=a.n(Mt),qt=a(191),Bt=a.n(qt),Qt=a(192),zt=a.n(Qt),Kt=a(193),Gt=a.n(Kt),jt=a(194),Jt=a.n(jt),Vt=a(195),Xt=a.n(Vt),$t=a(196),Zt=a.n($t),ea=a(197),ta=a.n(ea),aa=a(198),na=a.n(aa),ra=a(199),ia=a.n(ra),sa=a(200),la=a.n(sa),oa=a(201),ca=a.n(oa),ua=a(202),ma=a.n(ua),da=a(203),ha=a.n(da),pa=a(204),Ea=a.n(pa),ba=a(205),fa=a.n(ba),ga=a(206),wa=a.n(ga),ya=a(207),va=a.n(ya),Sa=a(208),xa=a.n(Sa),Ta=a(209),ka=a.n(Ta),Ca=a(210),Ra=a.n(Ca),Na=a(211),Ia=a.n(Na),Oa=a(212),_a=a.n(Oa),Da=a(213),Pa=a.n(Da),La=a(214),Ya=a.n(La),Fa=a(215),Aa=a.n(Fa),Ua=a(216),Ha=a.n(Ua),Ma=a(217),Wa=a.n(Ma),qa=a(218),Ba=a.n(qa),Qa=a(219),za=a.n(Qa),Ka=a(220),Ga=a.n(Ka),ja=a(221),Ja=a.n(ja),Va=a(222),Xa=a.n(Va),$a=a(223),Za=a.n($a),en=a(224),tn=a.n(en),an=a(225),nn=a.n(an),rn=a(226),sn=a.n(rn),ln=a(227),on=a.n(ln),cn=a(228),un=a.n(cn),mn=a(229),dn=a.n(mn),hn=a(230),pn=a.n(hn),En=a(231),bn=a.n(En),fn=a(232),gn=a.n(fn),wn=a(233),yn=a.n(wn),vn=a(234),Sn=a.n(vn),xn=a(235),Tn=a.n(xn),kn=a(236),Cn=a.n(kn),Rn=a(237),Nn=a.n(Rn),In=a(238),On=a.n(In),_n=a(239),Dn=a.n(_n),Pn=a(240),Ln=a.n(Pn),Yn=a(241),Fn=a.n(Yn),An=a(242),Un=a.n(An),Hn=a(243),Mn=a.n(Hn),Wn=a(244),qn=a.n(Wn),Bn=a(245),Qn=a.n(Bn),zn=a(246),Kn=a.n(zn),Gn=a(247),jn=a.n(Gn),Jn=a(248),Vn=a.n(Jn),Xn=a(249),$n=a.n(Xn),Zn=a(250),er=a.n(Zn),tr=a(251),ar=a.n(tr),nr=a(252),rr=a.n(nr),ir=a(253),sr=a.n(ir),lr=a(254),or=a.n(lr),cr=a(255),ur=a.n(cr),mr=a(256),dr=a.n(mr),hr=a(257),pr=a.n(hr),Er=a(258),br=a.n(Er),fr=a(259),gr=a.n(fr),wr=a(260),yr=a.n(wr),vr=a(261),Sr=a.n(vr),xr=a(262),Tr=a.n(xr),kr=a(263),Cr=a.n(kr),Rr=a(264),Nr=a.n(Rr),Ir=a(265),Or=a.n(Ir),_r=a(266),Dr=a.n(_r);var Pr=[Rt.a,It.a,_t.a,Pt.a,Yt.a,At.a,Ht.a,Wt.a,Bt.a,zt.a,Gt.a,Jt.a,Xt.a,Zt.a,ta.a,na.a,ia.a,la.a,ca.a,ma.a,ha.a,Ea.a,fa.a,wa.a,va.a,xa.a,ka.a,Ra.a,Ia.a,_a.a,Pa.a,Ya.a,Aa.a,Ha.a,Wa.a,Ba.a,za.a,Ga.a,Ja.a,Xa.a,Za.a,tn.a,nn.a,sn.a,on.a,un.a,dn.a,pn.a,bn.a,gn.a,yn.a,Sn.a,Tn.a,Cn.a,Nn.a,On.a,Dn.a,Ln.a,Fn.a,Un.a,Mn.a,qn.a,Qn.a,Kn.a,jn.a,Vn.a,$n.a,er.a,ar.a,rr.a,sr.a,or.a,ur.a,dr.a,pr.a,br.a,gr.a,yr.a,Sr.a,Tr.a,Cr.a,Nr.a,Or.a,Dr.a],Lr=a(10);const Yr=a(22);var Fr=window.AudioContext||window.webkitAudioContext;Lr.map(Lr.keys({49:1,50:2,51:3,52:4,53:5}),e=>parseInt(e,10)),Lr.map(Lr.keys({49:1,50:2,51:3,52:4,53:5}),e=>parseInt(e,10));class Ar extends n.Component{constructor(e){super(e),this.playStimulus=()=>{var e=this;if(Yr.debug&&e.log_debug(),e.state.index==e.props.decibels.length)return void e.shutdown();if(e.numAttempts++==e.numAttemptsLimit)return void e.setState({complete:!0});e.setState({responseWindow:!0}),e.startTime=(new Date).getTime();const t=e.props.decibels[e.state.index];if(0==e.props.audioSource.length)setTimeout(()=>{e.playVisualStimulus(1e3);let a=new Audio(be.a);console.log("dec "+t);let n=498574e-11*Math.pow(1.18765,t);console.log("volume"+n),a.volume=n,a.play(),this.stimulusTimer=setTimeout(this.playStimulus,e.delay+e.jitter())},500),this.addTimestamp("stim");else{let a=new Audio(e.props.audioSource[e.state.index]);a.volume=.3,a.play(),setTimeout(()=>{e.playVisualStimulus(1e3),a.pause(),a.currentTime=0;let n=new Audio(be.a);console.log("real dec "+t);let r=498574e-11*Math.pow(1.18765,t);console.log("real volume"+r),n.volume=r,n.play(),this.stimulusTimer=setTimeout(this.playStimulus,e.delay+e.jitter())},2432),this.addTimestamp("stim")}},this.recordResponse=e=>{if(this.state.responseWindow&&Lr.includes([81,69],e.keyCode)){var t=this;this.addTimestamp("resp");var a=(new Date).getTime();const i=81===e.keyCode?1:0;if(this.response.push(i),this.responseTime.push(a-this.startTime),this.setState({responseWindow:!1}),this.timebox=null,this.props.responseHandler(i),this.props.shouldRecordSurprisals){function n(){0==t.state.surprisalReady?t.finishedTimer=setTimeout(()=>{n(),console.log("not ready")},100):(console.log("STARTING"),function e(){t.numIterations++,t.surprisalTimer=setTimeout(()=>{if(5==t.numIterations||t.state.stopShowingSurprisal)return t.numIterations=0,t.prevKey=null,t.finishSurprisalWindow(),void t.setState({surprisalReady:!1,confidenceFinished:!1});t.state.stopIncrementingSurprisal||t.setState({currentSurprisal:t.state.currentSurprisal+1}),e()},250)}())}function r(){t.numIterations++,t.ratingTimer=setTimeout(()=>{if(5==t.numIterations||t.state.stopShowingRating)return t.numIterations=0,t.prevKey=null,t.setState({confidenceFinished:!0}),t.finishRatingWindow(),void n();t.state.stopIncrementingRating||t.setState({currentRating:t.state.currentRating+1}),r()},250)}clearTimeout(this.stimulusTimer),this.setState({ratingWindow:!0,surprisalWindow:!0,currentRating:t.numIterations||1,currentSurprisal:t.numIterations||1,stopShowingRating:!1,stopIncrementingRating:!1,confidenceFinished:!1,stopShowingSurprisal:!1,stopIncrementingSurprisal:!1}),t.numIterations=t.numIterations||0,this.ratingStartTime=(new Date).getTime(),r()}else if(this.props.shouldRecordRatings){function r(){t.numIterations++,t.ratingTimer=setTimeout(()=>{if(5==t.numIterations||t.state.stopShowingRating)return t.numIterations=0,t.prevKey=null,void t.finishRatingWindow();t.state.stopIncrementingRating||t.setState({currentRating:t.state.currentRating+1}),r()},250)}clearTimeout(this.stimulusTimer),console.log("recording ratings"),this.setState({ratingWindow:!0,currentRating:t.numIterations||1,stopShowingRating:!1,stopIncrementingRating:!1}),t.numIterations=t.numIterations||0,this.ratingStartTime=(new Date).getTime(),r()}else this.prevKey=null,this.setState({index:this.state.index+1})}else this.prevKey=null},this.keyDownFunction=e=>{if(this.state.readyToStart)return this.setState({readyToStart:!1}),this.audioContext.resume(),void this.startTrial();if(Lr.includes([81,69],e.keyCode)){if(this.isKeyDown[e.keyCode])return;this.isKeyDown[e.keyCode]=!0}null===this.prevKey&&(this.prevKey=e.keyCode),this.prevKey===e.keyCode&&(clearTimeout(this.timebox),this.timebox=setTimeout(()=>{this.props.shouldRecordSurprisals?(console.log("should record surprisals"),this.state.confidenceFinished?(console.log("confidence is finished and key has been clicked"),this.setState({stopIncrementingSurprisal:!1}),this.setState({surprisalReady:!0})):(console.log("confidence is not finished and key has been clicked"),this.setState({stopIncrementingRating:!1}),this.recordResponse(e))):(this.setState({stopIncrementingRating:!1}),this.recordResponse(e))},50))},this.keyUpFunction=e=>{if(this.props.shouldRecordSurprisals){if(Lr.includes([81,69],e.keyCode)&&(this.isKeyDown[e.keyCode]=!1),!this.trialStartedUp)return this.trialStartedUp=!0,this.setState({confidenceFinished:!1}),void this.setState({surprisalReady:!1});if(this.state.surprisalReady?(console.log("stop incrementing surprisal "),console.log("second up"),this.setState({stopIncrementingSurprisal:!0})):(console.log("first up"),console.log("stop incrementing rating"),this.setState({stopIncrementingRating:!0})),this.state.surprisalWindow)if(this.timebox)setTimeout(()=>{this.timebox=null,this.prevKey=null},250);else{if((1==Lr.last(this.response)?81:69)==e.keyCode){this.addTimestamp("rating");var t=(new Date).getTime();this.ratingsRaw.push(t-this.ratingStartTime)}}}else if(Lr.includes([81,69],e.keyCode)&&(this.isKeyDown[e.keyCode]=!1),this.setState({stopIncrementingRating:!0}),this.setState({stopIncrementingSurprisal:!0}),this.state.ratingWindow)if(this.timebox)setTimeout(()=>{this.timebox=null,this.prevKey=null},250);else{if((1==Lr.last(this.response)?81:69)==e.keyCode){this.addTimestamp("rating");t=(new Date).getTime();this.ratingsRaw.push(t-this.ratingStartTime)}}},this.finishRatingWindow=()=>{if(this.ratings.push(this.state.currentRating),this.ratings.length>this.ratingsRaw.length){this.addTimestamp("rating");var e=(new Date).getTime();this.ratingsRaw.push(e-this.ratingStartTime),this.setState({stopIncrementingRating:!0})}this.props.shouldRecordSurprisals?this.setState({ratingWindow:!1}):(this.setState({index:this.state.index+1,ratingWindow:!1}),this.stimulusTimer=setTimeout(this.playStimulus,1e3+this.jitter()))},this.finishSurprisalWindow=()=>{if(this.surprisals.push(this.state.currentSurprisal),this.surprisals.length>this.surprisalsRaw.length){this.addTimestamp("surprisal");var e=(new Date).getTime();this.surprisalsRaw.push(e-this.surprisalStartTime),this.setState({stopIncrementingRating:!0}),this.setState({stopIncrementingSurprisal:!0})}this.setState({index:this.state.index+1,ratingWindow:!1,surprisalWindow:!1}),this.stimulusTimer=setTimeout(this.playStimulus,1e3+this.jitter())},this.state={index:0,showContrast:!1,responseWindow:!1,ratingWindow:!1,surprisalWindow:!1,trialStarted:!1,trialStartedUp:!1,complete:!1,invalid:!1,readyToStart:!1,dataSent:k(),currentRating:1,stopIncrementingRating:!1,stopShowingRating:!1,currentSurprisal:1,stopIncrementingSurprisal:!1,stopShowingSurprisal:!1,confidenceFinished:!1,surprisalReady:!1},this.canvasRef=r.a.createRef(),this.audioContext=new Fr,this.initialDelay=2e3,this.delay=2500,this.numAttempts=0,this.numAttemptsLimit=1e3,this.response=[],this.responseTime=[],this.ratings=[],this.ratingsRaw=[],this.surprisals=[],this.surprisalsRaw=[],this.timestamps=[],this.ratingTimer=void 0,this.surprisalTimer=void 0,this.stimulusTimer=void 0,this.finishedTimer=void 0,this.componentStartTime=0,this.startTime=0,this.ratingStartTime=0,this.surprisalStartTime=0,this.timebox=null,this.numIterations=0,this.isKeyDown={Q_KEY_CODE:!1,E_KEY_CODE:!1},this.prevKey=null}addTimestamp(e){"start"==e?(this.componentStartTime=(new Date).getTime(),this.timestamps.push([e,0])):this.timestamps.push([e,(new Date).getTime()-this.componentStartTime])}playVisualStimulus(e){this.setState({showContrast:!0}),setTimeout(()=>{this.setState({showContrast:!1})},e)}startTrial(){this.setState({trialStarted:!0}),this.stimulusTimer=setTimeout(this.playStimulus,this.initialDelay),function(e){for(var t=3*e.sampleRate,a=e.createBuffer(2,t,e.sampleRate),n=(a.getChannelData(0),0);n<a.numberOfChannels;n++)for(var r=a.getChannelData(n),i=0;i<a.length;i++)r[i]=(2*Math.random()-1)*p(80,.015,78.3);var s=e.createBufferSource();s.buffer=a,s.loop=!0,s.connect(e.destination),s.start(0)}(this.audioContext),this.addTimestamp("start")}jitter(){return Math.random()/2*1e3}shutdown(){this.addTimestamp("end"),this.saveDataToStore(),this.setState({complete:!0})}saveDataToStore(){this.props.dataHandler(this.props.decibels,this.response,this.responseTime,this.ratings,this.ratingsRaw,this.surprisals,this.surprisalsRaw,this.timestamps)}componentDidMount(){document.addEventListener("keydown",this.keyDownFunction,!1),document.addEventListener("keyup",this.keyUpFunction,!1),Lr.isUndefined(x())&&this.setState({invalid:!0}),!1===this.state.complete&&setTimeout(()=>{this.setState({readyToStart:!0})},0)}componentWillUnmount(){document.removeEventListener("keydown",this.keyDownFunction,!1),document.removeEventListener("keyup",this.keyUpFunction,!1),this.audioContext.close()}render(){return this.state.invalid?r.a.createElement(l.a,{to:"/Error"}):this.state.dataSent?r.a.createElement(l.a,{to:"/ThankYou"}):this.state.complete?this.props.trialCompleteRenderer(this.props.decibels,this.response):r.a.createElement("div",{className:"Trial "+(this.state.trialStarted?"Trial-gray":"")},this.state.trialStarted?r.a.createElement("div",{className:"Trial-stimulus"},r.a.createElement(pe,{showContrast:this.state.showContrast,showRatings:this.state.ratingWindow,showSurprisals:this.state.surprisalWindow,currentRating:this.state.currentRating,currentSurprisal:this.state.currentSurprisal,surprisalReady:this.state.surprisalReady})):r.a.createElement("p",{className:"Trial-text"},this.state.readyToStart?r.a.createElement("span",null,"Press any key to begin"):r.a.createElement("span",null,"Loading...")))}log_debug(){console.log("================================"),console.log("all decibels: "+this.props.decibels),console.log("all responses: "+this.response),console.log("all responseTime: "+this.responseTime),console.log("all timestamps: "+JSON.stringify(this.timestamps)),console.log("all ratingsRaw: "+this.ratingsRaw),console.log("all ratings: "+this.ratings),console.log("all surprisalsRaw: "+this.surprisalsRaw),console.log("all surprisals: "+this.surprisals),console.log("index: "+this.state.index),console.log("numAttempts: "+this.numAttempts),console.log("store: "+JSON.stringify(N.store)),console.log("localStorage: "+JSON.stringify(localStorage)),console.log("================================\n")}}Ar.defaultProps={decibels:Yr.debug?Lr.shuffle([65,65,65,65]):Lr.concat([65],Lr.shuffle([0,0,0,0,0,65,65,65,65])),audioSource:[],shouldRecordRatings:!1,shouldRecordSurprisals:!1,trialCompleteRenderer:Lr.noop,responseHandler:Lr.noop,dataHandler:Lr.noop};var Ur=Ar,Hr=a(10);const Mr=a(22);function Wr(e,t,a){function n(n,r,i,s){return Hr.flatten([Hr.fill(Array(n),0),Hr.fill(Array(r),e),Hr.fill(Array(i),t),Hr.fill(Array(s),a)])}let r;return r=Mr.debug?[n(1,1,1,0),n(1,1,1,0),n(1,1,1,0),n(1,1,1,0),n(1,1,1,0),n(1,1,1,0),n(1,1,1,0),n(1,1,1,0),n(1,1,1,0),n(1,1,1,0),n(1,1,1,0),n(1,1,1,0)]:[Hr.concat(Hr.fill(Array(5),a),Hr.shuffle(n(1,1,0,4))),n(1,0,1,2),n(2,1,1,2),n(3,1,2,1),n(3,2,1,1),n(3,2,1,1),n(3,2,2,0),n(3,2,1,1),n(3,2,2,0),n(3,2,2,1),n(3,1,2,0),n(3,2,2,0)],Hr.map(r,(e,t)=>0==t?e:Hr.shuffle(e))}function qr(e,t,a){if(Hr.isUndefined(qr.blocks))if(3==arguments.length)qr.blocks=Wr(e,t,a);else{const e=y();if(!Hr.isUndefined(e)){const t=e.intensities.c25,a=e.intensities.c50,n=e.intensities.c75;qr.blocks=Wr(t,a,n)}}return qr.blocks}var Br=a(132);const Qr=a(22);class zr extends n.Component{constructor(e){super(e),this.responseHandler=e=>{this.index>=this.maxIndex-1||(this.index%2===0?(this.q1.update(this.state.decibels[this.index],e),this.pushDecibel(this.q1.quantile())):(this.q2.update(this.state.decibels[this.index],e),this.pushDecibel(this.q2.quantile()))),this.index++},this.trialCompleteRenderer=()=>r.a.createElement(l.a,{to:"/Complete"}),this.dataHandler=(e,t,a,n,r,i)=>{const s=e.filter((e,t)=>t%2===0),l=t.filter((e,t)=>t%2===0),o=a.filter((e,t)=>t%2===0),c=e.filter((e,t)=>t%2===1),u=t.filter((e,t)=>t%2===1),m=a.filter((e,t)=>t%2===1);var d,h;!function(e,t,a,n,r,i,s,l,o,c){const u=N.store;u.quest={},u.quest.q1={},u.quest.q2={},u.quest.q1.decibels=a,u.quest.q1.response=n,u.quest.q1.responseTime=r,u.quest.q1.params=b.pick(e.params,w),u.quest.q2.decibels=i,u.quest.q2.response=s,u.quest.q2.responseTime=l,u.quest.q2.params=b.pick(t.params,w),u.quest.timestamps=o,u.quest.startTimestamp=c,N.save()}(this.q1,this.q2,s,l,o,c,u,m,i,this.startTimestamp),d=this.q1,h=this.q2,N.store.processedData=f.ProcessQuestData(d,h),N.save();const p=y();qr(p.intensities.c25,p.intensities.c50,p.intensities.c75)},this.startTimestamp=(new Date).getTime(),this.state={decibels:[]};this.q1=new Br.Quest(58,4,.75,.1,.01,.01,.15,20),this.q2=new Br.Quest(58,4,.75,.1,.01,.01,.15,20);const t=Qr.debug?2:20;this.index=0,this.maxIndex=2*t-1,this.state={decibels:[61,55]}}pushDecibel(e){this.setState({decibels:[...this.state.decibels,e]})}render(){return r.a.createElement(Ur,{decibels:this.state.decibels,shouldRecordRatings:!1,trialCompleteRenderer:this.trialCompleteRenderer,dataHandler:this.dataHandler,responseHandler:this.responseHandler})}}var Kr=zr;a(10);class Gr extends n.Component{constructor(e){super(e),this.trialCompleteRenderer=(e,t)=>{let a=0;for(let n=0;n<t.length;n++)a+=t[n]==e[n]>0;return a>.7*e.length?r.a.createElement(l.a,{to:"/Continue"}):r.a.createElement(l.a,{to:"/OnceMore"})},this.dataHandler=(e,t,a,n,r,i)=>{S("practice",e,t,a,void 0,void 0,i,this.startTimestamp)},this.startTimestamp=(new Date).getTime()}render(){return r.a.createElement(Ur,{audioSource:Ae,shouldRecordRatings:!1,trialCompleteRenderer:this.trialCompleteRenderer,dataHandler:this.dataHandler})}}var jr=Gr;a(10);class Jr extends n.Component{constructor(e){super(e),this.trialCompleteRenderer=(e,t)=>{let a=0;for(let n=0;n<t.length;n++)a+=t[n]==e[n]>0;return a>.7*e.length?r.a.createElement(l.a,{to:"/Continue_rating"}):r.a.createElement(l.a,{to:"/OnceMore_rating"})},this.dataHandler=(e,t,a,n,r,i)=>{S("practice_rating",e,t,a,n,r,i,this.startTimestamp)},this.startTimestamp=(new Date).getTime()}render(){return r.a.createElement(Ur,{audioSource:rt,shouldRecordRatings:!0,trialCompleteRenderer:this.trialCompleteRenderer,dataHandler:this.dataHandler})}}var Vr=Jr;a(425);class Xr extends n.Component{constructor(e){super(e),this.keyFunction=e=>{81===e.keyCode&&this.setState((e,t)=>({continue:!0}))},this.state={continue:!1}}componentDidMount(){document.addEventListener("keydown",this.keyFunction,!1)}componentWillUnmount(){document.removeEventListener("keydown",this.keyFunction,!1)}render(){return!0===this.state.continue?r.a.createElement(l.a,{to:"/Trial_P"}):r.a.createElement("div",{className:"OnceMore"},r.a.createElement("input",{type:"hidden"}),r.a.createElement("header",{className:"OnceMore-header"},r.a.createElement("div",{className:"text-container"},r.a.createElement("p",{className:"OnceMore-text"},r.a.createElement("br",null),r.a.createElement("br",null)," Nice job, but you didn't reach the required accuracy level, so make sure you are pressing the right keys at the right time.",r.a.createElement("br",null),r.a.createElement("br",null)," You will now have one more practice session. Get ready! Remember,",r.a.createElement("br",null),r.a.createElement("br",null)," the final note of the melody might play while the white noise continues when there are diagonal red stripes on the screen.",r.a.createElement("br",null),r.a.createElement("br",null)," Press  ",r.a.createElement("font",{size:"+2"},"  ",r.a.createElement("b",null,' "Q"/YES ')," ")," if you ",r.a.createElement("b",null," DO "),"hear the tone.",r.a.createElement("br",null),r.a.createElement("br",null)," Press ",r.a.createElement("font",{size:"+2"}," ",r.a.createElement("b",null,' "E"/NO ')," ")," if you ",r.a.createElement("b",null," DO NOT ")," hear the tone.",r.a.createElement("br",null),r.a.createElement("br",null)," Please respond as ",r.a.createElement("b",null," QUICKLY ")," and as ",r.a.createElement("b",null," ACCURATELY ")," as you ",r.a.createElement("b",null," POSSIBLY CAN "),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),' PRESS "Q"/YES TO BEGIN A SHORT PRACTICE SESSION'))))}}var $r=Xr;a(136);class Zr extends n.Component{constructor(e){super(e),this.keyFunction=e=>{81===e.keyCode&&this.setState((e,t)=>({continue:!0}))},this.state={continue:!1}}componentDidMount(){document.addEventListener("keydown",this.keyFunction,!1)}componentWillUnmount(){document.removeEventListener("keydown",this.keyFunction,!1)}render(){return!0===this.state.continue?r.a.createElement(l.a,{to:"/Trial_P_rating"}):r.a.createElement("div",{className:"OnceMore_rating"},r.a.createElement("input",{type:"hidden"}),r.a.createElement("header",{className:"OnceMore_rating-header"},r.a.createElement("div",{className:"text-container"},r.a.createElement("p",{className:"OnceMore_rating-text"},r.a.createElement("br",null),r.a.createElement("br",null)," Nice job, but you didn't reach the required accuracy level, so make sure you are pressing the right keys at the right time,",r.a.createElement("br",null),r.a.createElement("br",null)," and holding the button down to indicate accuracy ratings. You will now have one more practice session. Get ready!",r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),' PRESS "Q"/YES WHEN READY TO CONTINUE.'))))}}var ei=Zr;class ti extends n.Component{constructor(e){super(e),this.keyFunction=e=>{81===e.keyCode&&this.setState((e,t)=>({continue:!0}))},this.state={continue:!1}}componentDidMount(){document.addEventListener("keydown",this.keyFunction,!1)}componentWillUnmount(){document.removeEventListener("keydown",this.keyFunction,!1)}render(){return!0===this.state.continue?r.a.createElement(l.a,{to:"/Trial_P_surprisal"}):r.a.createElement("div",{className:"OnceMore_rating"},r.a.createElement("input",{type:"hidden"}),r.a.createElement("header",{className:"OnceMore_rating-header"},r.a.createElement("div",{className:"text-container"},r.a.createElement("p",{className:"OnceMore_rating-text"},r.a.createElement("br",null),r.a.createElement("br",null)," Nice job, but you didn't reach the required accuracy level, so make sure you are pressing the right keys at the right time,",r.a.createElement("br",null),r.a.createElement("br",null)," and holding the button down to indicate accuracy ratings. You will now have one more practice session. Get ready!",r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),' PRESS "Q"/YES WHEN READY TO CONTINUE.'))))}}var ai=ti;a(10);class ni extends n.Component{constructor(e){super(e),this.trialCompleteRenderer=(e,t)=>{let a=0;for(let n=0;n<t.length;n++)a+=t[n]==e[n]>0;return a>.7*e.length?r.a.createElement(l.a,{to:"/Continue_surprisal"}):r.a.createElement(l.a,{to:"/OnceMore_surprisal"})},this.dataHandler=(e,t,a,n,r,i)=>{S("practice_rating",e,t,a,n,r,i,this.startTimestamp)},this.startTimestamp=(new Date).getTime()}render(){return r.a.createElement(Ur,{audioSource:kt,shouldRecordRatings:!0,shouldRecordSurprisals:!0,trialCompleteRenderer:this.trialCompleteRenderer,dataHandler:this.dataHandler})}}var ri=ni,ii=a(10);const si=a(22),li=Pr.slice(0,21);class oi extends n.Component{constructor(e){super(e),this.trialCompleteRenderer=(e,t)=>(si.debug,r.a.createElement(l.a,{to:"/Break1"})),this.dataHandler=(e,t,a,n,r,i)=>{S(1,e,t,a,n,r,i,this.startTimestamp)},this.startTimestamp=(new Date).getTime(),this.state={decibels:ii.flatten(ii.slice(qr(),0,3))},console.log(qr()),console.log(this.state.decibels)}render(){return ii.isEmpty(this.state.decibels)?r.a.createElement(l.a,{to:"/Error"}):r.a.createElement(Ur,{audioSource:li,decibels:this.state.decibels,shouldRecordRatings:!0,shouldRecordSurprisals:!0,trialCompleteRenderer:this.trialCompleteRenderer,dataHandler:this.dataHandler})}}var ci=oi,ui=a(10);const mi=Pr.slice(21,42);class di extends n.Component{constructor(e){super(e),this.trialCompleteRenderer=(e,t)=>r.a.createElement(l.a,{to:"/Break2"}),this.dataHandler=(e,t,a,n,r,i)=>{S(2,e,t,a,n,r,i,this.startTimestamp)},this.startTimestamp=(new Date).getTime(),this.state={decibels:ui.flatten(ui.slice(qr(),3,6))}}render(){return ui.isEmpty(this.state.decibels)?r.a.createElement(l.a,{to:"/Error"}):r.a.createElement(Ur,{audioSource:mi,decibels:this.state.decibels,shouldRecordRatings:!0,shouldRecordSurprisals:!0,trialCompleteRenderer:this.trialCompleteRenderer,dataHandler:this.dataHandler})}}var hi=di,pi=a(10);const Ei=Pr.slice(42,63);class bi extends n.Component{constructor(e){super(e),this.trialCompleteRenderer=(e,t)=>r.a.createElement(l.a,{to:"/Break3"}),this.dataHandler=(e,t,a,n,r,i)=>{S(3,e,t,a,n,r,i,this.startTimestamp)},this.startTimestamp=(new Date).getTime(),this.state={decibels:pi.flatten(pi.slice(qr(),6,9))}}render(){return pi.isEmpty(this.state.decibels)?r.a.createElement(l.a,{to:"/Error"}):r.a.createElement(Ur,{audioSource:Ei,decibels:this.state.decibels,shouldRecordRatings:!0,shouldRecordSurprisals:!0,trialCompleteRenderer:this.trialCompleteRenderer,dataHandler:this.dataHandler})}}var fi=bi,gi=a(10);const wi=Pr.slice(63,84);class yi extends n.Component{constructor(e){super(e),this.trialCompleteRenderer=(e,t)=>r.a.createElement(l.a,{to:"/ThankYou"}),this.dataHandler=(e,t,a,n,r,i)=>{S(4,e,t,a,n,r,i,this.startTimestamp)},this.startTimestamp=(new Date).getTime(),this.state={decibels:gi.flatten(gi.slice(qr(),9,12))}}render(){return gi.isEmpty(this.state.decibels)?r.a.createElement(l.a,{to:"/Error"}):r.a.createElement(Ur,{audioSource:wi,decibels:this.state.decibels,shouldRecordRatings:!0,shouldRecordSurprisals:!0,trialCompleteRenderer:this.trialCompleteRenderer,dataHandler:this.dataHandler})}}var vi=yi;a(70);class Si extends n.Component{constructor(e){super(e),this.keyFunction=e=>{81===e.keyCode&&this.setState((e,t)=>({continue:!0}))},this.state={continue:!1}}componentDidMount(){document.addEventListener("keydown",this.keyFunction,!1)}componentWillUnmount(){document.removeEventListener("keydown",this.keyFunction,!1)}render(){return!0===this.state.continue?r.a.createElement(l.a,{to:"/Trial_TT_2"}):r.a.createElement("div",{className:"Break"},r.a.createElement("input",{type:"hidden"}),r.a.createElement("header",{className:"Break-header"},r.a.createElement("div",{className:"text-container"},r.a.createElement("p",{className:"Break-text"},"Great!",r.a.createElement("br",null),r.a.createElement("br",null)," Take a quick break. Three more to go!",r.a.createElement("br",null),r.a.createElement("br",null)," Remember: Continue to listen carefully and do the best you can.",r.a.createElement("br",null),r.a.createElement("br",null)," The task will continue to be difficult, but it is okay to guess and it is okay to be uncertain.",r.a.createElement("br",null),r.a.createElement("br",null)," Press ",r.a.createElement("b",null,' "Q"/YES ')," if you ",r.a.createElement("b",null," DO ")," hear the final note.",r.a.createElement("br",null),r.a.createElement("br",null)," Press ",r.a.createElement("b",null,' "E"/NO ')," if you ",r.a.createElement("b",null," DO NOT ")," hear the final note.",r.a.createElement("br",null),r.a.createElement("br",null)," If you hold the key down for a long time, the final note was a ",r.a.createElement("b",null," GOOD FIT "),".",r.a.createElement("br",null),r.a.createElement("br",null)," If you hold the key down for a short time, the final note was a ",r.a.createElement("b",null," BAD FIT "),".",r.a.createElement("br",null),r.a.createElement("br",null)," Please respond as ",r.a.createElement("b",null," QUICKLY ")," and as ",r.a.createElement("b",null," ACCURATELY ")," as you ",r.a.createElement("b",null," POSSIBLY CAN "),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),' PRESS "Q"/YES TO CONTINUE WITH THE NEXT PART'))))}}var xi=Si;class Ti extends n.Component{constructor(e){super(e),this.keyFunction=e=>{81===e.keyCode&&this.setState((e,t)=>({continue:!0}))},this.state={continue:!1}}componentDidMount(){document.addEventListener("keydown",this.keyFunction,!1)}componentWillUnmount(){document.removeEventListener("keydown",this.keyFunction,!1)}render(){return!0===this.state.continue?r.a.createElement(l.a,{to:"/Trial_TT_3"}):r.a.createElement("div",{className:"Break"},r.a.createElement("input",{type:"hidden"}),r.a.createElement("header",{className:"Break-header"},r.a.createElement("div",{className:"text-container"},r.a.createElement("p",{className:"Break-text"},r.a.createElement("br",null),r.a.createElement("br",null)," Great!!! Take a quick break. Two more to go!",r.a.createElement("br",null),r.a.createElement("br",null)," Remember: Continue to listen carefully and do the best you can.",r.a.createElement("br",null),r.a.createElement("br",null)," The task will continue to be difficult, but it is okay to guess and it is okay to be uncertain.",r.a.createElement("br",null),r.a.createElement("br",null)," Press ",r.a.createElement("b",null,' "Q"/YES ')," if you ",r.a.createElement("b",null," DO ")," hear a tone.",r.a.createElement("br",null),r.a.createElement("br",null)," Press ",r.a.createElement("b",null,' "E"/NO ')," if you ",r.a.createElement("b",null," DO NOT ")," hear a tone.",r.a.createElement("br",null),r.a.createElement("br",null)," If you hold the key down for a long time, the final note was a ",r.a.createElement("b",null," GOOD FIT "),".",r.a.createElement("br",null),r.a.createElement("br",null)," If you hold the key down for a short time, the final note was a ",r.a.createElement("b",null," BAD FIT "),".",r.a.createElement("br",null),r.a.createElement("br",null)," Please respond as ",r.a.createElement("b",null," QUICKLY ")," and as ",r.a.createElement("b",null," ACCURATELY ")," as you ",r.a.createElement("b",null," POSSIBLY CAN "),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),' PRESS "Q"/YES TO CONTINUE WITH THE NEXT PART'))))}}var ki=Ti;class Ci extends n.Component{constructor(e){super(e),this.keyFunction=e=>{81===e.keyCode&&this.setState((e,t)=>({continue:!0}))},this.state={continue:!1}}componentDidMount(){document.addEventListener("keydown",this.keyFunction,!1)}componentWillUnmount(){document.removeEventListener("keydown",this.keyFunction,!1)}render(){return!0===this.state.continue?r.a.createElement(l.a,{to:"/Trial_TT_4"}):r.a.createElement("div",{className:"Break"},r.a.createElement("input",{type:"hidden"}),r.a.createElement("header",{className:"Break-header"},r.a.createElement("div",{className:"text-container"},r.a.createElement("p",{className:"Break-text"},"Great!",r.a.createElement("br",null),r.a.createElement("br",null)," Take a quick break. One more to go!",r.a.createElement("br",null),r.a.createElement("br",null)," Remember: Continue to listen carefully and do the best you can.",r.a.createElement("br",null),r.a.createElement("br",null)," The task will continue to be difficult, but it is okay to guess and it is okay to be uncertain.",r.a.createElement("br",null),r.a.createElement("br",null)," Press ",r.a.createElement("b",null,' "Q"/YES ')," if you ",r.a.createElement("b",null," DO ")," hear a tone.",r.a.createElement("br",null),r.a.createElement("br",null)," Press ",r.a.createElement("b",null,' "E"/NO ')," if you ",r.a.createElement("b",null," DO NOT ")," hear a tone.",r.a.createElement("br",null),r.a.createElement("br",null)," If you hold the key down for a long time, the final note was a ",r.a.createElement("b",null," GOOD FIT "),".",r.a.createElement("br",null),r.a.createElement("br",null)," If you hold the key down for a short time, the final note was a ",r.a.createElement("b",null," BAD FIT "),".",r.a.createElement("br",null),r.a.createElement("br",null)," Please respond as ",r.a.createElement("b",null," QUICKLY ")," and as ",r.a.createElement("b",null," ACCURATELY ")," as you ",r.a.createElement("b",null," POSSIBLY CAN "),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),' PRESS "Q"/YES TO CONTINUE WITH THE NEXT PART'))))}}var Ri=Ci,Ni=(a(426),a(74));const Ii=a(22);var Oi=a(10);class _i extends n.Component{constructor(e){super(e),this.keyFunction=e=>{81===e.keyCode&&this.setState((e,t)=>({continue:!0}))},this.state={continue:!1,invalid:!1,sentData:!1,link:void 0}}componentDidMount(){document.addEventListener("keydown",this.keyFunction,!1);const e=x(),t=function(){const e=b.clone(N.store);return e.taskName=E.taskName,e.taskVersion=E.taskVersion,e.visualStim=d,e.auditoryStim=h,JSON.stringify(e)}();if(m?this.setState({link:"link"}):Oi.isUndefined(T())?Object(Ni.a)(e).then(e=>this.setState({link:e})):this.setState({link:T()}),!k())return Ii.debug&&(console.log("encrypted metadata: "+e),console.log("store export: "+t),console.log("localStorage: "+JSON.stringify(localStorage))),R()?m?(C(!0),this.setState({sentData:!0}),void I()):void Object(Ni.b)(e,t).then(()=>{C(!0),this.setState({sentData:!0}),I()}):(N.clear(),void this.setState({invalid:!0}));this.setState({sentData:!0})}componentWillUnmount(){document.removeEventListener("keydown",this.keyFunction,!1)}render(){if(this.state.invalid)return r.a.createElement(l.a,{to:"/Error"});if(this.state.continue)window.location.assign(this.state.link);else if(!this.state.sentData||Oi.isUndefined(this.state.link))return r.a.createElement("div",{className:"ThankYou"},r.a.createElement("p",{className:"ThankYou-text"},"Loading..."));return r.a.createElement("div",{className:"ThankYou"},r.a.createElement("input",{type:"hidden"}),r.a.createElement("header",{className:"ThankYou-header"},r.a.createElement("div",{className:"text-container"},r.a.createElement("p",{className:"ThankYou-text"},r.a.createElement("span",{className:"bigger"}," The experiment is over. Thank you for taking part in the study! "),r.a.createElement("br",null),r.a.createElement("br",null)," Please ",r.a.createElement("a",{href:this.state.link},"click here")," or press 'Q' to return to the survey.")),r.a.createElement("a",{href:"https://medicine.yale.edu/psychiatry/care/cmhc/",title:"Learn more about the Connecticut Mental Health Center",target:"_blank",rel:"noopener noreferrer"},r.a.createElement("img",{src:c.a,className:"Site-link",alt:"logo"}))))}}var Di=_i,Pi=(a(443),()=>r.a.createElement("div",{className:"Error"},r.a.createElement("h3",null,"Something went wrong. Please try again."))),Li=()=>r.a.createElement(l.d,null,r.a.createElement(l.b,{path:"/",exact:!0,component:P}),r.a.createElement(l.b,{path:"/Welcome",exact:!0,component:P}),r.a.createElement(l.b,{path:"/Instructions",exact:!0,component:Y}),r.a.createElement(l.b,{path:"/Trial_P",exact:!0,component:jr}),r.a.createElement(l.b,{path:"/OnceMore",exact:!0,component:$r}),r.a.createElement(l.b,{path:"/Continue",exact:!0,component:M}),r.a.createElement(l.b,{path:"/Trial_P_rating",exact:!0,component:Vr}),r.a.createElement(l.b,{path:"/OnceMore_rating",exact:!0,component:ei}),r.a.createElement(l.b,{path:"/Continue_rating",exact:!0,component:q}),r.a.createElement(l.b,{path:"/Trial_P_surprisal",exact:!0,component:ri}),r.a.createElement(l.b,{path:"/OnceMore_surprisal",exact:!0,component:ai}),r.a.createElement(l.b,{path:"/Continue_surprisal",exact:!0,component:Q}),r.a.createElement(l.b,{path:"/TrialQ",exact:!0,component:Kr}),r.a.createElement(l.b,{path:"/Complete",exact:!0,component:U}),r.a.createElement(l.b,{path:"/Trial_TT_1",exact:!0,component:ci}),r.a.createElement(l.b,{path:"/Break1",exact:!0,component:xi}),r.a.createElement(l.b,{path:"/Trial_TT_2",exact:!0,component:hi}),r.a.createElement(l.b,{path:"/Break2",exact:!0,component:ki}),r.a.createElement(l.b,{path:"/Trial_TT_3",exact:!0,component:fi}),r.a.createElement(l.b,{path:"/Break3",exact:!0,component:Ri}),r.a.createElement(l.b,{path:"/Trial_TT_4",exact:!0,component:vi}),r.a.createElement(l.b,{path:"/ThankYou",exact:!0,component:Di}),r.a.createElement(l.b,{path:"/Error",exact:!0,component:Pi}),r.a.createElement(l.b,{component:F}));class Yi extends n.Component{render(){return r.a.createElement("div",null,r.a.createElement(Li,null))}}var Fi=Yi,Ai=a(4),Ui=a(9);const Hi=Object(Ui.a)();Object({NODE_ENV:"production",PUBLIC_URL:"/mch_app",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).NODE_CONFIG_DIR="../config",s.a.render(r.a.createElement(Ai.a,{history:Hi,basename:"/mch_app"},r.a.createElement(Fi,null)),document.getElementById("root"))}]),[[267,1,2]]]);
//# sourceMappingURL=main.c032e28f.chunk.js.map